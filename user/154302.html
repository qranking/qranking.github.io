<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (0w0)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (0w0 さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><a href="#" onclick="javascript:window.history.back(-1);return false;">[戻る]</a></p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>0w0さんの<br />1位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>172</kbd>
		<a target="_blank" href="https://qiita.com/0w0/items/c6a47c9da3b37c99b0dd">【便乗記事】エンジニアがデスマーチを生き抜くための知見をまとめてみた　</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-11-05 14:59:06</center>
	</td>
	<td style="width:200px;">
		@0w0<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/154302/profile-images/1505133762">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[プロジェクト管理]</b> <b>[マネジメント]</b> <b>[エンジニア]</b> <b>[生存戦略]</b> <b>[デスマーチ]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="inspire-the-next" class="fragment"></span><a href="#inspire-the-next"><i class="fa fa-link"></i></a>Inspire the Next,</h2>

<blockquote>

<h3>
<span id="デスマサバイバルガイド" class="fragment"></span><a href="#%E3%83%87%E3%82%B9%E3%83%9E%E3%82%B5%E3%83%90%E3%82%A4%E3%83%90%E3%83%AB%E3%82%AC%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a><a href="http://blog.satotaichi.info/death-march_survival-guide/" rel="nofollow noopener" target="_blank">デスマサバイバルガイド</a>
</h3>

<p>僕はもう長い事デスマーチに関わることなく生きられているが、徐々に忘れつつあるので、若いころに獲得したデスマーチを生き残る方法論について記録しておく。</p>
</blockquote>

<p>良記事でござんした。<br>
大変良い刺激を受けたので、私も一つインスパイア的な記事を書いてみる次第。</p>

<h2>
<span id="使用上のご注意" class="fragment"></span><a href="#%E4%BD%BF%E7%94%A8%E4%B8%8A%E3%81%AE%E3%81%94%E6%B3%A8%E6%84%8F"><i class="fa fa-link"></i></a>使用上のご注意</h2>

<ul>
<li>当記事は炎上時の極限状態に対する対処療法集です</li>
<li>主な対象者として炎上案件に放り込まれた末端メンバーを想定しています

<ul>
<li>一部マネジメントの話題も含みます。鎮火を命じられたPMにとっても役立つ点がある筈</li>
</ul>
</li>
<li>インスパイア元同様、当記事も経験則を多分に含みます。活用は自己責任でｵﾅｼｬｽ</li>
<li>目の前の炎上に貴方の人生を賭けて良いかどうか、よく考えた上でご利用ください</li>
<li><del>けっきょくもやさないのがいちばんだいじなんだよなあ　みつを</del></li>
</ul>

<h2>
<span id="まず頭に入れて欲しい残業の知識" class="fragment"></span><a href="#%E3%81%BE%E3%81%9A%E9%A0%AD%E3%81%AB%E5%85%A5%E3%82%8C%E3%81%A6%E6%AC%B2%E3%81%97%E3%81%84%E6%AE%8B%E6%A5%AD%E3%81%AE%E7%9F%A5%E8%AD%98"><i class="fa fa-link"></i></a>まず頭に入れて欲しい残業の知識</h2>

<p>Twitterや匿名掲示板等のネット世論では「残業辛いわー、弊社マジファックだわー」みたいな意見が主流なので誤解しがちなのだが、実は<a href="http://www.rieti.go.jp/jp/publications/nts/16e037.html" rel="nofollow noopener" target="_blank"><strong>「残業はすればするほど仕事の満足度は上昇する（ただしメンタルはブッ壊れる）」</strong></a>という政策シンクタンクの研究がある。信じがたいことかも知れないが、<strong>そもそも人間は残業を「辛い」と感じるとは限らず、むしろ充足感を覚える場合が少なくない。</strong></p>

<p>「ハッピーならいいじゃん」と思う人もいるだろうが、よく上記の文章を読んで欲しい。<strong>「(ただしメンタルはブッ壊れる)」</strong>のである。ハッピーだからといって健康被害が無くなる訳ではない。ワーカーホリックが無くならない原因がここにある。</p>

<p>要は何が言いたいのかと言うと、<strong>「まだ働けないほど辛くないから大丈夫」「仕事が楽しいから大丈夫」という主観的な感覚は全くアテにならない</strong>ということである。大抵の人間は「おかしくなったら無理をやめる」という安直な戦略をとりがちだが、これは過労でおかしくなるルートの入り口である。長時間労働に晒された人間は、<strong>「おかしい」と感じてから行動するのではなく、予防措置を最優先にして立ち回らなければならない。</strong><sup id="fnref1"><a href="#fn1" rel="footnote" title="なお、「メンバーの様子を客観的に観察する」という行為が本来ならPMの業務であることは言うまでもない。">1</a></sup><br>
「自分自身でダメだと気付いた時」には、もう手遅れなのだ。</p>

<ul>
<li>「まだ大丈夫」という自分の感覚を信用しない</li>
<li>何事も予防的に行動する</li>
</ul>

<p>まずはこの2点を行動原理として徹底的に叩き込んで欲しい。</p>

<p>この意識付けは自身を守るだけでなくプロジェクトの鎮火にも役立つ。大半のデスマーチは危機予測能力の不足により発生する為である。</p>

<h2>
<span id="守るべき優先順位" class="fragment"></span><a href="#%E5%AE%88%E3%82%8B%E3%81%B9%E3%81%8D%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D"><i class="fa fa-link"></i></a>守るべき優先順位</h2>

<p>以上の前提を踏まえつつ、炎上下では以下2点の維持を最優先事項とする。</p>

<ul>
<li>理性的な判断を下せる健全な精神</li>
<li>精神を支える正常な肉体</li>
</ul>

<p>これもまた前段同様、自身の為だけではなく、</p>

<ul>
<li>極論・過激思想の発生</li>
<li>メンバー同士の感情的なコンクリフト</li>
<li>計画能力の喪失と出口戦略の欠如</li>
<li>ケアレスミスの多発</li>
<li>弱った組織を狙う「悪い人たち」の暗躍</li>
</ul>

<p>等々、「残業が残業を増やす」ファクターを一網打尽に出来る故の措置である。綺麗事ではなく、「メンバー個人の健全性」は炎上そのものを食い止める為の第一歩であるということを意識しなければならない。</p>

<h2>
<span id="とは言うものの" class="fragment"></span><a href="#%E3%81%A8%E3%81%AF%E8%A8%80%E3%81%86%E3%82%82%E3%81%AE%E3%81%AE"><i class="fa fa-link"></i></a>とは言うものの…</h2>

<p>そもそも「健全性」を保証できる組織であればデスマーチなんて発生する訳もなく…。実際には、「健全ではない環境」において出来る限り精神と肉体を維持する為の生活設計を考案する必要性が出てくる。</p>

<p>というわけで、ここからは極限状態における生活手法についてTipsを記述する。繰り返しになるが、これらはあくまで対処療法に過ぎない。目の前の修羅場に人生を賭けるべきか否か、「正常」なうちに判断してから使うこと。</p>

<h2>
<span id="食生活について" class="fragment"></span><a href="#%E9%A3%9F%E7%94%9F%E6%B4%BB%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>食生活について</h2>

<ul>
<li>当たり前だが炎上時こそ真っ当な食事が大事

<ul>
<li>疲労が蓄積した人間は行動が極端になりやすく、ラーメン等の高カロリー食や、逆に「二食抜き」等の超小食生活に走りやすい。過不足無く「意識的に」食品を摂取すること</li>
</ul>
</li>
<li>
<strong>腸内フローラ超大事。</strong>腸に負担がないだけでストレス耐性が劇的に増加する。女子の様に気を使おう

<ul>
<li>やはり野菜は優秀。整腸作用のみならず、ビタミンその他においても優れた栄養素を持っている。<strong>せめて野菜ジュースでもよいので積極的に摂取する</strong>
</li>
<li>食物繊維はトクホ飲料やドラッグストアの怪しい健康食品（<a href="https://www.kobayashi.co.jp/brand/easyfiber/" rel="nofollow noopener" target="_blank"><strong>「イージーファイバー」</strong></a>や<a href="https://www.otsuka.co.jp/product/kenja_no/" rel="nofollow noopener" target="_blank"><strong>「賢者の食卓」</strong></a>などの粉もの）でも摂取可能</li>
<li>というか、そうでもしないと必要量の摂取は難しい。コンビニサラダに含まれるキャベツの千切りは<a href="https://yase.tech/1866.html" rel="nofollow noopener" target="_blank">食物繊維が意外に少ない</a>ので注意</li>
</ul>
</li>
</ul>

<h4>
<span id="そんな面倒なこと出来るかというアナタは" class="fragment"></span><a href="#%E3%81%9D%E3%82%93%E3%81%AA%E9%9D%A2%E5%80%92%E3%81%AA%E3%81%93%E3%81%A8%E5%87%BA%E6%9D%A5%E3%82%8B%E3%81%8B%E3%81%A8%E3%81%84%E3%81%86%E3%82%A2%E3%83%8A%E3%82%BF%E3%81%AF"><i class="fa fa-link"></i></a>「そんな面倒なこと出来るか！」というアナタは…</h4>

<ul>
<li>どうしても真っ当な食事できない場合、<strong>液体の完全栄養食</strong>を活用する

<ul>
<li>エンジニア界隈だと<a href="https://ja.wikipedia.org/wiki/%E3%82%BD%E3%82%A4%E3%83%AC%E3%83%B3%E3%83%88" rel="nofollow noopener" target="_blank"><strong>「Soylent」</strong></a>や<a href="http://www.comp.jp/" rel="nofollow noopener" target="_blank"><strong>「COMP」</strong></a>が有名だが、これらは職場近くの小売店で手に入らず、長時間労働下での調達が難しい。調達出来ない場合はコンビニやドラッグストアで流通している<a href="http://www.meiji.co.jp/meiji-eiyoucare/products/nutritionfood/meibalance_mini/" rel="nofollow noopener" target="_blank"><strong>「メイバランス」</strong></a>や<a href="http://www.morinagamilk-carefoods.jp/climeal/" rel="nofollow noopener" target="_blank"><strong>「クリミール」</strong></a>を使う</li>
<li>これらは病院食・介護食に使われる商品。消化が良く、胃腸に負担をかけない。<a href="https://yama-navi.blogspot.jp/2015/01/ration.html" rel="nofollow noopener" target="_blank">行動食として勧める登山家もいる</a>くらいなので糧食としては優秀</li>
<li>ただし、上記商品はCOMP等と違って<strong>三食置き換えはできない。</strong>あくまで補助食品と割り切ること（それでも不摂生な食生活よりよほどマシだが…）</li>
<li>なお、各完全栄養食品の栄養バランスは<a href="https://www.yogurtgeek.com/entry/comp-comparison/" rel="nofollow noopener" target="_blank">このサイト</a>が詳しい</li>
</ul>
</li>
<li>菓子パンオンリー生活はNG。腹はふくれてもいずれあらゆる部分がイカれるのでやめよう。<strong>死ぬぞ</strong>
</li>
</ul>

<h2>
<span id="睡眠について" class="fragment"></span><a href="#%E7%9D%A1%E7%9C%A0%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>睡眠について</h2>

<ul>
<li>家に帰ったら風呂入ってさっさと寝る。何もしないで寝る。とっとと寝る</li>
<li>睡眠時間のプライオリティは非常に高い。<strong>寝るだけで高残業によるリスクは大部分回避できる。</strong>特に高残業下ではダラダラと単純作業を続ける癖がついてしまうので、意識的にブレーカーを落とそう

<ul>
<li>寝る前のネットサーフィンはNG</li>
<li>ソシャゲもNG</li>
<li>勉強もNG。調子こいてないでとっとと寝よう</li>
</ul>
</li>
<li>安眠の為にブルーライトは可能な限りカットする

<ul>
<li>iPhoneやMacはNightShiftをONにする</li>
<li>ルールが許すなら、職場PCにブルーライトカットのアプリを仕込むのも効果的</li>
<li>単純に画面の明るさを落とすだけでも目疲れ・睡眠の質は改善できる</li>
</ul>
</li>
<li>完徹が求められる場合でも必ず仮眠を取る

<ul>
<li>15分寝るだけでも業務の処理効率が全く違う</li>
</ul>
</li>
</ul>

<h2>
<span id="風呂について" class="fragment"></span><a href="#%E9%A2%A8%E5%91%82%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>風呂について</h2>

<ul>
<li>インスパイア元の記事にも特記があるが、風呂にはなるべく入った方がよい（これは私自身も実感アリ）

<ul>
<li>ただし無理は禁物。風呂場で眠り込み、溺れ死ぬリスクだけには注意しよう</li>
<li>科学的には<a href="https://ja.wikipedia.org/wiki/%E7%86%B1%E3%82%B7%E3%83%A7%E3%83%83%E3%82%AF%E3%82%BF%E3%83%B3%E3%83%91%E3%82%AF%E8%B3%AA" rel="nofollow noopener" target="_blank">HSP（ヒートショックプロテイン）</a>の作用が良い影響を与えるとか</li>
<li>
<a href="https://travel.spot-app.jp/tokyo_sento_yoppy/" rel="nofollow noopener" target="_blank">交互浴</a>はより劇的な効果が出る可能性があるが、過労時にやると心臓発作で死ぬ可能性が高いのでオススメはしない…</li>
</ul>
</li>
</ul>

<h2>
<span id="業務について" class="fragment"></span><a href="#%E6%A5%AD%E5%8B%99%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>業務について</h2>

<ul>
<li>定期休憩重要。長時間労働が続く時はダラダラと無限に働き続けてしまう為、無理矢理休んでメリハリを付けること

<ul>
<li>休憩は業務効率に寄与するとされるが、最も効果的なスパンは諸説ある</li>
<li>結局は「定期的に休憩を取る」という仕組み作りが一番大切なので、色々試してしっくりするものを選ぶのが良い（最近は<a href="http://d.hatena.ne.jp/keyword/%A5%DD%A5%E2%A5%C9%A1%BC%A5%ED%A5%C6%A5%AF%A5%CB%A5%C3%A5%AF" rel="nofollow noopener" target="_blank"><strong>「ポモドーロ・テクニック」</strong></a>が流行ってるらしいよ！）</li>
</ul>
</li>
<li>休憩時はスマホを見ない。本も読まない。何もしない

<ul>
<li>考えることもガマンする。飽きてもガマンする。すると…</li>
<li>
<strong>烈海王「奇跡が起こる」</strong>…もとい、尋常じゃなく回復する。騙されたと思って試してみよう！</li>
</ul>
</li>
<li>休憩時間が足りないときは<a href="https://yuchrszk.blogspot.jp/2017/03/blog-post_31.html" rel="nofollow noopener" target="_blank"><strong>「注意訓練」</strong></a>がリフレッシュにオススメ。疲労時特有のグルグル思考を止め、意識をキャリブレーションしてくれる

<ul>
<li>ハマれば効果は絶大で、効率性が上がる為に「時間の経過が遅くなる」ような錯覚を覚えることも…（ただし、「いつまで経っても一日が終わらない」という恐ろしい副作用も出るので注意）</li>
<li>私個人はリンク先の「注意切り替え」→「注意分割」を仕事の合間に3分、というセットをよく使う</li>
</ul>
</li>
<li>障害対応等で休憩できる状況にない場合は<a href="http://yuchrszk.blogspot.jp/2017/10/blog-post_4.html" rel="nofollow noopener" target="_blank"><strong>「タスクシフト」</strong></a>を多用する。同じ仕事で精神が摩耗することだけは避けよう</li>
</ul>

<h2>
<span id="計画について" class="fragment"></span><a href="#%E8%A8%88%E7%94%BB%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>計画について</h2>

<ul>
<li>このTipsはどちらかと言えばPM向けの話</li>
<li>炎上の長期化が目に見えているなら、<strong>計画能力の復旧は最優先に行った方が良い</strong>

<ul>
<li>「無計画な200時間/月」と「計画的な200時間/月」の労働では、同じ労働時間でも圧倒的に負担量が変わる</li>
<li>「暗闇の中で手探りしながら目的地まで歩く」のと「明るい場所を目的地まで歩く」のでは、<strong>全く同じ距離でも疲弊感が違う</strong>のと一緒</li>
<li>精度が低い杜撰な計画でも「自分の想定と実績にどれほど乖離があったのか」という事実を定量的に分析できるだけで鎮火速度はずっと早くなる。この軌道修正能力の獲得が、炎上時において最も大事</li>
<li><strong>計画は「守れている」時ではなく「守れなかった」際に最も効力を発揮する</strong></li>
<li>低品質の計画の提示が憚られる環境なら隠れてでもセルフ運用しよう</li>
</ul>
</li>
</ul>

<h2>
<span id="ひみつどうぐもとい栄養ドリンク等について" class="fragment"></span><a href="#%E3%81%B2%E3%81%BF%E3%81%A4%E3%81%A9%E3%81%86%E3%81%90%E3%82%82%E3%81%A8%E3%81%84%E6%A0%84%E9%A4%8A%E3%83%89%E3%83%AA%E3%83%B3%E3%82%AF%E7%AD%89%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>ひみつどうぐ（もとい、栄養ドリンク等について）</h2>

<ul>
<li>インスパイア元にもある通り、エナジードリンクは糖質とカフェインが多い

<ul>
<li>前者は血糖値の上下によってパフォーマンスにムラが発生し、後者は中毒化の恐れがある。つまりオススメしかねる</li>
</ul>
</li>
<li>これもまたインスパイア元と同様に、胃を壊しにくくカフェインが過剰でないお茶がオススメ

<ul>
<li>特に緑茶は<a href="https://ja.wikipedia.org/wiki/%E3%83%86%E3%82%A2%E3%83%8B%E3%83%B3" rel="nofollow noopener" target="_blank">テアニン</a>を含み、抗ストレスやパフォーマンスに良質な影響を与える</li>
</ul>
</li>
<li>同様に、カフェインと糖質が主体となる安い栄養ドリンクもオススメできない

<ul>
<li>リポD十本買うよりは「少し変かも」という時に1〜2本ちょい高めのドリンク or サプリを飲む方がオススメ（常飲はNG。1週間に1〜2本程度に留める）</li>
<li>なお、インスパイア元に「高いドリンクで鼻血云々」とあるが、それは服用上限を無視した or 別の病気が疑われるので、普通に医者行った方が良いかと…</li>
</ul>
</li>
<li>コンビニだと<strong>アルミパウチの錠剤サプリがコスパ良し</strong>

<ul>
<li>
<a href="http://hc.kowa.co.jp/otc/9755" rel="nofollow noopener" target="_blank">「キューピーコーワゴールド」</a>とか<a href="http://search.sato-seiyaku.co.jp/pub/search/dispproduct.php?productid=975&amp;ref=Command%3Dlistup%26SubCommand%3Dfreeword%26keyword%3D%25A5%25E6%25A5%25F3%25A5%25B1%25A5%25EB%26page%3D" rel="nofollow noopener" target="_blank">「ユンケルローヤル錠」</a>とか（ただしカフェイン入りなので量に注意）</li>
<li>ドラッグストアじゃないと手に入らないが、錠剤系だと<a href="http://alinamin.jp/lineup/alinaminexplus.html" rel="nofollow noopener" target="_blank">「アリナミンEX」</a>（か、その<a href="http://good-vitamin.net/neovitamin-ex-2/" rel="nofollow noopener" target="_blank">ジェネリック品</a>）が初心者でも効果を実感しやすい。<strong>フルスルチアミンはいいぞ</strong>
</li>
<li>やたら店が推してくる怪しい栄養ドリンク類も、生薬入りの割には非常にコスパが良い（<a href="http://www.kyoleopin.jp/" rel="nofollow noopener" target="_blank">「キヨーレオピン」</a>や<a href="http://www.kegg.jp/medicus-bin/japic_otc?japic_code=J0601005126" rel="nofollow noopener" target="_blank">「活蔘28」</a>など…）</li>
<li>なお、ユンケルスター等の最高級ドリンクは価格に見合う性能がないと思ってる（数回服用経験あり）。謎のリンゴ味で高級感はあるんだけどね…</li>
</ul>
</li>
<li>リスクを乗りこなせれば、なんだかんだでカフェインは強力無比。中毒などの副作用に適切な注意を払える人は<a href="https://www.ssp.co.jp/product/all/estm-t/" rel="nofollow noopener" target="_blank">「エスタロンモカ」</a>や<a href="https://togetter.com/li/1078356" rel="nofollow noopener" target="_blank">「トメルミン（絶対カフェイン中毒にするマン）」</a>の使用を検討してもよいかもしれない

<ul>
<li>上記をコーヒーやエナジードリンク等と併用するとあっという間に中毒化するのでやめよう</li>
</ul>
</li>
<li>少し入手難度が上がるが、ボディビルダーが使う「BCAA」「グルタミン」「アルギニン」も疲労回復に効く</li>
<li>直接的な疲労回復ではないが、「グリシン」というアミノ酸は睡眠の質を上げるとされる（いわゆる眠剤ではないので不眠には余り効果が無いが…）</li>
<li>ガチ勢はアメリカから多種多様なサプリ（主に<a href="https://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%9E%E3%83%BC%E3%83%88%E3%83%89%E3%83%A9%E3%83%83%E3%82%B0" rel="nofollow noopener" target="_blank">スマートドラッグ</a>と呼ばれるもの）を個人輸入する。…が、この世界は沼なのでオススメはできない</li>
<li>所詮サプリ、されどサプリ。効果に過度な期待をせず、逆に副作用には敏感になるくらいがちょうど良い</li>
</ul>

<h2>
<span id="最後に忘れちゃいけない当たり前の話特にpm" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB%E5%BF%98%E3%82%8C%E3%81%A1%E3%82%83%E3%81%84%E3%81%91%E3%81%AA%E3%81%84%E5%BD%93%E3%81%9F%E3%82%8A%E5%89%8D%E3%81%AE%E8%A9%B1%E7%89%B9%E3%81%ABpm"><i class="fa fa-link"></i></a>最後に、忘れちゃいけない当たり前の話（特にPM）</h2>

<p>長時間労働で健康や精神状態を害さない最善の方法は、<strong>そもそも炎上させないこと</strong>である。<br>
「それが一番難しい」と思考停止する人も少なくないが、ぶっちゃけ炎上を鎮火させるのだってめちゃくちゃに難しい。近眼的な業務態度を持つ人や重度のワーカーホリックを増やしてしまう「後遺症」を考えると、今後を含めたトータル難度でいえば「炎上させない業務設計」の方がよほどイージーモードだとさえ言える。</p>

<p>全て燃え尽きた後で案件を振り返ると、燃える前に面倒を嫌わなければ大成功を収めていたであろうケースも少なくない。結局は「先に面倒を抱えて成功するか」「遠くない未来、なし崩し的に面倒と付き合うか」という二択の選択ミスが大半の炎上を引き起こす原因である。この記事を読んだあなたは、くれぐれもこの二択について明確な意思を持ってチームの業務に取り組んで欲しい。例えあなたが末端構成員で、目の前の出来事に決定権が無いように思えても意思は必ず周囲に伝播する。（言うまでも無くPMならなおさらである）</p>

<p>もし正しい意思を通そうとして、それでも駄目ならどうするかって？<br>
いざという時に「適切な道」を選び直す体力を残すために、この記事のノウハウがあるのでございますよ。グッドラック！</p>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>なお、「メンバーの様子を客観的に観察する」という行為が本来ならPMの業務であることは言うまでもない。 <a href="#fnref1">↩</a></p>
</li>

</ol>
</div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>0w0さんの<br />2位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>168</kbd>
		<a target="_blank" href="https://qiita.com/0w0/items/f2aafd0d9a5fa95f7c24">【よいこのオマケ記事】超短期型タスク管理をカバーする！すてきな中長期計画法</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-09-18 20:16:40</center>
	</td>
	<td style="width:200px;">
		@0w0<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/154302/profile-images/1505133762">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[todo]</b> <b>[プロジェクト管理]</b> <b>[Management]</b> <b>[タスク管理]</b> <b>[プロジェクトマネジメント]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="前回までのあらすじ" class="fragment"></span><a href="#%E5%89%8D%E5%9B%9E%E3%81%BE%E3%81%A7%E3%81%AE%E3%81%82%E3%82%89%E3%81%99%E3%81%98"><i class="fa fa-link"></i></a>前回までのあらすじ</h2>

<p>先日、<a href="http://qiita.com/0w0/items/0b287be30af6539ac5e9" id="reference-3fe5e31f2a355f84d871">プロジェクトの残業を50%削減したタスク管理手法を惜しみなく公開する</a>という記事で、私的に上手く行ったタスク管理手法を紹介した。幸いな事に概ね好評だったようだが、「中長期管理はどうしてるの？」という意見を多数見かけたので、オマケとしてちょこっと書いてみる次第。<br>
※前記事の流れを踏まえるので、予め読んで頂いた方が理解がスムーズかも？</p>

<p>ちなみに、中長期計画は案件状況によって管理手法を大きく変えた方が良いと思っているので、あくまで「手法の一つ」と捉えて貰えると嬉しい。なお、期間の単位は2〜3ヶ月程度を想定する。（なので、どちらかといえば「中期」に該当する考え方がメインとなる）</p>

<h2>
<span id="タスク管理と中長期管理の守備範囲について" class="fragment"></span><a href="#%E3%82%BF%E3%82%B9%E3%82%AF%E7%AE%A1%E7%90%86%E3%81%A8%E4%B8%AD%E9%95%B7%E6%9C%9F%E7%AE%A1%E7%90%86%E3%81%AE%E5%AE%88%E5%82%99%E7%AF%84%E5%9B%B2%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>タスク管理と中長期管理の守備範囲について</h2>

<p>RPG的っぽい雑な例えを持ち出すと、「突発的にエンカウントするモンスターの対処」が<a href="http://qiita.com/0w0/items/0b287be30af6539ac5e9">前記事</a>の領域で、「ストーリー、イベント進行の段取り」が当記事の領域と区別している。それぞれの特徴を挙げると次の通り。</p>

<h3>
<span id="前記事のタスク管理" class="fragment"></span><a href="#%E5%89%8D%E8%A8%98%E4%BA%8B%E3%81%AE%E3%82%BF%E3%82%B9%E3%82%AF%E7%AE%A1%E7%90%86"><i class="fa fa-link"></i></a>前記事のタスク管理</h3>

<ul>
<li>目先のタスク対応が関心事</li>
<li>一番細かい粒度で運用</li>
<li>変更量が多い</li>
<li>内部メンバー向け</li>
<li>カジュアルに回せる</li>
<li>チーム全体がオーナー(とはいえ、管理側でガイドは実施する) </li>
<li>棚卸はデイリーミーティングベース</li>
</ul>

<h3>
<span id="中長期管理" class="fragment"></span><a href="#%E4%B8%AD%E9%95%B7%E6%9C%9F%E7%AE%A1%E7%90%86"><i class="fa fa-link"></i></a>中長期管理</h3>

<ul>
<li>案件成功までの段取り、全体状況の俯瞰が関心事</li>
<li>粒度は中〜大</li>
<li>変更量が少ない</li>
<li>外部ステークスホルダ向け（上司や顧客）　※ただし、内部メンバーも閲覧するよ！</li>
<li>フォーマルに回す必要がある</li>
<li>マネージャがオーナー</li>
<li>棚卸はウィークリーミーティングベース（隔週のパターンもあるよ！）</li>
</ul>

<p>責務の違いは色々あれど、特に大きな違いとして<strong>中長期管理は部外者とのスムーズな情報共有が解決すべき課題として含まれる。</strong>現場からすれば他愛もない課題に部外者が「どうなってるんだ」「大丈夫なのか」「ええい俺が陣頭指揮してやる！」と出しゃばって問題がよりややこしくなった経験、あるでしょう？？？<br>
このような責務の違いは単一の管理手法では吸収が難しい。そこで、私が管理する案件では以下の手順で中長期計画を管理している。</p>

<h2>
<span id="1-マイルストーンを洗い出す" class="fragment"></span><a href="#1-%E3%83%9E%E3%82%A4%E3%83%AB%E3%82%B9%E3%83%88%E3%83%BC%E3%83%B3%E3%82%92%E6%B4%97%E3%81%84%E5%87%BA%E3%81%99"><i class="fa fa-link"></i></a>1. マイルストーンを洗い出す</h2>

<p><a href="http://qiita.com/0w0/items/0b287be30af6539ac5e9">前記事</a>では「アンチパターン」として記述した「○○の基本設計」「○○の要件定義」等の抽象度が強い作業を洗い出し、WBS等に書き出す。体裁は予定と実績が管理できれば何でもよし。粒度は4〜5営業日が手頃だが、大きさよりも適切にカテゴライズされていることの方が大事。ぶっちゃけ粒度がもっと大きくてもたぶん回るが、部外者から「粗い」と文句を言われるリスクが高まるのでオススメしない。</p>

<p>ポイントは、前記事タスクより粒度を1〜2回り大きくすることと、「外部から見た関心事」と一致しさせること。将来発生するであろう小タスク群を包み込む、抽象化された作業をイメージすると良い感じに作れる。</p>

<p>なお、ここで洗い出したタスクはできるだけ「マイルストーン」と呼ぶことにしている。これは後述するマイルストーンの品出しにおいて「内部的なプロセスに対して裁量を与えられているイメージを持って欲しい」という思いがあるから。ただし語彙の選択にはこだわりを持つ人もいるので、コンクリフトしそうなら使用を避ける。</p>

<h3>
<span id="前記事を読んだ人への補足" class="fragment"></span><a href="#%E5%89%8D%E8%A8%98%E4%BA%8B%E3%82%92%E8%AA%AD%E3%82%93%E3%81%A0%E4%BA%BA%E3%81%B8%E3%81%AE%E8%A3%9C%E8%B6%B3"><i class="fa fa-link"></i></a>※<a href="http://qiita.com/0w0/items/0b287be30af6539ac5e9">前記事</a>を読んだ人への補足</h3>

<p>前記事で「抽象化された重いタスクは切らない」と書いてしまったがために「中規模の管理は一切不要」と多くの人に勘違いさせてしまったのだが、要するに「メンバー個人には具体的な作業単位で物事を考えるようにさせた」と言う話で、抽象化されたレベルの進捗は今でもマネージャが管理している。（混乱させて正直すまんかった…）<br>
ちなみに、前記事における「改善前のタスク管理」は「WBSの予定日が来ると作業詳細を詳しく書いた同粒度のタスクチケットが発行される」というイメージで、それより小さな管理単位はない状況だった。今思えば完全な二重管理である。</p>

<p>なお、「改善前と同じ粒度の管理対象が存在しているなら、細かい管理を付け加えた分トータルの工数が増えるのでは？」と思われる方もいるかも知れないが、低位タスクの管理が適切に回ると中長期レベルの進捗課題が自然と減るので問題ない。逆に言えば低位の管理をパーフェクトに回せているなら前記事の対応は不要。とはいえ、上流が得意な企業ですら上手にマネジメントできているパターンはあまり見たことがない…。</p>

<h2>
<span id="2-デイリーミーティング等でマイルストーンを品出しする" class="fragment"></span><a href="#2-%E3%83%87%E3%82%A4%E3%83%AA%E3%83%BC%E3%83%9F%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E7%AD%89%E3%81%A7%E3%83%9E%E3%82%A4%E3%83%AB%E3%82%B9%E3%83%88%E3%83%BC%E3%83%B3%E3%82%92%E5%93%81%E5%87%BA%E3%81%97%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2. デイリーミーティング等でマイルストーンを品出しする</h2>

<p>このタイミングで作ったマイルストーンをメンバー個人にアサインしていく。<br>
この際に各個人はマイルストーンに応じてタスクを作成するのだが、<a href="http://qiita.com/0w0/items/0b287be30af6539ac5e9">前記事</a>の通り<strong>直前作業のみをタスクとして登録して貰い、抽象的な切り方をさせない。</strong><br>
例えば、「君は○○機能の要件定義を担当して欲しい。来週の火曜が期日だから、とりあえず『打ち合わせの計画を段取る』というタスクをツールに追加してみようか」とか振ってみる。マイルストーンの達成を目標に小さなタスク作成を任せていくイメージ。<br>
後は前記事で説明したタスク運用の流れに乗せつつ、デイリーミーティングで様子を見守る。</p>

<h3>
<span id="メンバーが上手にタスクを切れず困っているなら" class="fragment"></span><a href="#%E3%83%A1%E3%83%B3%E3%83%90%E3%83%BC%E3%81%8C%E4%B8%8A%E6%89%8B%E3%81%AB%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E5%88%87%E3%82%8C%E3%81%9A%E5%9B%B0%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%AA%E3%82%89"><i class="fa fa-link"></i></a>メンバーが上手にタスクを切れず、困っているなら…</h3>

<p>マネージャが介入し、五十六メソッドを適用しつつタスクを切る。（いわゆる「やってみせ」「させてみせ」の部分）<br>
マイルストーン内の自己管理ができるレベルまでは教育を密に実施する。一方で「チケット管理するマン」にはならないような距離感を意識する。</p>

<h3>
<span id="介入せずとも自律的にタスク管理できているなら" class="fragment"></span><a href="#%E4%BB%8B%E5%85%A5%E3%81%9B%E3%81%9A%E3%81%A8%E3%82%82%E8%87%AA%E5%BE%8B%E7%9A%84%E3%81%AB%E3%82%BF%E3%82%B9%E3%82%AF%E7%AE%A1%E7%90%86%E3%81%A7%E3%81%8D%E3%81%A6%E3%81%84%E3%82%8B%E3%81%AA%E3%82%89"><i class="fa fa-link"></i></a>介入せずとも自律的にタスク管理できているなら…</h3>

<p>「より作業者に近い立場の意見が欲しい」として、メンバーにマイルストーン自体の管理プロセスを部分的に任せつつ、リーダーやマネージャーへのクラスチェンジを考える。この辺りは当人の希望と会社の都合次第だが、できる限り良い方向に働くように管理側で取りはからうこと。</p>

<p>いずれのケースにしても、メンバーに個人裁量で管理できる領域を与えつつ、少しずつ広げられるよう支援する。ただし、中には「別にチームの管理なんてやりたくないし」というメンバーもいるので、そこは当人の意思も加味する。</p>

<p>特に、プレイングマネージャにだけはならないように心掛ける。もうチケット管理マンはいやなんだ…</p>

<h2>
<span id="3-週次あるいは隔週ベースで状況を上長や顧客に共有する" class="fragment"></span><a href="#3-%E9%80%B1%E6%AC%A1%E3%81%82%E3%82%8B%E3%81%84%E3%81%AF%E9%9A%94%E9%80%B1%E3%83%99%E3%83%BC%E3%82%B9%E3%81%A7%E7%8A%B6%E6%B3%81%E3%82%92%E4%B8%8A%E9%95%B7%E3%82%84%E9%A1%A7%E5%AE%A2%E3%81%AB%E5%85%B1%E6%9C%89%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>3. 週次（あるいは隔週）ベースで状況を上長や顧客に共有する</h2>

<p>マイルストーン状況を外部のステークスホルダーに共有する。案件そのものの風向きを変える出来事があればここで拾って中長期プランに反映させていく。<br>
なお、共有内容は前述の通り「外部から見た関心事（＝彼らの職務領域と関わる事柄）」を意識する。現場ベースの些末はここでフィルタリングし、重要な意思決定に関わる議論を阻害しないように。<br>
ただし、単なる不都合の隠蔽はより状況をややこしくするだけなのでやめること。あくまでノイズをカットする程度のイメージで！</p>

<h2>
<span id="おしまい" class="fragment"></span><a href="#%E3%81%8A%E3%81%97%E3%81%BE%E3%81%84"><i class="fa fa-link"></i></a>おしまい！</h2>

<p>後は1〜3をぐるぐる回すだけ。ちなみに半年〜1年くらいの長期計画は適当にExcelでお絵描きして共有してるよ！それを踏まえたガチな長期管理はボスの仕事さ！ヒュウ！（タイトルに合わせただけの雑な追記）</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>0w0さんの<br />3位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>15</kbd>
		<a target="_blank" href="https://qiita.com/0w0/items/2cfaf3ca0b653960f5e9">「抽象化」ってなんだろう？ 〜初心者の理解を助ける普段使いの例え話〜</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-10-09 22:47:37</center>
	</td>
	<td style="width:200px;">
		@0w0<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/154302/profile-images/1505133762">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[オブジェクト指向]</b> <b>[プログラミング]</b> <b>[初心者]</b> <b>[プログラミング教育]</b> <b>[新人プログラマ応援]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="新人言ってることはわかるんですけど利便性がよくわからないっすｗ" class="fragment"></span><a href="#%E6%96%B0%E4%BA%BA%E8%A8%80%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%93%E3%81%A8%E3%81%AF%E3%82%8F%E3%81%8B%E3%82%8B%E3%82%93%E3%81%A7%E3%81%99%E3%81%91%E3%81%A9%E5%88%A9%E4%BE%BF%E6%80%A7%E3%81%8C%E3%82%88%E3%81%8F%E3%82%8F%E3%81%8B%E3%82%89%E3%81%AA%E3%81%84%E3%81%A3%E3%81%99%EF%BD%97"><i class="fa fa-link"></i></a>新人「言ってることはわかるんですけど〜、利便性がよくわからないっすｗ」</h2>

<p>君たち新人はいつもそうだね。抽象化についてありのままに伝えると、決まって同じ反応をする。<br>
わけがわからないよ…。</p>

<p>良質なコーディングには必要不可欠でありながら、伝達が非常に難しい「抽象化」の概念。「オブジェクト指向には抽象化が大事だぞ」なんて口にしつつも、実はよくわかってない方も多いんじゃなかろうか。</p>

<p>当記事では、そんな「抽象化がなんとなく腑に落ちない…」というエンジニアを相手にリアルで試してみてウケがよかった例え話をいくつかまとめてみた。<br>
基本的にアカデミックな正確性より勢い優先、その場の雰囲気重視でお送りします。<del>ﾏｻｶﾘｺﾜｰｲ</del></p>

<h2>
<span id="本題の前にまずはwikipediaを紐解く" class="fragment"></span><a href="#%E6%9C%AC%E9%A1%8C%E3%81%AE%E5%89%8D%E3%81%AB%E3%81%BE%E3%81%9A%E3%81%AFwikipedia%E3%82%92%E7%B4%90%E8%A7%A3%E3%81%8F"><i class="fa fa-link"></i></a>本題の前に、まずはWikipediaを紐解く</h2>

<blockquote>

<h3>
<span id="抽象化" class="fragment"></span><a href="#%E6%8A%BD%E8%B1%A1%E5%8C%96"><i class="fa fa-link"></i></a><a href="https://ja.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%8C%96" rel="nofollow noopener" target="_blank">抽象化</a>
</h3>

<p>抽象化（ちゅうしょうか、英: Abstraction、独: Abstraktion）とは、思考における手法のひとつで、対象から注目すべき要素を重点的に抜き出して他は無視する方法である。</p>
</blockquote>

<p>※<a href="https://ja.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%8C%96_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%A6)" rel="nofollow noopener" target="_blank">抽象化 (計算機科学)</a>という記事もあるが、説明上ややこしくなりそうのでプレーンなこっちをチョイスした。</p>

<p>つまり抽象化とは、<strong>大事なとこだけ抜き出して他はポイすること</strong>である。（雑）<br>
…という説明だけで済めば楽なのだが、これだけで「利便性」まで伝わるかと言えばぶっちゃけ初心者には厳しいかと思う。むしろ「色々捨てちゃうとか不安じゃない？？？」とか、<del>SAN値を削る</del>無邪気な疑問が出てきて混乱してしまうかもしれない。</p>

<p>大事な点は、「抽象化」はコンピューターの世界に限定された概念ではない、ということ。<br>
本来なら誰しも無意識に使っている考え方なので、現実世界に例えるとなんとなく感覚が掴みやすい。</p>

<p>というわけで、次のような例えを持ち出してみる。</p>

<h2>
<span id="抽象化を辞書で例えてみる" class="fragment"></span><a href="#%E6%8A%BD%E8%B1%A1%E5%8C%96%E3%82%92%E8%BE%9E%E6%9B%B8%E3%81%A7%E4%BE%8B%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>抽象化を「辞書」で例えてみる</h2>

<p>よく使われる例だが、プログラムのコードと「辞書」は構成がよく似ている。<br>
例えば、前段で引用したWikipedia（こちらは正確に言えば百科事典だが…）の記事は以下のような構成になっているかと思う。</p>

<blockquote>

<h3>
<span id="名前" class="fragment"></span><a href="#%E5%90%8D%E5%89%8D"><i class="fa fa-link"></i></a>○○（名前）</h3>

<p>××を△△すること。（説明）</p>
</blockquote>

<p>「名前」はそのまんま、説明に付けた「名前」を指す。<br>
「説明」は内容の定義、すなわちコードの実装に対応する。</p>

<p>むりやり上記をコード化すると次のような感じだろうか。</p>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">謎言語.nazo</span></div>
<div class="highlight"><pre><span></span>
function ○○(××) {
    return △△する(××);
}

</pre></div>
</div>

<p>抽象化とは、前述の通り<strong>大事なとこだけ抜き出して他はポイすること</strong>である。<br>
例えば「白米」という項目に「パンの説明」が併記されていたら、「おいおいそれはないだろ」という話になる。いわばこれが<strong>白米の抽象化が効いていない</strong>状態だ。<br>
逆に、白米の要素を省きつつパンの説明だけを抜き出して一つにまとめられれば、それは<strong>パンの抽象化</strong>である。</p>

<p>まだわかりにくい？ では、さらに例えを追加してみよう。</p>

<h2>
<span id="抽象化をコンビニ業務で例えてみる" class="fragment"></span><a href="#%E6%8A%BD%E8%B1%A1%E5%8C%96%E3%82%92%E3%82%B3%E3%83%B3%E3%83%93%E3%83%8B%E6%A5%AD%E5%8B%99%E3%81%A7%E4%BE%8B%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>抽象化を「コンビニ業務」で例えてみる</h2>

<p>以下はコンビニ店長がバイトのA君に「食品の販売期限を確認して欲しい」という指示を出す場面である。果たして前述の「抽象化」が効いてないと、どのような問題が起きるのだろうか？</p>

<h3>
<span id="ケース1指示内容に余計な要素が含まれるパターン" class="fragment"></span><a href="#%E3%82%B1%E3%83%BC%E3%82%B91%E6%8C%87%E7%A4%BA%E5%86%85%E5%AE%B9%E3%81%AB%E4%BD%99%E8%A8%88%E3%81%AA%E8%A6%81%E7%B4%A0%E3%81%8C%E5%90%AB%E3%81%BE%E3%82%8C%E3%82%8B%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3"><i class="fa fa-link"></i></a>ケース1：指示内容に余計な要素が含まれるパターン</h3>

<blockquote>
<p>店長「ちょっとA君！陳列棚のサンドイッチ類が販売期限切れてないか見てくれる？」<br>
A君「はい、ちょっと確認しますね。…ええと、大丈夫みたいです。販売期限が切れてるサンドイッチはありません！」<br>
店長「そうか、それはよかった！…ところで、当然だけどおにぎりも見てきてくれたよね？どうだった？」<br>
A君「え、おにぎりですか？指示されたサンドイッチしか見てませんけど…」<br>
店長「はー…君ねえ、『サンドイッチを見ろ』って言われたらサンドイッチしか見ないの？ 同じ陳列棚なんだからさ、おにぎりも見るのが気遣いってヤツでしょうよ。まったく、バイト君は言われたことしかできないから困るよねぇ…」<br>
A君「…（おいおい、さすがにそりゃないだろ…）」</p>
</blockquote>

<p>「陳列棚のサンドイッチ類が販売期限切れてないか見てくれる？」という指示が適切に抽象化できていない例である。この例では「陳列棚のサンドイッチ類が販売期限切れてないか見て欲しい」という指示に、文意とは無関係な「おにぎりの販売期限を見る」という内容が含まれている。当然だがそんなもんA君にはわかるわけがないので、店長の意図しない結果＝「バグ」が生まれるわけだ。<del>まあ…よく見かける光景ですね…</del></p>

<h3>
<span id="ケース2指示内容に含まれる要素を適切に抽象化できていないパターン" class="fragment"></span><a href="#%E3%82%B1%E3%83%BC%E3%82%B92%E6%8C%87%E7%A4%BA%E5%86%85%E5%AE%B9%E3%81%AB%E5%90%AB%E3%81%BE%E3%82%8C%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%81%A9%E5%88%87%E3%81%AB%E6%8A%BD%E8%B1%A1%E5%8C%96%E3%81%A7%E3%81%8D%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3"><i class="fa fa-link"></i></a>ケース2：指示内容に含まれる要素を適切に抽象化できていないパターン</h3>

<blockquote>
<p>店長「ちょっとA君！ 垂直な板に別の板を水平にかけ渡した商品を乗せる冷蔵装置に陳列されたイネ目イネ科コムギ属（クロンキスト体系による）に属する一年草の植物から採取した種子植物で有性生殖によって形成される散布体を粉末状に加工し適切量のH2Oを練り込んだ粘弾性があるペーストを炭酸ガスで膨化してから焼成し完成品を薄くスライスした上で間に肉・野菜等を挟んだサンドウィッチ伯爵考案の軽食類が適切に保存された場合において品質劣化による販売上の問題を発生させない期間を超過していないか見てくれる？」<br>
A君「…（何言ってんだコイツ…）」</p>
</blockquote>

<p>この例では「陳列棚のサンドイッチ類が販売期限切れてないか見てくれる？」という文面に登場する単語群をWikipedia等を駆使して無理矢理展開してみた。要するに「説明の抜き出し」と「名付け」を無効化した訳だが、こんな簡単な指示ですら一発で難解極まりない指示に変わってしまった。極端だが、いわゆる「スパゲッティコード」に近い状態である。<br>
このような指示（コード）は読み解きの時間が必要となる上、「イネ科…とか言ってたような気がするから、おにぎりを見ればいいのかな…？」等と誤解に繋がり、結果としてバグの原因を生んでしまう。<br>
こうやって現実世界に置き換えると笑い話のようだが、コーディングの世界ではこのくらいヤバい事例はいくらでも存在する。コーダー自身もびっくりするほど気がつかないので、説明に伴う文章（＝実装）を一言で言い表せないかどうか積極的に取り組む姿勢が重要となる。</p>

<h2>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h2>

<ul>
<li>抽象化とは「大事なとこだけ抜き出して他はポイすること」だよ！</li>
<li>抽象化が効いていると、周囲の人に変な誤解を与えずに済むよ！</li>
<li>逆に抽象化が出来ていないと間接的にバグを生み出す原因になるからやめようね！</li>
</ul>

<h2>
<span id="ちょっとした余談そもそも初心者が抽象化を理解できない原因" class="fragment"></span><a href="#%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%81%97%E3%81%9F%E4%BD%99%E8%AB%87%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E5%88%9D%E5%BF%83%E8%80%85%E3%81%8C%E6%8A%BD%E8%B1%A1%E5%8C%96%E3%82%92%E7%90%86%E8%A7%A3%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E5%8E%9F%E5%9B%A0"><i class="fa fa-link"></i></a>ちょっとした余談：そもそも初心者が「抽象化」を理解できない原因</h2>

<p>当記事ほど極端ではないにせよ、コンビニの例えと似た事例はあちこちの現場でよく目にする（特にケース１）。私的な観測範囲で言えば、このような組織文化に対する順応性が高い人ほど抽象化を苦手とする（というより関心を持ちにくい？）傾向があるようだ。<br>
恐らく「コンウェイの法則」と似た原理が働いているのだが、このような場合はマネージャによる「理不尽ではないフェアな組織観」が上手く共有できると状況を緩和しやすい。</p>

<h3>
<span id="参考コンウェイの法則" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%82%B3%E3%83%B3%E3%82%A6%E3%82%A7%E3%82%A4%E3%81%AE%E6%B3%95%E5%89%87"><i class="fa fa-link"></i></a>参考：コンウェイの法則</h3>

<blockquote>
<p>「システムを設計する組織は、その構造をそっくりまねた構造の設計を生み出してしまう」 (原文: "Organizations which design systems are constrained to produce designs which are copies of the communication structures of these organizations.")<br>
 - <a href="https://ja.wikipedia.org/wiki/%E3%83%A1%E3%83%AB%E3%83%B4%E3%82%A3%E3%83%B3%E3%83%BB%E3%82%B3%E3%83%B3%E3%82%A6%E3%82%A7%E3%82%A4" rel="nofollow noopener" target="_blank">メルヴィン・コンウェイ</a></p>
</blockquote>

<p>コードの問題はエンジニアリングだけで解決しようとしがちになるが、マネジメントの観点からアプローチ出来ることがある。権限がある方はお試しあれ。</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>0w0さんの<br />4位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>1</kbd>
		<a target="_blank" href="https://qiita.com/0w0/items/4a9cb7d27794bfb93d46">【メモ】【Laravel】外部キー制約付きMigrateが通らない時のチェックポイント（Mysql）</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-11-12 12:05:11</center>
	</td>
	<td style="width:200px;">
		@0w0<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/154302/profile-images/1505133762">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[PHP]</b> <b>[laravel]</b> <b>[migrate]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="何故人は同じ過ちを繰り返すのか" class="fragment"></span><a href="#%E4%BD%95%E6%95%85%E4%BA%BA%E3%81%AF%E5%90%8C%E3%81%98%E9%81%8E%E3%81%A1%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99%E3%81%AE%E3%81%8B"><i class="fa fa-link"></i></a>何故人は同じ過ちを繰り返すのか</h2>

<p>またもや引っかかったのでいい加減にメモっとく。（数ヶ月ぶり3度目）<br>
Laravelの気遣いに人がついて行けてないパターンの初歩的なアレです。</p>

<h2>
<span id="こんな構成のテーブルを作りたいとするじゃろ" class="fragment"></span><a href="#%E3%81%93%E3%82%93%E3%81%AA%E6%A7%8B%E6%88%90%E3%81%AE%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%82%92%E4%BD%9C%E3%82%8A%E3%81%9F%E3%81%84%E3%81%A8%E3%81%99%E3%82%8B%E3%81%98%E3%82%83%E3%82%8D"><i class="fa fa-link"></i></a>こんな構成のテーブルを作りたいとするじゃろ</h2>

<p><a href="https://camo.qiitausercontent.com/1bb3aba72f316a090c201d88f6c21c55067b6772/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3135343330322f65646634666664342d623033392d636431302d666663312d6632383739396233353533302e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/1bb3aba72f316a090c201d88f6c21c55067b6772/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3135343330322f65646634666664342d623033392d636431302d666663312d6632383739396233353533302e706e67" alt="Kobito.rvZZj6.png" title="Kobito.rvZZj6.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/154302/edf4ffd4-b039-cd10-ffc1-f28799b35530.png"></a></p>

<h2>
<span id="とりあえずこう書くじゃろ" class="fragment"></span><a href="#%E3%81%A8%E3%82%8A%E3%81%82%E3%81%88%E3%81%9A%E3%81%93%E3%81%86%E6%9B%B8%E3%81%8F%E3%81%98%E3%82%83%E3%82%8D"><i class="fa fa-link"></i></a>とりあえずこう書くじゃろ</h2>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">1_create_users_table.php</span></div>
<div class="highlight"><pre><span></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">increments</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span> <span class="c1">//自動採番</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">string</span><span class="p">(</span><span class="s1">'name'</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>

</pre></div>
</div>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">2_create_authorities_table.php</span></div>
<div class="highlight"><pre><span></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">'authorities'</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">increments</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span> <span class="c1">//自動採番</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">string</span><span class="p">(</span><span class="s1">'name'</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>
</pre></div>
</div>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">3_create_roles_table.php</span></div>
<div class="highlight"><pre><span></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">'roles'</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">increments</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span> <span class="c1">//自動採番</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">integer</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">integer</span><span class="p">(</span><span class="s1">'authority_id'</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreign</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">references</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span> <span class="c1">//外部キー参照</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreign</span><span class="p">(</span><span class="s1">'authority_id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">references</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">'authorities'</span><span class="p">);</span> <span class="c1">//外部キー参照</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">unique</span><span class="p">([</span><span class="s1">'user_id'</span><span class="p">,</span> <span class="s1">'authority_id'</span><span class="p">],</span><span class="s1">'uq_roles'</span><span class="p">);</span> <span class="c1">//Laravelは複合主キーが扱いにくいのでユニークで代用</span>
        <span class="p">});</span>

    <span class="p">}</span>
</pre></div>
</div>

<h2>
<span id="migrateするとこうじゃ" class="fragment"></span><a href="#migrate%E3%81%99%E3%82%8B%E3%81%A8%E3%81%93%E3%81%86%E3%81%98%E3%82%83"><i class="fa fa-link"></i></a>Migrateするとこうじゃ</h2>

<div class="code-frame" data-lang="console"><div class="highlight"><pre><span></span><span class="gp">$</span> php artisan migrate
<span class="go">Migration table created successfully.</span>


<span class="go">  [Illuminate\Database\QueryException]                                         </span>
<span class="go">  SQLSTATE[HY000]: General error: 1215 Cannot add foreign key constraint (SQL  </span>
<span class="go">  : alter table `roles` add constraint `roles_user_id_foreign` foreign key (`  </span>
<span class="go">  user_id`) references `users` (`id`))                                         </span>



<span class="go">  [PDOException]                                                          </span>
<span class="go">  SQLSTATE[HY000]: General error: 1215 Cannot add foreign key constraint                                                                        </span>
</pre></div></div>

<h2>
<span id="原因" class="fragment"></span><a href="#%E5%8E%9F%E5%9B%A0"><i class="fa fa-link"></i></a>原因</h2>

<p>原因は以下の行。</p>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">1_create_users_table.php&amp;2_create_authorities_table</span></div>
<div class="highlight"><pre><span></span>            $table-&gt;increments('id'); //自動採番
</pre></div>
</div>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">3_create_roles_table.php</span></div>
<div class="highlight"><pre><span></span>            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">integer</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">integer</span><span class="p">(</span><span class="s1">'authority_id'</span><span class="p">);</span>
</pre></div>
</div>

<p>　<br>
<code>increments()</code>で作ったカラムには、実は裏で<code>unsined（符号無し）属性</code>が付与される。要は採番項目なので正の値しか登録できないわけだが、役割テーブル側の<code>user_id</code>と<code>authority_id</code>には同様の制約を付けていない。</p>

<p>つまり、形式の不一致で落ちているわけですな。</p>

<h2>
<span id="というわけで以下のように書き換える" class="fragment"></span><a href="#%E3%81%A8%E3%81%84%E3%81%86%E3%82%8F%E3%81%91%E3%81%A7%E4%BB%A5%E4%B8%8B%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E6%9B%B8%E3%81%8D%E6%8F%9B%E3%81%88%E3%82%8B"><i class="fa fa-link"></i></a>というわけで、以下のように書き換える</h2>

<p>Migrationファイル上で符号無し属性を付けるには<code>unsigned()</code>構文を使えばよい。</p>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">役割テーブル作るやつ：3_create_roles_table.php</span></div>
<div class="highlight"><pre><span></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">'roles'</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">increments</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span> <span class="c1">//自動採番</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">integer</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">unsigned</span><span class="p">();</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">integer</span><span class="p">(</span><span class="s1">'authority_id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">unsigned</span><span class="p">();</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreign</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">references</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span> <span class="c1">//外部キー参照</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreign</span><span class="p">(</span><span class="s1">'authority_id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">references</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">'authorities'</span><span class="p">);</span> <span class="c1">//外部キー参照</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">unique</span><span class="p">([</span><span class="s1">'user_id'</span><span class="p">,</span> <span class="s1">'authority_id'</span><span class="p">],</span><span class="s1">'uq_roles'</span><span class="p">);</span> <span class="c1">//Laravelは複合主キーが扱いにくいのでユニークで代用</span>
        <span class="p">});</span>

    <span class="p">}</span>
</pre></div>
</div>

<p>後はいつもどおりMigrateをかければOK。</p>

<h2>
<span id="補足" class="fragment"></span><a href="#%E8%A3%9C%E8%B6%B3"><i class="fa fa-link"></i></a>補足</h2>

<p>当記事は2017/11/11投稿記事の再投稿です。<br>
前記事は内容がアレだったので閲覧数が付く前に削除した次第。正直すまんかった。</p>
</div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
