<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (yuya_presto)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (yuya_presto さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />1位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>782</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/5d99499cf96c0ebb09f8">Gitコンフリクト解消ガイド（git mergetoolの使い方）</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-02-09 23:58:59</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="ファイル編集がコンフリクトした場合" class="fragment"></span><a href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E7%B7%A8%E9%9B%86%E3%81%8C%E3%82%B3%E3%83%B3%E3%83%95%E3%83%AA%E3%82%AF%E3%83%88%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>ファイル編集がコンフリクトした場合</h2>

<p>下記はよくある（忌々しい）コンフリクト画面ですね。</p>

<p><a href="https://camo.qiitausercontent.com/ff2029642e822dea8d6d04fa6db088756533431c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f31363665613865642d643166662d373338362d316130632d3834636332316465663764662e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/ff2029642e822dea8d6d04fa6db088756533431c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f31363665613865642d643166662d373338362d316130632d3834636332316465663764662e706e67" alt="コンフリクトしたときのgit status" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/166ea8ed-d1ff-7386-1a0c-84cc21def7df.png"></a></p>

<p>皆さんはコンフリクトのmergeはどんな方法でやっていますでしょうか？<br>
vimやemacsで直接編集している方が多いイメージですが、実際開いてみると、下記のように差分が表示されていると思います。</p>

<p><a href="https://camo.qiitausercontent.com/54ce5e0aef0eacacd2204df0231e5811860eeee4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f33663065336237652d353339362d353631362d386164372d6262366266356438366131302e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/54ce5e0aef0eacacd2204df0231e5811860eeee4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f33663065336237652d353339362d353631362d386164372d6262366266356438366131302e706e67" alt="conflict-marker.png" title="conflict-marker.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/3f0e3b7e-5396-5616-8ad7-bb6bf5d86a10.png"></a></p>

<p>この画面を見ただけではどのようにmergeすればよいのかわかりません。（Objective-CのARC/MRC双方の開発経験がある人は目をつぶってください・・）</p>

<p>gitにはこのようなコンフリクトのmergeを支援する<code>git mergetool</code>コマンドが搭載されています。</p>

<p><a href="https://camo.qiitausercontent.com/5aba49def953167306e3fdeade180ecf14224626/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f36363836366635322d353162332d666632392d303133302d3435326135303661643365362e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/5aba49def953167306e3fdeade180ecf14224626/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f36363836366635322d353162332d666632392d303133302d3435326135303661643365362e706e67" alt="git mergetoolのプロンプト" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/66866f52-51b3-ff29-0130-452a506ad3e6.png"></a></p>

<p>このままEnterキーを押すと下記のような画面が立ち上がります。</p>

<p><a href="https://camo.qiitausercontent.com/ade414ec56bb239ff63ee47280b77571665124b5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f66396364303838372d643263342d653766642d376134622d3466323039306464656538612e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/ade414ec56bb239ff63ee47280b77571665124b5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f66396364303838372d643263342d653766642d376134622d3466323039306464656538612e706e67" alt="mergetool2.png" title="mergetool2.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/f9cd0887-d2c4-e7fd-7a4b-4f2090ddee8a.png"></a></p>

<p>画面幅の都合でフォントが小さいのですが、ここで「mergeしたい差分が作られる直前の状態」と「mergeしたい差分」に注目してみます。</p>

<p><a href="https://camo.qiitausercontent.com/e58cd3ec9860d63058b63491670edf7237e9ef65/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f62636532323930652d343065642d613132352d383465332d3331386364623764396531352e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/e58cd3ec9860d63058b63491670edf7237e9ef65/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f62636532323930652d343065642d613132352d383465332d3331386364623764396531352e706e67" alt="mergetool2-base-remote.png" title="mergetool2-base-remote.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/bce2290e-40ed-a125-84e3-318cdb7d9e15.png"></a></p>

<p>この2つを見比べると、<a href="/property" class="user-mention js-hovercard" title="property" data-hovercard-target-type="user" data-hovercard-target-name="property">@property</a>の「*adapter」のところが「*webViewAdapter」に変更になっていることがわかります。<br>
mergeしたい差分の内容は実際には上記の変数名の変更だったのです。</p>

<p>ですので、「merge結果として保存するファイル」の中でコンフリクトした箇所の上側（画面内だとHEAD側）で、adapterをwebViewAdapterに書きかえます。下側とコンフリクトマーカは忘れずに削除しましょう。</p>

<p>ちなみに、git mergeでコンフリクトした場合は、真ん中はbranchが枝分かれした時の状態で、左は現在のbranchに追加された差分、右はmergeしたいbranchに追加された差分ということになります（3-way merge）。<br>
ですので、真ん中と左を比べると、現在のbranchがどのように進んだのかを確認することができます。<br>
今回は、ARC対応でretainがstrongに、assignがweakになったことがわかります。</p>

<p><a href="https://camo.qiitausercontent.com/a22bbf0a84c6eaf7efc6c3d1f3337e7ddaf7954c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f38636138386133652d353834342d343231362d653935382d3666646530316233343863342e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/a22bbf0a84c6eaf7efc6c3d1f3337e7ddaf7954c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f38636138386133652d353834342d343231362d653935382d3666646530316233343863342e706e67" alt="merge後の状態" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/8ca88a3e-5844-4216-e958-6fde01b348c4.png"></a></p>

<p>mergeが完了したら、保存してエディタを終了します。merge前の状態は、該当のファイル.origとして保存されます。自動的にgit addされているので、コミットしましょう。</p>

<p>※なお、キャンセルする場合は1回も保存をせずにエディタを終了します。</p>

<p>※ちなみに現状ではvimのみの対応となります・・emacsでも設定方法があるようなので、うまく言った方はよければコメント等ください。</p>

<h3>
<span id="xcode用のguiのdiffツールっぽいのが起動する場合" class="fragment"></span><a href="#xcode%E7%94%A8%E3%81%AEgui%E3%81%AEdiff%E3%83%84%E3%83%BC%E3%83%AB%E3%81%A3%E3%81%BD%E3%81%84%E3%81%AE%E3%81%8C%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>（Xcode用の）GUIのdiffツールっぽいのが起動する場合</h3>

<p>opendiffになっている人がちょくちょくいるみたいなので、下記のコマンドでvimdiffに切り替えてください。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git config --global merge.tool vimdiff
</pre></div></div>

<h2>
<span id="番外編mergetoolを使わず似た方法でmergeする" class="fragment"></span><a href="#%E7%95%AA%E5%A4%96%E7%B7%A8mergetool%E3%82%92%E4%BD%BF%E3%82%8F%E3%81%9A%E4%BC%BC%E3%81%9F%E6%96%B9%E6%B3%95%E3%81%A7merge%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>（番外編）mergetoolを使わず似た方法でmergeする</h2>

<p>宗教上の都合でvimが使えない方や画面が狭い方に朗報です。</p>

<p>通常のコンフリクトマーカだとmergetoolの真ん中の画面（mergeしたい差分が作られる直前の状態、BASE）が欠落していましたが、コンフリクトマーカにそれを表示するオプションがありました。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git config --global merge.conflictstyle diff3
</pre></div></div>

<p>コンフリクトマーカが下記のようになります。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
merge前の状態
||||||| merged common ancestors
mergeしたい差分が作られる直前の状態
=======
mergeしたい差分
&gt;&gt;&gt;&gt;&gt;&gt;&gt; branch
</pre></div></div>

<p>とりあえず設定しておいても損はしません。mergetool使うほどでかいconflictじゃないときにも重宝します。<br>
※ただし、コンフリクトしていない場所に加えられた変更を把握できないので、大きい差分にはmergetoolを使うか、git diffを組み合わせて使うほうが良さそうです。</p>

<p>参照: <a href="http://qiita.com/hchbaw/items/1191c2627307a4673b1b" class="autolink" id="reference-e8145d321b7d7f366f34">http://qiita.com/hchbaw/items/1191c2627307a4673b1b</a></p>

<h2>
<span id="ファイル削除がコンフリクトした場合path-conflict" class="fragment"></span><a href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%89%8A%E9%99%A4%E3%81%8C%E3%82%B3%E3%83%B3%E3%83%95%E3%83%AA%E3%82%AF%E3%83%88%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88path-conflict"><i class="fa fa-link"></i></a>ファイル削除がコンフリクトした場合（path conflict）</h2>

<p>削除したファイルが編集されていた時に起きます。</p>

<ul>
<li>Deleted by them:

<ul>
<li>mergeする差分で削除されています</li>
<li>現在のbranchで変更されています</li>
</ul>
</li>
<li>Deleted by us:

<ul>
<li>現在のbranchで削除されています</li>
<li>mergeする差分で変更されています</li>
</ul>
</li>
</ul>

<p>多くの場合最終的に削除を採用することになると思いますが、mergeのためにファイルが残されているので、下記のようにします。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git rm path/to/target/file
</pre></div></div>

<p>※unmergedっぽいメッセージが出ますが、きちんと削除が反映されます。</p>

<h2>
<span id="同じ差分を複数回mergeする場合" class="fragment"></span><a href="#%E5%90%8C%E3%81%98%E5%B7%AE%E5%88%86%E3%82%92%E8%A4%87%E6%95%B0%E5%9B%9Emerge%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>同じ差分を複数回mergeする場合</h2>

<p>gitにはコンフリクトした差分のmerge結果を保存しておき再利用するrerere機能というものがあります。<br>
メンテナとかリリース担当で、同じ差分で複数回mergeする場合に便利です。<br>
下記のコマンドで有効にできます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git config --global rerere.enabled <span class="nb">true</span>
</pre></div></div>

<p><a href="http://d.hatena.ne.jp/unpush/20091010/1255186302" class="autolink" rel="nofollow noopener" target="_blank">http://d.hatena.ne.jp/unpush/20091010/1255186302</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />2位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>655</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/ef199e08021dea777715">gitのdiff, status, logを極限までコンパクト化＋便利化する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-02-04 22:11:20</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>gitで色表示が有効になっていることを前提としています。まだの方は下記のコマンドで設定してください。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git config --global color.ui auto   <span class="c1"># 出力先が端末のときに色をつけて表示する</span>
</pre></div></div>

<h2>
<span id="git-diffを見やすくする" class="fragment"></span><a href="#git-diff%E3%82%92%E8%A6%8B%E3%82%84%E3%81%99%E3%81%8F%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git diffを見やすくする</h2>

<h3>
<span id="git-diff---color-words-で差分を小さく表示する" class="fragment"></span><a href="#git-diff---color-words-%E3%81%A7%E5%B7%AE%E5%88%86%E3%82%92%E5%B0%8F%E3%81%95%E3%81%8F%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git diff --color-words で差分を小さく表示する</h3>

<p>通常のgit diffは行単位なので、例えば変数名を一括変更した場合見づらいです。</p>

<p>--color-wordsを指定すると記号やスペースで区切られた単語単位でのdiffを表示できます。gitの設定は不要です。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git diff --color-words  <span class="c1"># 差分を単語単位で色分けで表示する</span>
</pre></div></div>

<p><a href="https://camo.qiitausercontent.com/07df4abff5a03f417f4b5bfd4018b2a42dcba75c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f65656335363264612d653361612d616137322d303330382d3832663632636232383265362e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/07df4abff5a03f417f4b5bfd4018b2a42dcba75c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f65656335363264612d653361612d616137322d303330382d3832663632636232383265362e706e67" alt="diff-by-words-color-words.png" title="diff-by-words-color-words.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/eec562da-e3aa-aa72-0308-82f62cb282e6.png"></a></p>

<p>より細かな表示のカスタマイズも可能です。man git-diffで--word-diffを検索してみてください。<br>
※ただし、変更が複雑な場合は、通常のgit diffのほうが見やすいこともあります。</p>

<h3>
<span id="gitattributesを設置してもっと小さく表示する" class="fragment"></span><a href="#gitattributes%E3%82%92%E8%A8%AD%E7%BD%AE%E3%81%97%E3%81%A6%E3%82%82%E3%81%A3%E3%81%A8%E5%B0%8F%E3%81%95%E3%81%8F%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>.gitattributesを設置してもっと小さく表示する</h3>

<p>.gitattributesファイルを設置することで、言語文法に基づいて変数名、関数名といった単位でdiffを表示できます<br>
ファイル設置後にgit diff --color-wordsとすると、下記のようにさらに小さく表示できます。（下記はjsの例です）</p>

<p><a href="https://camo.qiitausercontent.com/194b0a7511cae918f5005e447809a782a2f5a0e6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f31626438616639612d636432652d643037622d353035652d6136396435316236313966362e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/194b0a7511cae918f5005e447809a782a2f5a0e6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f31626438616639612d636432652d643037622d353035652d6136396435316236313966362e706e67" alt="diff-by-words-with-gitattributes.png" title="diff-by-words-with-gitattributes.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/1bd8af9a-cd2e-d07b-505e-a69d51b619f6.png"></a></p>

<p>設定のために、リポジトリのルートに.gitattributesを作成する必要があります。例えば下記のような内容にします。</p>

<div class="code-frame" data-lang="gitattributes"><div class="highlight"><pre><span></span>*.c diff=cpp
*.h diff=cpp
*.cpp diff=cpp
*.hpp diff=cpp
*.m diff=objc
*.java diff=java
*.html diff=html
*.pl diff=perl
*.pm diff=perl
*.t diff=perl
*.php diff=php
*.py diff=python
*.rb diff=ruby
*.js diff=java
</pre></div></div>

<p>※全てのリポジトリに適用するには下記を参照ください。</p>

<h3>
<span id="gitattributesやgitignoreを全てのリポジトリに適用する" class="fragment"></span><a href="#gitattributes%E3%82%84gitignore%E3%82%92%E5%85%A8%E3%81%A6%E3%81%AE%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%AB%E9%81%A9%E7%94%A8%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>.gitattributesや.gitignoreを全てのリポジトリに適用する</h3>

<p>同じフォーマットのファイルをホームディレクトリなどに置いておき、~/.gitconfigに設定しておきます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git config --global core.attributesfile ~/.gitattributes_global
git config --global core.excludesfile ~/.gitignore_global
</pre></div></div>

<h2>
<span id="git-statusを見やすくする" class="fragment"></span><a href="#git-status%E3%82%92%E8%A6%8B%E3%82%84%E3%81%99%E3%81%8F%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git statusを見やすくする</h2>

<h3>
<span id="git-status---short---branchで現状をコンパクトに表示する" class="fragment"></span><a href="#git-status---short---branch%E3%81%A7%E7%8F%BE%E7%8A%B6%E3%82%92%E3%82%B3%E3%83%B3%E3%83%91%E3%82%AF%E3%83%88%E3%81%AB%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git status --short --branchで現状をコンパクトに表示する</h3>

<p>git statusはlsよりも使う（当社比）コマンドなのに、表示が長いので、コンパクトにします。</p>

<p><a href="https://camo.qiitausercontent.com/b1658823951a5ccd2dbee50229fca5290a4cd1a3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f65313635663031342d636539612d313132652d306138342d3133343839386336613366632e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/b1658823951a5ccd2dbee50229fca5290a4cd1a3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f65313635663031342d636539612d313132652d306138342d3133343839386336613366632e706e67" alt="status-short-branch.png" title="status-short-branch.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/e165f014-ce9a-112e-0a84-134898c6a3fc.png"></a></p>

<ul>
<li>
<code>--short</code>：今回のキモです</li>
<li>
<code>--branch</code>：一番上の"##"の行にbranch名を表示します</li>
</ul>

<p>MやUの表示の代表例は下記のとおりです。</p>

<table>
<thead>
<tr>
<th style="text-align: left">凡例</th>
<th style="text-align: left">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">M_</td>
<td style="text-align: left">変更がgit addされている (staged)</td>
</tr>
<tr>
<td style="text-align: left">_M</td>
<td style="text-align: left">変更がgit addされていない (modified)</td>
</tr>
<tr>
<td style="text-align: left">A_</td>
<td style="text-align: left">新しいファイルがgit addされている</td>
</tr>
<tr>
<td style="text-align: left">_D</td>
<td style="text-align: left">rmされているけどgit addやgit rmはされていない</td>
</tr>
<tr>
<td style="text-align: left">??</td>
<td style="text-align: left">gitに登録されていない（untracked）</td>
</tr>
<tr>
<td style="text-align: left">UU</td>
<td style="text-align: left">mergeするbranchも手元も変更がありconflictした (unmerged)</td>
</tr>
<tr>
<td style="text-align: left">DU</td>
<td style="text-align: left">mergeするbranchで変更されたが手元では削除されいるのでconflictした</td>
</tr>
</tbody>
</table>

<p>左がmergeされるbranchまたはadd済みで、右がmergeするbranchまたはローカル変更であることを覚えておくと便利です。</p>

<h2>
<span id="git-logを見やすくする" class="fragment"></span><a href="#git-log%E3%82%92%E8%A6%8B%E3%82%84%E3%81%99%E3%81%8F%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git logを見やすくする</h2>

<p>（※自分が使ってる一番普通のgit logに近いコマンドは<code>git log --stat --decorate --find-renames</code>でした）</p>

<h3>
<span id="git-log---graph---decorate---onelineでguiツールっぽくcommitmerge履歴を表示する" class="fragment"></span><a href="#git-log---graph---decorate---oneline%E3%81%A7gui%E3%83%84%E3%83%BC%E3%83%AB%E3%81%A3%E3%81%BD%E3%81%8Fcommitmerge%E5%B1%A5%E6%AD%B4%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git log --graph --decorate --onelineでGUIツールっぽくcommit/merge履歴を表示する</h3>

<p><a href="http://www.eclipse.org/egit/" rel="nofollow noopener" target="_blank">EGit(eclipse)</a>や<a href="http://gitx.laullon.com/" rel="nofollow noopener" target="_blank">GitX</a>、<a href="http://qiita.com/tags/tig">tig</a>で表示されるgit log情報は、1行に要約されてmerge関係も表示されるので、<br>
commitの一覧を確認するためにとても便利です。これをgitコマンドでも実現できます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git log --graph --decorate --oneline
</pre></div></div>

<p><a href="https://camo.qiitausercontent.com/859c660834b5f7c70d534faa8c85d6377f8f554c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f39313434353465382d633661322d666235352d643266332d6634333734396630656137652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/859c660834b5f7c70d534faa8c85d6377f8f554c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f39313434353465382d633661322d666235352d643266332d6634333734396630656137652e706e67" alt="log-graph-decorate-oneline.png" title="log-graph-decorate-oneline.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/914454e8-c6a2-fb55-d2f3-f43749f0ea7e.png"></a></p>

<ul>
<li>
<code>--graph</code>：commit履歴をグラフ形式で表示します。merge関係の表示に便利です。
※指定しない場合のlogの順番はcommit時間が新しい順になります。</li>
<li>
<code>--decorate</code>：commitごとにbranch名、タグ名を表示します。</li>
<li>
<code>--oneline</code>：1行で見やすい表示にします。詳細はman git-logのCommit Formattingの節を参照のこと。</li>
</ul>

<h3>
<span id="git-log--p---statで差分や変更されたファイルも一緒に見る" class="fragment"></span><a href="#git-log--p---stat%E3%81%A7%E5%B7%AE%E5%88%86%E3%82%84%E5%A4%89%E6%9B%B4%E3%81%95%E3%82%8C%E3%81%9F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%82%E4%B8%80%E7%B7%92%E3%81%AB%E8%A6%8B%E3%82%8B"><i class="fa fa-link"></i></a>git log -p --statで差分や変更されたファイルも一緒に見る</h3>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git log -p      <span class="c1"># 差分を表示</span>
git log --stat  <span class="c1"># ファイルごとの変更行数を表示</span>
</pre></div></div>

<h2>
<span id="ファイル名変更を追跡してlog--pやdiffをコンパクト化する" class="fragment"></span><a href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E5%A4%89%E6%9B%B4%E3%82%92%E8%BF%BD%E8%B7%A1%E3%81%97%E3%81%A6log--p%E3%82%84diff%E3%82%92%E3%82%B3%E3%83%B3%E3%83%91%E3%82%AF%E3%83%88%E5%8C%96%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>ファイル名変更を追跡して、log -pやdiffをコンパクト化する</h2>

<p>ファイル名変更差分は、通常だと全delete＋全addとして表示されますが、git diffやgit log -pに-Mもしくは--find-renamesを追加すると、rename＋内容の差分で表示してくれるのでコンパクトになります。</p>

<p>便利なことにこれをデフォルト化するオプションがあります。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git config --global diff.renames <span class="nb">true</span>
</pre></div></div>

<p>git log --stat --find-renamesは下記のように表示されます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>path/to/{file.pl =&gt; renamed_file.pl} | 21 ++++++++++++++++-----
</pre></div></div>

<p>git diff --find-renamesやgit log -p --find-renamesは下記のように表示されます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>diff --git path/to/file.pl path/to/renamed_file.pl
similarity index 82%
rename from path/to/file.pl
rename to path/to/renamed_file.pl
index 357d760..2e18a5c 100644
--- path/to/file.pl
+++ path/to/renamed_file.pl
（ファイルの内容の差分）
</pre></div></div>

<p>参照: <a href="http://qiita.com/kenbeese/items/31383bb77848b98161bb" class="autolink" id="reference-eab29e58819d6911ce3c">http://qiita.com/kenbeese/items/31383bb77848b98161bb</a></p>

<h2>
<span id="ファイル名変更を追跡してlog-filenameを1回で済ませる" class="fragment"></span><a href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E5%A4%89%E6%9B%B4%E3%82%92%E8%BF%BD%E8%B7%A1%E3%81%97%E3%81%A6log-filename%E3%82%921%E5%9B%9E%E3%81%A7%E6%B8%88%E3%81%BE%E3%81%9B%E3%82%8B"><i class="fa fa-link"></i></a>ファイル名変更を追跡して、log [filename]を1回で済ませる</h2>

<p>特定ファイルの履歴を見たいとき、 <code>git log [filename]</code> を使うことができますが、履歴の途中でファイル名が変更された時には履歴が途切れてしまいます。<br>
変更前のファイル名でもう1回git logするのが定番かと思いますが、 <code>git log --follow [filename]</code> とすることで、ファイル名変更を自動で追跡することができます。</p>

<h2>
<span id="git-diffとgit-logの範囲指定を簡単にする" class="fragment"></span><a href="#git-diff%E3%81%A8git-log%E3%81%AE%E7%AF%84%E5%9B%B2%E6%8C%87%E5%AE%9A%E3%82%92%E7%B0%A1%E5%8D%98%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git diffとgit logの範囲指定を簡単にする</h2>

<h3>
<span id="git-log-abで特定範囲のcommit履歴を表示する" class="fragment"></span><a href="#git-log-ab%E3%81%A7%E7%89%B9%E5%AE%9A%E7%AF%84%E5%9B%B2%E3%81%AEcommit%E5%B1%A5%E6%AD%B4%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git log A..Bで特定範囲のcommit履歴を表示する</h3>

<p>例えば、下記のような使い方ができます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git log <span class="m">1</span>.0.0..             <span class="c1"># version 1.0.0から現在のbranchへのcommit履歴を表示</span>
git log master..feature     <span class="c1"># feature branchに積まれたcommit履歴を表示（masterが進んでいてもOK）</span>
</pre></div></div>

<h3>
<span id="git-diff-abでbranch全体の差分を表示する" class="fragment"></span><a href="#git-diff-ab%E3%81%A7branch%E5%85%A8%E4%BD%93%E3%81%AE%E5%B7%AE%E5%88%86%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git diff A...Bでbranch全体の差分を表示する</h3>

<p>branchに積まれた差分全体のdiffを表示するために、git logでcommit番号を確認する必要がなくなります。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git diff master...feature   <span class="c1"># feature branchに積まれた差分を表示（masterが進んでいてもOK）</span>
</pre></div></div>

<p>どのファイルが変更されたのかを見たい場合は、<code>--name-only</code>をつけます。</p>

<p>補足：</p>

<ul>
<li>
<code>git diff A..B</code>はAとB間で普通のdiffを表示します。</li>
<li>
<code>git diff A</code>はgit diff A..HEADと等価です。</li>
<li>枝分かれしたcommit番号自体を知りたいときは、git merge-base A Bを使います。
<code>git diff A...B</code>は<code>git diff `git merge-base A B`..B</code>と等価です。</li>
</ul>

<h2>
<span id="差分をテストしやすくする" class="fragment"></span><a href="#%E5%B7%AE%E5%88%86%E3%82%92%E3%83%86%E3%82%B9%E3%83%88%E3%81%97%E3%82%84%E3%81%99%E3%81%8F%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>差分をテストしやすくする</h2>

<h3>
<span id="git-diff---name-onlyで変更されたファイル一覧を取得する" class="fragment"></span><a href="#git-diff---name-only%E3%81%A7%E5%A4%89%E6%9B%B4%E3%81%95%E3%82%8C%E3%81%9F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%B8%80%E8%A6%A7%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>git diff --name-onlyで変更されたファイル一覧を取得する</h3>

<p>変更されたファイルだけテストを実行したい場合、例えば下記のように実行することができます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>prove <span class="sb">`</span>git diff --name-only <span class="p">|</span> egrep <span class="s1">'\.js$|\.pm$'</span><span class="sb">`</span>   <span class="c1"># perlのテストを実行</span>
jshint <span class="sb">`</span>git diff --name-only <span class="p">|</span> egrep <span class="s1">'\.js$'</span><span class="sb">`</span>        <span class="c1"># jshintを実行</span>
</pre></div></div>

<p>もちろん、git addしたファイルを表示する--cachedや、git diff [branch名]のような指定も可能です。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>your-test-tool <span class="sb">`</span>git diff --name-only --cached<span class="sb">`</span>           <span class="c1"># commit予定の差分をテスト</span>
your-test-tool <span class="sb">`</span>git diff --name-only origin/master...<span class="sb">`</span>   <span class="c1"># origin/masterにmerge予定の差分をテスト</span>
</pre></div></div>

<h2>
<span id="上記の全部を便利にする" class="fragment"></span><a href="#%E4%B8%8A%E8%A8%98%E3%81%AE%E5%85%A8%E9%83%A8%E3%82%92%E4%BE%BF%E5%88%A9%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>上記の全部を便利にする</h2>

<h3>
<span id="gitconfigにaliasを作成する" class="fragment"></span><a href="#gitconfig%E3%81%ABalias%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>.gitconfigにaliasを作成する</h3>

<p>例えば、commit/merge履歴をグラフで表示するコマンドをgit graphにしたい場合、下記のコマンドでOKです。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git config --global alias.graph <span class="s1">'log --graph --decorate --oneline'</span>
</pre></div></div>

<p>削除は下記のとおりです。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git config --global --unset alias.graph
</pre></div></div>

<p>※よく使うものは.bashrcや.zshrcのaliasにしたほうが便利です。</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />3位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>158</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/41947da4a448f999aaf0">[dup] Androidの超速エミュレータを導入する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-02-04 16:51:47</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Android]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>重複した記事があるとの指摘がありました。<br>
下記のほうが図とかステップが充実しています！<br>
<a href="http://qiita.com/items/8bc1a11f1382409f1d2a" class="autolink">http://qiita.com/items/8bc1a11f1382409f1d2a</a></p>

<p>【もはやエミュレータとは言わせない】</p>

<h2>
<span id="そもそも超速エミュレータが必要な理由" class="fragment"></span><a href="#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E8%B6%85%E9%80%9F%E3%82%A8%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%BF%E3%81%8C%E5%BF%85%E8%A6%81%E3%81%AA%E7%90%86%E7%94%B1"><i class="fa fa-link"></i></a>そもそも超速エミュレータが必要な理由</h2>

<p>AndroidアプリやWebアプリを作る際、OSバージョンが多すぎて実機とか全部揃えていられないので、エミュレータを使ってデバッグすることになると思います。しかしこのエミュレータが非常に重たくて、MacBook Airなんかで使えたものではありません。これはスマホのARMアーキテクチャのCPUを、PCのx86アーキテクチャのCPU上でエミュレートしているためです。</p>

<p>この問題の解決策として、Intelがx86 CPUで直接動作可能なAndroidを配布しています。Androidの各種アプリは基本的にJava製なので、「Java（Dalvik）仮想マシン」の層でCPUの違いは吸収され、x86版でも全く差異なく動作します。</p>

<h2>
<span id="超速エミュレータの導入手順" class="fragment"></span><a href="#%E8%B6%85%E9%80%9F%E3%82%A8%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%BF%E3%81%AE%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86"><i class="fa fa-link"></i></a>超速エミュレータの導入手順</h2>

<p>超速エミュレータを使用するには、通常のAndroid SDKに加えて2つのコンポーネントが必要になります。</p>

<ul>
<li>CPUの仮想化支援機能を利用するカーネルモジュール</li>
<li>x86版AndroidのOSイメージ</li>
</ul>

<h3>
<span id="カーネルモジュールの導入方法" class="fragment"></span><a href="#%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E5%B0%8E%E5%85%A5%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>カーネルモジュールの導入方法</h3>

<p><a href="http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager" rel="nofollow noopener" target="_blank">Intel® Hardware Accelerated Execution Manager</a>からOSにあったものをダウンロードし、インストールします。途中で仮想マシンに割り当てる（最大？）メモリ容量について聞かれますが、デフォルトで良さそうです。なおMacの場合、再度インストーラを実行することで容量を変更できるようです。<br>
（注）2013/02/04現在：少なくともMountain Lionについては、release_1.0.4-hotfixの方をインストールしてください。通常版をインストールすると、Mac OSがクラッシュします。</p>

<p>Macの場合は、インストール後に下記のコマンドを実行する必要が有るようです。（再起動ごとに実行が必要なのかはまだ試していません・・。）</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>sudo kextload -b com.intel.kext.intelhaxm
</pre></div></div>

<h3>
<span id="osイメージの入手方法" class="fragment"></span><a href="#os%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%81%AE%E5%85%A5%E6%89%8B%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>OSイメージの入手方法</h3>

<p>こちらは簡単で、SDKのディレクトリ/tools/androidで起動できるAndroid SDK Managerから、数クリックでインストール出来ます。Androidの各バージョンに「Intel x86 Atom System Image」という項目がありますので、これにチェックを入れてインストールします。<br>
<a href="https://camo.qiitausercontent.com/8dd30e0c0d28577f1ff9139a4e10c1e84430920f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f31376131366134302d636236642d393839372d366331652d6437326566333935633763642e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/8dd30e0c0d28577f1ff9139a4e10c1e84430920f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f31376131366134302d636236642d393839372d366331652d6437326566333935633763642e706e67" alt="Intel x86 Atom System Imageを選択" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/17a16a40-cb6d-9897-6c1e-d72ef395c7cd.png"></a></p>

<h2>
<span id="エミュレータの設定起動方法" class="fragment"></span><a href="#%E3%82%A8%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%BF%E3%81%AE%E8%A8%AD%E5%AE%9A%E8%B5%B7%E5%8B%95%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>エミュレータの設定、起動方法</h2>

<p>Android Virtual Device Manager上で、仮想デバイスを追加or編集する際に、TargetとCPUを、インストールしたx86版のものに設定するだけで完了です。CPU部分にx86と書かれていればOKです。後は、通常通りeclipseまたはManagerから起動すると、超速で立ち上がってきます。</p>

<p><a href="https://camo.qiitausercontent.com/1a24bc211d34891b53251d58a87f4c91e86e0968/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f34376131666361322d653664632d386132372d643832652d3536653961663036623763642e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/1a24bc211d34891b53251d58a87f4c91e86e0968/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f34376131666361322d653664632d386132372d643832652d3536653961663036623763642e706e67" alt="CPUをx86に設定" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/47a1fca2-e6dc-8a27-d82e-56e9af06b7cd.png"></a></p>

<p>※「HAX is working and emulator runs in fast virt mode」のように表示されない場合は、CPUの仮想化機能が有効（搭載されていて、BIOSでEnabledにされている）かどうか、またカーネルモジュールがインストールされてロード済みかどうかもう一度確認してください。</p>

<h3>
<span id="追記android-233のx86エミュレータを使う場合" class="fragment"></span><a href="#%E8%BF%BD%E8%A8%98android-233%E3%81%AEx86%E3%82%A8%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%BF%E3%82%92%E4%BD%BF%E3%81%86%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>追記：Android 2.3.3のx86エミュレータを使う場合</h3>

<p>イメージのディレクトリ構成にバグがあるので、VM作成時に「userdata.imgがない」みたいなエラーが出てしまいます。<br>
予め、解凍したディレクトリ/sdk/system-images/android-10/x86/images/x86の中身を、解凍したディレクトリ/sdk/system-images/android-10/x86にコピーしておけば解決します。</p>

<p>Macはこちらでどうぞ↓</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>cd sdk/system-images/android-10/x86/images/x86/
ln -s images/x86/* ./  
</pre></div></div>

<p>Happy 超速 Android Hacking!</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />4位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>107</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/d1a50565f187c7c8ec76">シェルだけで色々こなす、便利なシェル芸</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-02-07 17:10:24</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Bash]</b> <b>[Zsh]</b> <b>[shell]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="シェルだけでファイル名だけ変更またはファイルを一括指定" class="fragment"></span><a href="#%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%A0%E3%81%91%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%81%A0%E3%81%91%E5%A4%89%E6%9B%B4%E3%81%BE%E3%81%9F%E3%81%AF%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%B8%80%E6%8B%AC%E6%8C%87%E5%AE%9A"><i class="fa fa-link"></i></a>シェルだけで、ファイル名だけ変更、またはファイルを一括指定</h2>

<p>ファイルパス展開で{a,b,c}記法を使うと、パスの一部（例：ファイル名）だけが違う複数ファイルを簡単に指定できます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>mv /the/long/long/path/to/file /the/long/long/path/to/new_file
</pre></div></div>

<p>これが</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>mv /the/long/long/path/to/<span class="o">{</span>file,new_file<span class="o">}</span>
</pre></div></div>

<p>と簡単にできます。zshなら補完も可能です。<br>
ファイル以外でも下記のようにテキストを展開することができます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ echo hoge{fuga,piyo,muga}
hogefuga hogepiyo hogemuga
</pre></div></div>

<h2>
<span id="シェルだけで連番のファイルをまとめて選択" class="fragment"></span><a href="#%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%A0%E3%81%91%E3%81%A7%E9%80%A3%E7%95%AA%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A6%E9%81%B8%E6%8A%9E"><i class="fa fa-link"></i></a>シェルだけで、連番のファイルをまとめて選択</h2>

<p>ファイルパス展開で[012]記法を使うと、連番のファイルを選択することができます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>cat /blah1 /blah2 /blah3 /blah4
</pre></div></div>

<p>これが</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>cat /blah<span class="o">[</span><span class="m">1234</span><span class="o">]</span>
</pre></div></div>

<p>と簡単にできます。<br>
（存在しないファイルはスキップされます。）</p>

<h2>
<span id="シェルだけで落ちても自動で再起動" class="fragment"></span><a href="#%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%A0%E3%81%91%E3%81%A7%E8%90%BD%E3%81%A1%E3%81%A6%E3%82%82%E8%87%AA%E5%8B%95%E3%81%A7%E5%86%8D%E8%B5%B7%E5%8B%95"><i class="fa fa-link"></i></a>シェルだけで、落ちても自動で再起動</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="k">while</span> true<span class="p">;</span> <span class="k">do</span> target_script<span class="p">;</span> sleep <span class="m">1</span><span class="p">;</span> <span class="k">done</span>
</pre></div></div>

<p>終了する際はCtrl-Cを連打してください。</p>

<h2>
<span id="シェルだけでforループのワンライナー" class="fragment"></span><a href="#%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%A0%E3%81%91%E3%81%A7for%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E3%83%AF%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%8A%E3%83%BC"><i class="fa fa-link"></i></a>シェルだけで、forループのワンライナー</h2>

<p>（これは基本かもしれませんが、なんだかんだで重宝します・・）</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="k">for</span> i in <span class="o">{</span><span class="m">1</span>..100<span class="o">}</span><span class="p">;</span> <span class="k">do</span> target_script <span class="nv">$i</span><span class="p">;</span> <span class="k">done</span>
</pre></div></div>

<h2>
<span id="sedだけどシェルだけで一括置換" class="fragment"></span><a href="#sed%E3%81%A0%E3%81%91%E3%81%A9%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%A0%E3%81%91%E3%81%A7%E4%B8%80%E6%8B%AC%E7%BD%AE%E6%8F%9B"><i class="fa fa-link"></i></a>（sedだけど）シェルだけで一括置換</h2>

<p>sed -iを使うと、ファイルの中身を直接書き換えることができます。<br>
例えば、dictionaryをdictonaryとtypoしてしまったケースがたくさんあるとすると、下記のコマンドで置換できます。（必ずgit等で前の状態に戻せるようにしておいてください！）</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>sed -i <span class="s1">''</span> -E <span class="s1">'s/(d|D)ictonary/\1ictionary/g'</span> **/*.<span class="o">[</span>mh<span class="o">]</span>
</pre></div></div>

<p><code>-i ''</code>は、置換結果を元のファイルに書き出すオプションです。<code>-i '.new'</code>とすれば、入力ファイル.newのように、.newが末尾についたファイル名で保存されます（＝上書きされません）。<br>
-Eは高度な正規表現を有効にするためのオプションです。</p>

<p>ファイル数が多い場合はagで絞ってから置換してもよいでしょう。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>sed -i <span class="s1">''</span> <span class="s1">'s/some_bad_method_name_or_something/good_one/g'</span> <span class="sb">`</span>ag -l some_bad_method_name_or_something ./lib<span class="sb">`</span>
</pre></div></div>

<p>下を.bashrcや.zshrcなどに貼っとくと便利です</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>sed-inplace <span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">((</span> <span class="nv">$#</span> &lt; <span class="m">2</span> <span class="o">))</span><span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> <span class="s2">"sed-inplace FROM TO [PATH ...]"</span>
        <span class="k">return</span> <span class="m">1</span>
    <span class="k">fi</span>
    <span class="nv">from</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
    <span class="nv">to</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
    <span class="nb">shift</span> <span class="m">2</span>
    ag -l <span class="s2">"</span><span class="nv">$from</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="p">|</span> <span class="k">while</span> <span class="nb">read</span> file<span class="p">;</span> <span class="k">do</span>
      <span class="k">if</span> <span class="o">[</span> <span class="s2">"`uname`"</span> <span class="o">=</span> <span class="s2">"Darwin"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c1"># please, please give me portable sed...</span>
        sed -i <span class="s1">''</span> -e <span class="s2">"s/</span><span class="nv">$from</span><span class="s2">/</span><span class="nv">$to</span><span class="s2">/g"</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span>
      <span class="k">else</span>
        sed -i<span class="s1">''</span> -e <span class="s2">"s/</span><span class="nv">$from</span><span class="s2">/</span><span class="nv">$to</span><span class="s2">/g"</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span>
      <span class="k">fi</span>
    <span class="k">done</span>
<span class="o">}</span>
</pre></div></div>

<p><a href="https://gist.github.com/ypresto/20213882618c6e650c35" class="autolink" rel="nofollow noopener" target="_blank">https://gist.github.com/ypresto/20213882618c6e650c35</a></p>

<p>※ag/ackがない場合はgrep -Rで代用できますが、.gitが置換対象に含まれないよう注意してください<br>
※Mac (BSD?)では<code>-i ''</code>、Linuxでは<code>-i''</code>と書く必要があります。<br>
※<code>()</code>が含まれているとsedが拾ってしまうので、<code>\(</code>のようにエスケープしてください</p>

<h2>
<span id="シェルだけで並列実行" class="fragment"></span><a href="#%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%A0%E3%81%91%E3%81%A7%E4%B8%A6%E5%88%97%E5%AE%9F%E8%A1%8C"><i class="fa fa-link"></i></a>シェルだけで、並列実行</h2>

<p><a href="http://stackoverflow.com/questions/5547787/running-shell-script-in-parallel" class="autolink" rel="nofollow noopener" target="_blank">http://stackoverflow.com/questions/5547787/running-shell-script-in-parallel</a></p>

<p>gnu parallelコマンドを使うか、bashに内蔵されたバックグラウンド実行機能（&amp;やbgコマンドを使うもの）＋プロセスの終了待ちをするwaitコマンドを使えば簡単に並列実行できます。</p>

<h3>
<span id="parallel篇" class="fragment"></span><a href="#parallel%E7%AF%87"><i class="fa fa-link"></i></a>parallel篇</h3>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>cat url_list.txt <span class="p">|</span> parallel wget
</pre></div></div>

<p>parallelコマンドは入力を改行で区切り、指定されたコマンドの後ろに付けて実行します。並列実行数はデフォルトでCPUコア数（スレッド数？）と同じですが、--jobsで指定もできます。</p>

<h3>
<span id="bashだけ篇" class="fragment"></span><a href="#bash%E3%81%A0%E3%81%91%E7%AF%87"><i class="fa fa-link"></i></a>bashだけ篇</h3>

<p>下記のコードは<a href="http://stackoverflow.com/questions/5547787/running-shell-script-in-parallel" rel="nofollow noopener" target="_blank">stackoverflow</a>の引用です。 (Quoted from stackoverflow.)</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="k">for</span> i in <span class="o">{</span><span class="m">1</span> <span class="m">1000</span><span class="o">}</span>
<span class="k">do</span>
   <span class="o">(</span> Generating random numbers here , sorting  and outputting to file<span class="nv">$i</span>.txt <span class="o">)</span> <span class="p">&amp;</span>
   <span class="k">if</span> <span class="o">((</span> <span class="nv">$i</span> % <span class="nv">10</span> <span class="o">==</span> <span class="m">0</span> <span class="o">))</span><span class="p">;</span> <span class="k">then</span> wait<span class="p">;</span> <span class="k">fi</span> <span class="c1"># Limit to 10 concurrent subshells.</span>
<span class="k">done</span>
<span class="nb">wait</span>
</pre></div></div>

<p>さすがに最大ジョブ数で管理することはできず、10個立ち上げたら全部終わるのをまってから、また10個立ち上げて・・という流れになります。</p>

<h2>
<span id="おまけ的なシェルだけで後置ならぬ前置if文や三項演算子っぽい何か" class="fragment"></span><a href="#%E3%81%8A%E3%81%BE%E3%81%91%E7%9A%84%E3%81%AA%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%A0%E3%81%91%E3%81%A7%E5%BE%8C%E7%BD%AE%E3%81%AA%E3%82%89%E3%81%AC%E5%89%8D%E7%BD%AEif%E6%96%87%E3%82%84%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90%E3%81%A3%E3%81%BD%E3%81%84%E4%BD%95%E3%81%8B"><i class="fa fa-link"></i></a>（おまけ的な）シェルだけで、後置ならぬ前置if文や三項演算子っぽい何か</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>some_command <span class="o">&amp;&amp;</span> <span class="nb">echo</span> success!
some_command <span class="o">||</span> <span class="nb">echo</span> fail...
some_command <span class="o">&amp;&amp;</span> <span class="nb">echo</span> success! <span class="o">||</span> <span class="nb">echo</span> fail...
</pre></div></div>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="nb">let</span> <span class="nv">cnt</span><span class="o">=</span><span class="m">0</span><span class="p">;</span>

<span class="k">while</span> ...<span class="p">;</span> <span class="k">do</span>
    some_processing<span class="p">;</span>
    <span class="nb">let</span> cnt++<span class="p">;</span>
    <span class="o">((</span> <span class="nv">$cnt</span> &gt;<span class="o">=</span> <span class="m">10</span> <span class="o">))</span> <span class="o">&amp;&amp;</span> break<span class="p">;</span>
<span class="k">done</span> 
</pre></div></div>

<h2>
<span id="おまけ2xargsでシェルスクリプトを渡す" class="fragment"></span><a href="#%E3%81%8A%E3%81%BE%E3%81%912xargs%E3%81%A7%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92%E6%B8%A1%E3%81%99"><i class="fa fa-link"></i></a>（おまけ2）xargsでシェルスクリプトを渡す</h2>

<p>bash -cを使えばシェルスクリプトの文字列を直接実行でき、これとxargsを組み合わせればechoの中でバッククォート展開を叩いたりできます。<br>
<code>xargs -i</code>で{}がファイルパスに置き換わる（Mac OS X（おそらくBSDも）は<code>xargs -I'{}'</code>と明示的な指定が必要）ます。</p>

<p>下記は「HogeClass」という文字が含まれているファイルが最後にcommitされた日を表示する例です。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>ag -l <span class="s1">'HogeClass'</span> <span class="p">|</span> xargs -n1 -i bash -c <span class="s1">'echo "{}: `git log -n 1 --pretty=format:%cd -- {}`"'</span>
</pre></div></div>

<p>※シェル芸というワードは<a href="https://twitter.com/usptomo" rel="nofollow noopener" target="_blank">こちら</a>のtwitterアカウント名から頂きました</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />5位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>83</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/5729656c1dfcc6950cb3">実践的Perlデバッグ三種の神器</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-11-25 22:07:21</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Perl]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>perlでprintfデバッグするにはData::Dumperがおなじみかと思いますが、printfデバッグでは「○○が××なのではないか」という仮説を１つずつ検証していくことになり大変なときもあります。Perlはスタックトレースとかをあまり吐いてくれないし大変だと思いきや、エラーの可視化などに便利なモジュールがあったのでメモりました。</p>

<h2>
<span id="変な場所でdieまたはwarnが出て困っている場合--carpalways" class="fragment"></span><a href="#%E5%A4%89%E3%81%AA%E5%A0%B4%E6%89%80%E3%81%A7die%E3%81%BE%E3%81%9F%E3%81%AFwarn%E3%81%8C%E5%87%BA%E3%81%A6%E5%9B%B0%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E5%A0%B4%E5%90%88--carpalways"><i class="fa fa-link"></i></a>変な場所でdieまたはwarnが出て困っている場合 =&gt; Carp::Always</h2>

<p>warnまたはdieが出た時に、スタックトレースを引数付きで表示してくれます。warnやdieが出るが、どこから呼び出された時に、どんな引数のときにで出ているのかわからない場合に便利です。<br>
※ Carp::Always::Colorというモジュールもあるようですが、まだ試していません。</p>

<p>エラーメッセージが少なすぎたので<br>
<a href="https://camo.qiitausercontent.com/49ea42e46e18c701857371e4d8f570c0fc787e72/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f32373236353439662d303930382d636334302d643235332d3131313939326262366130662e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/49ea42e46e18c701857371e4d8f570c0fc787e72/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f32373236353439662d303930382d636334302d643235332d3131313939326262366130662e706e67" alt="エラーメッセージが少なすぎ" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/2726549f-0908-cc40-d253-111992bb6a0f.png"></a></p>

<p>use Carp::Always;を適当な場所に追加（読み込まれればどこでもOK）<br>
<a href="https://camo.qiitausercontent.com/4aff7b2ee752777c2158c647738967c77ad23e75/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f31613861366466392d633637622d396331302d636232632d3436613932653432376133342e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/4aff7b2ee752777c2158c647738967c77ad23e75/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f31613861366466392d633637622d396331302d636232632d3436613932653432376133342e706e67" alt="use Carp::Always;追加" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/1a8a6df9-c67b-9c10-cb2c-46a92e427a34.png"></a></p>

<p>何が、どこから、どう呼び出されたのかが表示される<br>
<a href="https://camo.qiitausercontent.com/f7e4e16ea51e38b8f24da3e4ac3fcb75c3f55303/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f39636538663261342d626633392d316333362d393932652d6563363437643337646562652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/f7e4e16ea51e38b8f24da3e4ac3fcb75c3f55303/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f39636538663261342d626633392d316333362d393932652d6563363437643337646562652e706e67" alt="スタックトレースをゲット" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/9ce8f2a4-bf39-1c36-992e-ec647d37debe.png"></a></p>

<h2>
<span id="sqlが怪しい場合--develkytprof" class="fragment"></span><a href="#sql%E3%81%8C%E6%80%AA%E3%81%97%E3%81%84%E5%A0%B4%E5%90%88--develkytprof"><i class="fa fa-link"></i></a>SQLが怪しい場合 =&gt; Devel::KYTProf</h2>

<p>プロファイリング用のモジュールですが、SQLクエリの文とプレースホルダの中身が表示されるため、デバッグに重宝します。</p>

<p>use Devel::KYTProf;を適当な場所に追加（読み込まれればどこでもOK）<br>
<a href="https://camo.qiitausercontent.com/21ce1111b542e04c5d98d2cc93e323f5f64e815d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f61666231393363342d643837372d333666642d643964612d6237306633653238636239312e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/21ce1111b542e04c5d98d2cc93e323f5f64e815d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f61666231393363342d643837372d333666642d643964612d6237306633653238636239312e706e67" alt="use Devel::KYTProf;追加" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/afb193c4-d877-36fd-d9da-b70f3e28cb91.png"></a></p>

<p>SQLと実行時間が表示される<br>
<a href="https://camo.qiitausercontent.com/90ecd3da5ab8fcfbd9b454c693cc5c1666cd43e7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f64376537353434352d666164352d303239652d383433322d3336356162393161303531352e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/90ecd3da5ab8fcfbd9b454c693cc5c1666cd43e7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f64376537353434352d666164352d303239652d383433322d3336356162393161303531352e706e67" alt="SQLの実行情報をゲット" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/d7e75445-fad5-029e-8432-365ab91a0515.png"></a></p>

<h2>
<span id="怪しい構文変数関数をいろいろチェックしたい時--develrepl-carprepl" class="fragment"></span><a href="#%E6%80%AA%E3%81%97%E3%81%84%E6%A7%8B%E6%96%87%E5%A4%89%E6%95%B0%E9%96%A2%E6%95%B0%E3%82%92%E3%81%84%E3%82%8D%E3%81%84%E3%82%8D%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%81%97%E3%81%9F%E3%81%84%E6%99%82--develrepl-carprepl"><i class="fa fa-link"></i></a>怪しい構文、変数、関数をいろいろチェックしたい時 =&gt; (Devel::REPL, Carp::REPL)</h2>

<p><a href="http://d.hatena.ne.jp/keyword/REPL" rel="nofollow noopener" target="_blank">REPL</a>は乱暴に言えばプロンプトのことです。Devel::REPLは、シェルから使える"re.pl"コマンドで、単独のperlプロンプトを起動することができます。これは構文の動作（複雑な式の挙動など）を確認したい時に大いに役立ちます。</p>

<p>Carp::REPLはdieした場所や、プログラム中の任意の場所でプロンプトを起動します。変数の中身の確認と編集、関数の返り値のチェックなど、なんでもできるようになります。rubyのbinding.pryをご存知の方は、それのperl版がだいたいこれです。</p>

<p>※ 起動時に「モジュールくれ」と言われるので、Term::ReadLine::GnuまたはTerm::ReadLine::Perlも一緒にインストールしておきましょう。また、自分でインストールしたときにはFile::Nextへの依存関係が欠落していたので、別途インストールする必要がありました。今は修正されているかもしれません。</p>

<h3>
<span id="dieした時にプロンプトを起動する" class="fragment"></span><a href="#die%E3%81%97%E3%81%9F%E6%99%82%E3%81%AB%E3%83%97%E3%83%AD%E3%83%B3%E3%83%97%E3%83%88%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>dieした時にプロンプトを起動する</h3>

<p>perl -MCarp::REPL script.plと指定して起動するか、use Carp::REPL;を適当な場所に追加<br>
<a href="https://camo.qiitausercontent.com/23100cae8a408a3598eafc2e81f206e7c4f36238/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f62383832313736662d653664662d366236392d326466342d3864336635363534373961322e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/23100cae8a408a3598eafc2e81f206e7c4f36238/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f62383832313736662d653664662d366236392d326466342d3864336635363534373961322e706e67" alt="use Carp::REPLの追加" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/b882176f-e6df-6b69-2df4-8d3f565479a2.png"></a></p>

<p>dieしたときにプロンプトが起動する<br>
<a href="https://camo.qiitausercontent.com/1e974a4a79b8b1bc2eb1a06a396e9b5ff3aacf2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f62313335336631392d623238302d396632662d333332362d3036613161636664636437322e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/1e974a4a79b8b1bc2eb1a06a396e9b5ff3aacf2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f62313335336631392d623238302d396632662d333332362d3036613161636664636437322e706e67" alt="dieするとREPLが起動" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/b1353f19-b280-9f2f-3326-06a1acfdcd72.png"></a></p>

<p>プロンプト内では、変数名を叩くだけで変数の中身がdumpされます。</p>

<h3>
<span id="プログラム中の任意の場所でプロンプトを起動する" class="fragment"></span><a href="#%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E4%B8%AD%E3%81%AE%E4%BB%BB%E6%84%8F%E3%81%AE%E5%A0%B4%E6%89%80%E3%81%A7%E3%83%97%E3%83%AD%E3%83%B3%E3%83%97%E3%83%88%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>プログラム中の任意の場所でプロンプトを起動する</h3>

<p>use Carp::REPLとrepl関数の呼び出しを追加<br>
<a href="https://camo.qiitausercontent.com/473fe2f50c187544e3ce687a718b481f4e34b13a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f36623939313063642d353633362d316366632d613230302d6661333133396330353665362e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/473fe2f50c187544e3ce687a718b481f4e34b13a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f36623939313063642d353633362d316366632d613230302d6661333133396330353665362e706e67" alt="repl呼び出しを追加" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/6b9910cd-5636-1cfc-a200-fa3139c056e6.png"></a></p>

<p>replが呼び出された時にプロンプトが起動する<br>
<a href="https://camo.qiitausercontent.com/4e7d997da453f9d415745605d3bf8b8d64b88137/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f63666334376232342d663134312d653966362d376131362d3932336537363435396538312e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/4e7d997da453f9d415745605d3bf8b8d64b88137/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f343135332f63666334376232342d663134312d653966362d376131362d3932336537363435396538312e706e67" alt="プロンプトを操作して、変数を書き換えて続行したりもできる" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/4153/cfc47b24-f141-e9f6-7a16-923e76459e81.png"></a></p>

<p>変数を書き換えるなどしたあと、CTRL+Dで続行することができます。</p>

<h2>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h2>

<ul>
<li>Carp::Always

<ul>
<li>エラーやスタックトレースの可視化</li>
<li>useするだけ</li>
</ul>
</li>
<li>Devel::KYTProf

<ul>
<li>SQLの可視化</li>
<li>useするだけ</li>
</ul>
</li>
<li>Devel::REPL

<ul>
<li>プロンプトで構文や式の動作を確認</li>
<li>re.plコマンド</li>
</ul>
</li>
<li>Carp::REPL

<ul>
<li>プログラムの途中でプロンプトを起動</li>
<li>dieしたところで使うなら、perl -MCarp::REPL script.plまたはuseするだけ</li>
<li>repl関数を使って任意の場所で起動</li>
</ul>
</li>
</ul>

<p>他にもこんなのがあるよ、こっちのほうが便利だよ！というものがあればぜひコメントで教えて下さいｍｍ<br>
happy perl hacking :-)</p>

<p>追記：あとで見たら微妙に４種になってました・・すみませんでしたｍｍ</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />6位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>80</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/5b0774745ae897d36e19">Mac OS X Lionでプロセッサやメモリの情報を取得するコマンド</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-10-29 02:27:19</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[MacOSX]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Linuxだと/proc/cpuinfoを開くことで、周波数やコア数、キャッシュ容量などの各種プロセッサ情報が取得できることはご存知でしょうか。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>cat /proc/cpuinfo
</pre></div></div>

<p>一方で、MacはもちろんLinuxベースではないので、/proc/cpuinfoが存在せず、この方法では取得することができません。<br>
代わりに下記コマンドを使うと取得できました。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>system_profiler SPHardwareDataType
</pre></div></div>

<p>CPU情報以外にも様々な情報が取得でき、下記のコマンドでその種類（DataType）を確認できます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>system_profiler -listDataTypes
</pre></div></div>

<p>なお、DataTypeは複数指定することもできます。<br>
DataTypeを指定せずに実行すると、まとめて全部表示することができますが、そこそこ重たいみたいなので注意が必要です。</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />7位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>72</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/dcebbebc6b3d9cf6f542">1つのgitリポジトリに複数の作業ディレクトリを作る</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-04-15 01:21:00</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>（commit or stash + checkoutすらめんどいことだって、あるんですよ・・）</p>

<h2>
<span id="そもそもリポジトリと作業ディレクトリの違いって" class="fragment"></span><a href="#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%A8%E4%BD%9C%E6%A5%AD%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E9%81%95%E3%81%84%E3%81%A3%E3%81%A6"><i class="fa fa-link"></i></a>そもそもリポジトリと作業ディレクトリの違いって？</h2>

<p>gitリポジトリには、コミットされている内容やブランチなどの全ての情報がつまっています。一方で作業ディレクトリは、リポジトリ内のあるcommitの内容を、ファイルとして書き出したものになっています。</p>

<h2>
<span id="git-new-workdirコマンド" class="fragment"></span><a href="#git-new-workdir%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89"><i class="fa fa-link"></i></a>git-new-workdirコマンド</h2>

<p>gitリポジトリに紐づく新たな作業ディレクトリを作成します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>git-new-workdir &lt;repository&gt; &lt;new_workdir&gt; [&lt;branch&gt;]
</pre></div></div>

<p>ただし、デフォルトでPATHが通っていません。Fedoraあたりなら /usr/share/doc/git-1.7.10.2/contrib/workdir/git-new-workdir に、homebrewなら /usr/local/Cellar/git/1.7.12.4/share/git-core/contrib/workdir/git-new-workdir あたりに入っているかと思われます（バージョンは適宜読み替えてください）。その他gitがインストールされている環境であれば、locateや/usr以下へのfind -nameで見つけられると思います。</p>

<h2>
<span id="それってgitリポジトリをコピペするのと何が違うの" class="fragment"></span><a href="#%E3%81%9D%E3%82%8C%E3%81%A3%E3%81%A6git%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%82%92%E3%82%B3%E3%83%94%E3%83%9A%E3%81%99%E3%82%8B%E3%81%AE%E3%81%A8%E4%BD%95%E3%81%8C%E9%81%95%E3%81%86%E3%81%AE"><i class="fa fa-link"></i></a>それってgitリポジトリをコピペするのと何が違うの？</h2>

<ul>
<li>
<strong>branchの状態</strong>が共有されます。すなわち、ある作業ディレクトリでcommitをすると、他の作業ディレクトリからも参照できます。</li>
<li>
<strong>git pullやgit fetch、git remote update</strong>などで取得した情報は共有されます。</li>
<li>
<strong>ブランチ固有のconfig（.git/config）</strong>が共有されます。</li>
<li>（hookなども共有されると思います。）</li>
</ul>

<h2>
<span id="作業ディレクトリがいくつもあって何がうれしいの" class="fragment"></span><a href="#%E4%BD%9C%E6%A5%AD%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%8C%E3%81%84%E3%81%8F%E3%81%A4%E3%82%82%E3%81%82%E3%81%A3%E3%81%A6%E4%BD%95%E3%81%8C%E3%81%86%E3%82%8C%E3%81%97%E3%81%84%E3%81%AE"><i class="fa fa-link"></i></a>作業ディレクトリがいくつもあって何がうれしいの？</h2>

<ul>
<li>別々のbranchを同時にcheckoutして、動作の比較を行ったりできます。</li>
<li>急なバグ対応が入ったりした時に、面倒なcommitやstashをせずに、すぐに作業を切り替えることができます。</li>
<li>（個人的に）作業状態のまま放置できるので、どの作業をしていたのか忘れずに済みます。</li>
</ul>

<h2>
<span id="注意したい点" class="fragment"></span><a href="#%E6%B3%A8%E6%84%8F%E3%81%97%E3%81%9F%E3%81%84%E7%82%B9"><i class="fa fa-link"></i></a>注意したい点</h2>

<ul>
<li>index/staging領域（git addすると追加されるところ）は共有されません

<ul>
<li>すなわち、ある作業ディレクトリからgit addしただけの差分は、他の作業ディレクトリから参照できません</li>
</ul>
</li>
<li>ある作業ディレクトリでcheckoutしているブランチを、<strong>別の作業ディレクトリから更新（commitやreset HEAD~、pullなど）してしまう</strong>と、おかしなことになります。

<ul>
<li>git statusすると、checkoutしていたツリーがgit addされていることがわかります（indexがそのままに、commitだけが変わったため）。</li>
<li>
<strong>まだgit addしていない</strong>変更内容が巻き添えになったときは、<strong>同じファイルが変更されていない限り</strong>、git reset --mergeするとだいたい元に戻るかと思いますが、保証はありません。</li>
</ul>
</li>
<li>checkout中のbranchを他の作業ディレクトリから消してしまうと、その作業ディレクトリではcheckoutすらできなくなってしまいます。

<ul>
<li>git reset --hard &lt;どこか&gt; としてブランチを再度初期化し、改めてブランチを消してください</li>
</ul>
</li>
<li>シンボリックリンクを使っているので、repositoryとしてgit-new-workdirで作成したディレクトリを渡すと、symlinkに対するsymlinkが作成されておかしくなるかもしれません。</li>
</ul>

<p>※使っていない作業ディレクトリのファイル容量が気になる時は、ファイルをすべてgit rmしたparking branchを作成して、checkoutしておくとよさそうです。<br>
※作業ディレクトリ数に制限はありません。</p>

<h2>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h2>

<p><a href="http://subtech.g.hatena.ne.jp/secondlife/20121207/1354854068" class="autolink" rel="nofollow noopener" target="_blank">http://subtech.g.hatena.ne.jp/secondlife/20121207/1354854068</a></p>

<p>Qiitaのこの記事でも取り上げられていました。<br>
<a href="http://qiita.com/items/2a19f5dca568329f8f8e" class="autolink">http://qiita.com/items/2a19f5dca568329f8f8e</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />8位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>26</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/fdb2436c23bf9f514c15">sshごしのvimからクリップボードにコピーする</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-04-11 12:53:37</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Vim]</b> <b>[SSH]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>&lt;もっと評価されるべき&gt;</p>

<h2>
<span id="参考サイト" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%82%B5%E3%82%A4%E3%83%88"><i class="fa fa-link"></i></a>参考サイト</h2>

<ul>
<li>受信側（手元のマシンに入れるスクリプト）

<ul>
<li><a href="http://yskwkzhr.blogspot.jp/2011/04/copying-remote-screen-paste-buffer.html" class="autolink" rel="nofollow noopener" target="_blank">http://yskwkzhr.blogspot.jp/2011/04/copying-remote-screen-paste-buffer.html</a></li>
</ul>
</li>
<li>送信側（ssh先のマシンに入れるスクリプト）

<ul>
<li><a href="http://blog.remora.cx/2011/08/yank-to-local-clipboard-from-vim-on-screen.html" class="autolink" rel="nofollow noopener" target="_blank">http://blog.remora.cx/2011/08/yank-to-local-clipboard-from-vim-on-screen.html</a></li>
</ul>
</li>
</ul>

<h2>
<span id="必要な作業" class="fragment"></span><a href="#%E5%BF%85%E8%A6%81%E3%81%AA%E4%BD%9C%E6%A5%AD"><i class="fa fa-link"></i></a>必要な作業</h2>

<ul>
<li>
<p>clipboard_text_listerner.pl</p>

<ul>
<li>TCPで受け取った情報をクリップボードに突っ込むスクリプトです</li>
<li>
<p>cloneして起動します</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>git clone git://github.com/yoshikaw/ClipboardTextListener.git
cd ClipboardTextListener
./clipboard_text_listener.pl -key パスワード文字列 -encoding utf8 -debug 2
</pre></div></div>
</li>
</ul>
</li>
<li>
<p>送信用vimスクリプト</p>

<ul>
<li>netcatを使って、TCPでvimのregisterの中身を送信するスクリプトです

<ul>
<li>ncコマンドがない環境では動きません</li>
</ul>
</li>
<li>.vimrcにコピペします

<ul>
<li><a href="http://blog.remora.cx/2011/08/yank-to-local-clipboard-from-vim-on-screen.html" class="autolink" rel="nofollow noopener" target="_blank">http://blog.remora.cx/2011/08/yank-to-local-clipboard-from-vim-on-screen.html</a></li>
</ul>
</li>
<li>~/.exchange.key にパスワード文字列を保存しておきます</li>
<li>
<p>普通にyankした後、&lt;Leader&gt;yを押すと、送信されるはずです！</p>

<ul>
<li>
<p>成功していれば、下記のようなメッセージがclipboard_text_listener.plのコンソールに出るはずです</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>2013/04/11 12:33:09 TextListener[36155]: (127.0.0.1:53529) *** RECEIVE DATA *** (166/3)
</pre></div></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />9位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>9</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/9c4ab0c2e87b54bc7c17">変更したファイルは全部テストorチェックにかける（git add、commit、push前に）</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-11-25 22:26:56</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="変更or追加したけどgit-addしていないファイルたち" class="fragment"></span><a href="#%E5%A4%89%E6%9B%B4or%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%81%91%E3%81%A9git-add%E3%81%97%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%9F%E3%81%A1"><i class="fa fa-link"></i></a>変更or追加したけど、git addしていないファイルたち</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>prove `git ls-files --modified --others --exclude-standard`
</pre></div></div>

<h2>
<span id="addしたファイルたち" class="fragment"></span><a href="#add%E3%81%97%E3%81%9F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%9F%E3%81%A1"><i class="fa fa-link"></i></a>addしたファイルたち</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>prove `git diff --cached --name-only`
</pre></div></div>

<h2>
<span id="push準備完了の差分たち" class="fragment"></span><a href="#push%E6%BA%96%E5%82%99%E5%AE%8C%E4%BA%86%E3%81%AE%E5%B7%AE%E5%88%86%E3%81%9F%E3%81%A1"><i class="fa fa-link"></i></a>push準備完了の差分たち</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>prove `git diff --name-only origin/master...HEAD`
</pre></div></div>

<p>※ origin/masterはpush先のリモートブランチにあわせて変更してください。<br>
※ proveはご利用の言語やツールに合わせてお好きなコマンドに変更してください。</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />10位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>7</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/cd6bcd36c6bb18dac8bf">シンプルだけどIP変更チェック付きのValue DomainのDDNSアップデートスクリプト</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-09-14 18:15:40</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[DDNS]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>シェルスクリプトじゃなかったり、複数ホスト対応などの不要な機能があるものが多かったので、自分で作っちゃいました。</p>

<p><a href="https://gist.github.com/ypresto/6559955" class="autolink" rel="nofollow noopener" target="_blank">https://gist.github.com/ypresto/6559955</a></p>

<h2>
<span id="インストール" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>インストール</h2>

<p>とりあえず落として、設定ファイルを書きます。</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>wget <span class="s1">'https://gist.github.com/ypresto/6559955/raw/  d6386d44483a291a2899e935c7c6b440c7e8716d/update-ddns'</span>
chmod +x ./update-ddns

wget <span class="s1">'https://gist.github.com/ypresto/6559955/raw/8135fba20f0ea9d23165c553b177156246f73dfb/update-ddns.conf'</span>
chmod <span class="m">600</span> ./update-ddns.conf
</pre></div></div>

<p>お好きなエディタで./update-ddns.confを編集してください。<br>
下記の内容を記述します。</p>

<ul>
<li>DOMAIN=：契約しているドメイン名（hogefuga.com）</li>
<li>PASSWORD=：Value Domainで設定したDDNS専用パスワード</li>
<li>HOST=：アップデートしたいホスト名（www2）</li>
</ul>

<p>最後に下記を実行してインストールします。</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>sudo chown root:root ./update-ddns ./update-ddns.conf
sudo mv ./update-ddns.conf /etc/
sudo mv ./update-ddns /etc/cron.hourly/
</pre></div></div>

<p>1時間ごとに実行されますが、IPが変更されていた時のみ更新するので、負荷は最小限に留められます。</p>

<p>Happy DDNS hacking!</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />11位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>2</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/de0483ec2f3338d82158">OS XのFunctionキーとOptionキーとかの組み合わせまとめ（一発ディスプレイミラーリングなど）</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-01-12 15:54:16</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[MacOSX]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Functionキーは普通に押すと、ディスプレイの明るさの変更やデスクトップの表示、Mission Controlの表示などができますが、Control、Option、Shift、Commandの組み合わせでさらなる機能を発揮します。</p>

<h2>
<span id="fn系" class="fragment"></span><a href="#fn%E7%B3%BB"><i class="fa fa-link"></i></a>Fn系</h2>

<table>
<thead>
<tr>
<th>キー</th>
<th>通常</th>
<th>Optionで設定画面を開く</th>
<th>Option+Shiftで少しずつ増減</th>
<th>Command</th>
</tr>
</thead>
<tbody>
<tr>
<td>F1</td>
<td>ディスプレイ輝度↓</td>
<td>○</td>
<td>○</td>
<td>ディスプレイミラーリング</td>
</tr>
<tr>
<td>F2</td>
<td>ディスプレイ輝度↑</td>
<td>○</td>
<td>○</td>
<td>ターゲットディスプレイ</td>
</tr>
<tr>
<td>F3</td>
<td>Mission Control</td>
<td>○</td>
<td>×</td>
<td>デスクトップを表示</td>
</tr>
<tr>
<td>F4</td>
<td>Launch Pad</td>
<td>×</td>
<td>×</td>
<td>-</td>
</tr>
<tr>
<td>F5</td>
<td>キーボード輝度↓</td>
<td>○</td>
<td>○</td>
<td>VoiceOver</td>
</tr>
<tr>
<td>F6</td>
<td>キーボード輝度↑</td>
<td>○</td>
<td>○</td>
<td>-</td>
</tr>
<tr>
<td>F7</td>
<td>巻き戻し</td>
<td>×</td>
<td>×</td>
<td>-</td>
</tr>
<tr>
<td>F8</td>
<td>再生・一時停止</td>
<td>×</td>
<td>×</td>
<td>-</td>
</tr>
<tr>
<td>F9</td>
<td>早送り</td>
<td>×</td>
<td>×</td>
<td>-</td>
</tr>
<tr>
<td>F10</td>
<td>ミュート</td>
<td>○</td>
<td>×</td>
<td>-</td>
</tr>
<tr>
<td>F11</td>
<td>音量↓</td>
<td>○</td>
<td>○</td>
<td>-</td>
</tr>
<tr>
<td>F12</td>
<td>音量↑</td>
<td>○</td>
<td>○</td>
<td>-</td>
</tr>
</tbody>
</table>

<p>※F3/F4はShiftでアニメーション速度を遅くする</p>

<h2>
<span id="fn以外" class="fragment"></span><a href="#fn%E4%BB%A5%E5%A4%96"><i class="fa fa-link"></i></a>Fn以外</h2>

<h3>
<span id="power" class="fragment"></span><a href="#power"><i class="fa fa-link"></i></a>Power</h3>

<table>
<thead>
<tr>
<th>Modifier</th>
<th>機能</th>
</tr>
</thead>
<tbody>
<tr>
<td>なし</td>
<td>コンピュータをスリープ</td>
</tr>
<tr>
<td>(2秒押し)</td>
<td>システム終了ダイアログを表示</td>
</tr>
<tr>
<td>Control</td>
<td>システム終了ダイアログを表示</td>
</tr>
<tr>
<td>Control + Shift</td>
<td>ディスプレイをスリープ</td>
</tr>
</tbody>
</table>

<p><a href="http://hints.macworld.com/article.php?story=20131025154203251" class="autolink" rel="nofollow noopener" target="_blank">http://hints.macworld.com/article.php?story=20131025154203251</a></p>

<h3>
<span id="power-lionまでの場合" class="fragment"></span><a href="#power-lion%E3%81%BE%E3%81%A7%E3%81%AE%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>Power (Lionまでの場合？)</h3>

<table>
<thead>
<tr>
<th>Modifier</th>
<th>機能</th>
</tr>
</thead>
<tbody>
<tr>
<td>なし</td>
<td>システム終了ダイアログを表示</td>
</tr>
<tr>
<td>Option</td>
<td>コンピュータをスリープ？</td>
</tr>
<tr>
<td></td>
<td>ほかは同じ？</td>
</tr>
</tbody>
</table>

<h3>
<span id="esc" class="fragment"></span><a href="#esc"><i class="fa fa-link"></i></a>Esc</h3>

<table>
<thead>
<tr>
<th>Modifier</th>
<th>機能</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command + Option</td>
<td>「アプリケーションの強制終了」ダイアログを表示</td>
</tr>
<tr>
<td>Command + Option + Shift</td>
<td>(Lionまで？) 3秒押しで現在のアプリケーションを強制終了</td>
</tr>
</tbody>
</table>

<h2>
<span id="その他" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96"><i class="fa fa-link"></i></a>その他</h2>

<p><a href="http://support.apple.com/kb/ht1343?viewlocale=ja_JP" rel="nofollow noopener" target="_blank">Apple公式のキーボードショートカット一覧</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />12位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>2</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/dbe89eb7f50f40b5c503">Ubuntu 12.04でBluetoothのホスト名を変える</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-10-29 02:21:04</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ubuntu]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Ubuntu 12.04ではBluetoothの自局ホスト名を変える設定が存在しない。<br>
Bluetoothの設定画面に行くと、「ubuntu-0」という表示があるが固定されている。これだと非常にかっこ悪い。</p>

<p>この設定自体はGnomeが管理しているものではなく、bluetoothスタックが管理しているようである。Ubuntu 12.04では下記の場所にあるファイル内部に設定が存在する。<br>
/var/lib/bluethooth/（BluetoothデバイスのMACアドレス）/config</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>name ubuntu-0
pairable yes
class 0x6e0100
</pre></div></div>

<p>上記のようなファイルになっているので、name欄を好きな名前に書き換えた上で、再起動するか、bluetoothデーモンを再起動すればOK。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>sudo service bluetooth restart
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yuya_prestoさんの<br />13位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>1</kbd>
		<a target="_blank" href="https://qiita.com/yuya_presto/items/8683e260c24acb0e3f89">Phabricator+nginxをUbuntuにインストールしてみる</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-02-09 02:32:09</center>
	</td>
	<td style="width:200px;">
		@yuya_presto<br />(codeTakt (ex- mixi) 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/4153/profile-images/1473683814">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[FastCGI]</b> <b>[nginx]</b> <b>[phabricator]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><ul>
<li>install_ubuntu.sh

<ul>
<li>apt-get installの行からphpとapache2を削除</li>
<li>a2enmodの行を削除</li>
<li>Install dependenciesの行からapacheを削除 ;)</li>
</ul>
</li>
<li>ガイドに乗っているnginxの設定ファイルを/etc/nginx/sites-available/phabricatorに設置

<ul>
<li>変更：<code>fastcgi_pass unix:/var/run/php5-fpm.sock</code>
</li>
<li>追加：<code>fastcgi_param PHABRICATOR_ENV local/myconfig</code>
</li>
<li><code>sudo ln -s /etc/nginx/sites-available/phabricator  /etc/nginx/sites-enabled/phabricator</code></li>
</ul>
</li>
<li>
<p>設定ファイルを新規作成</p>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">conf/local/myconfig.conf.php</span></div>
<div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

<span class="k">return</span> <span class="k">array</span><span class="p">(</span>

    <span class="s1">'phabricator.base-uri'</span> <span class="o">=&gt;</span> <span class="s1">'http://'</span> <span class="o">.</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_HOST'</span><span class="p">],</span> <span class="c1">// not good</span>

    <span class="c1">// mysql</span>
    <span class="s1">'mysql.host'</span> <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span>
    <span class="s1">'mysql.user'</span> <span class="o">=&gt;</span> <span class="s1">'root'</span><span class="p">,</span>
    <span class="s1">'mysql.pass'</span> <span class="o">=&gt;</span> <span class="s1">'your_password'</span><span class="p">,</span>

    <span class="c1">// email</span>
    <span class="s1">'metamta.default-address'</span> <span class="o">=&gt;</span> <span class="s1">'noreply@localhost'</span><span class="p">,</span>
    <span class="s1">'metamta.domain'</span>          <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span>
    <span class="s1">'metamta.mail-adapter'</span>    <span class="o">=&gt;</span> <span class="s1">'PhabricatorMailImplementationTestAdapter'</span><span class="p">,</span> <span class="c1">// do not send any mail</span>

    <span class="c1">// storage</span>
    <span class="s1">'storage.local-disk.path'</span> <span class="o">=&gt;</span> <span class="s1">'/path/to/writable/dir'</span><span class="p">,</span>

    <span class="c1">// PATH</span>
    <span class="s1">'environment.append-paths'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'/usr/local/bin'</span><span class="p">,</span> <span class="s1">'/usr/bin'</span><span class="p">],</span>

<span class="p">)</span> <span class="o">+</span> <span class="nx">phabricator_read_config_file</span><span class="p">(</span><span class="s1">'production'</span><span class="p">);</span> <span class="c1">//  default</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
<li>
<p>ドメインがlocalhostの場合</p>

<ul>
<li>
<p>とりあえずsrc/aphront/AphrontRequest.phpを下記のように変更すれば、ログインできる</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>setcookie(
  $name,
  $value,
  $expire,
  $path = '/') /*,     
  $base_domain,
  $is_secure,
  $http_only = true) */;
</pre></div></div>
</li>
</ul>
</li>
</ul>

<p>ちなみに癖が強そうだったので、インストール後触らないままになってしまいました・・・；</p>
</div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
