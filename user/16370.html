<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (curseoff)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (curseoff さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>curseoffさんの<br />1位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>1125</kbd>
		<a target="_blank" href="https://qiita.com/curseoff/items/a9e64ad01d673abb6866">Dockerコマンドメモ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-02-03 23:11:04</center>
	</td>
	<td style="width:200px;">
		@curseoff<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/16370/profile-images/1473681840">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[docker]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>index.docker.ioから指定したイメージを取り込む</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker pull REPOSITORY<span class="o">[</span>:TAG<span class="o">]</span>
docker image pull REPOSITORY<span class="o">[</span>:TAG<span class="o">]</span>
</pre></div></div>

<p>イメージ一覧を得る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker images
docker image list
</pre></div></div>

<p>イメージからコンテナを起動する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker run -itd IMAGE
docker container run -itd IMAGE
</pre></div></div>

<p>イメージからコンテナを起動して、接続する。コンテナに名前をつける</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker run -it IMAGE bash
docker container run -it IMAGE bash

docker run -it --name NAME IMAGE bash
docker container run -it --name NAME IMAGE bash
</pre></div></div>

<p>ホストの/var/wwwを、コンテナ内の/var/htmlからアクセスできるように共有する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker run -it -v /var/www:/var/html IMAGE bash
docker container run -it -v /var/www:/var/html IMAGE bash
</pre></div></div>

<p>ホスト8080番portへの通信をコンテナ80番portへ転送する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker run -it -p <span class="m">8080</span>:80 IMAGE bash
docker container run -it -p <span class="m">8080</span>:80 IMAGE bash
</pre></div></div>

<p>ゲストのPRIVATE_PORTに指定したPortがホストのどのPortにポートフォワードしてるかを調べる</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker port CONTAINER
docker container port CONTAINER

docker port CONTAINER PRIVATE_PORT
docker container port CONTAINER PRIVATE_PORT
</pre></div></div>

<p>イメージからコンテナを作る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker create IMAGE
docker container create IMAGE


docker create IMAGE
docker container create --name NAME IMAGE
</pre></div></div>

<p>コンテナを起動する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker start CONTAINER
docker container start CONTAINER
</pre></div></div>

<p>コンテナを停止する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker stop CONTAINER
docker container stop CONTAINER
</pre></div></div>

<p>コンテナを再起動する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker restart CONTAINER
docker container restart CONTAINER
</pre></div></div>

<p>コンテナを削除する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker rm CONTAINER <span class="o">[</span>CONTAINER...<span class="o">]</span>
docker CONTAINER rm CONTAINER <span class="o">[</span>CONTAINER...<span class="o">]</span>
</pre></div></div>

<p>コンテナをすべて削除する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker rm <span class="k">$(</span>docker ps -aq<span class="k">)</span>
</pre></div></div>

<p>イメージを削除する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker rmi IMAGE <span class="o">[</span>IMAGE...<span class="o">]</span>
</pre></div></div>

<p>タグなしのイメージをすべて削除する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker rmi <span class="k">$(</span>docker images <span class="p">|</span> grep <span class="s1">'&lt;none&gt;'</span> <span class="p">|</span> awk <span class="s1">'{print$3}'</span><span class="k">)</span>
</pre></div></div>

<p>起動しているコンテナに接続する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="c1"># exitするとコンテナが終了してしまう</span>
<span class="c1"># コンテナを終了せずに抜ける「Ctrl + p, Ctrl + q」</span>
docker attach CONTAINER

<span class="c1"># exitしてもコンテナは終了しない</span>
docker <span class="nb">exec</span> -it CONTAINER /bin/bash
</pre></div></div>

<p>リポジトリにタグを貼る（:TAGを省略すると、latestになる）</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker tag IMAGE REPOSITORY<span class="o">[</span>:TAG<span class="o">]</span>
</pre></div></div>

<p>./にあるDockerfileをビルドして、イメージを作成する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker build  ./
docker build -t REPOSITORY<span class="o">[</span>:TAG<span class="o">]</span> ./
</pre></div></div>

<p>ビルドを最初からやりなおす</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker build --no-cache .
</pre></div></div>

<p>起動中のコンテナ一覧を得る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker ps
docker container list
</pre></div></div>

<p>停止中のコンテナも含めすべての一覧を得る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker ps -a
docker container list -a
</pre></div></div>

<p>コンテナのハッシュリストを得る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker ps -aq
docker container list -aq
</pre></div></div>

<p>index.docker.ioからイメージを検索する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker search TERM
</pre></div></div>

<p>イメージをビルドした際のコマンドリストを得る。Dockerfileに記述したもののみ</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker <span class="nb">history</span> IMAGE
</pre></div></div>

<p>イメージをファイル出力する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker save IMAGE &gt; filename.tar
</pre></div></div>

<p>ファイルをイメージとして取り込む</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker load &lt; filename.tar
</pre></div></div>

<p>コンテナをファイル出力する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker <span class="nb">export</span> CONTAINER &gt; filename.tar
</pre></div></div>

<p>コンテナからイメージを作成する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker commit CONTAINER REPOSITORY<span class="o">[</span>:TAG<span class="o">]</span>
</pre></div></div>

<p>URLを指定してイメージを取り込む</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker import url REPOSITORY<span class="o">[</span>:TAG<span class="o">]</span>
</pre></div></div>

<p>ファイルからイメージを取り込む</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>cat filename.tar <span class="p">|</span> docker import - REPOSITORY<span class="o">[</span>:TAG<span class="o">]</span>
</pre></div></div>

<p>コンテナの標準出力を見る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker logs CONTAINER
</pre></div></div>

<p>コンテナ内のファイルをホストにコピーする</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker cp CONTAINER:filename ./
</pre></div></div>

<p>イメージがコンテナ化されてから変更されたファイル差分を得る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker diff CONTAINER
</pre></div></div>

<p>URLのファイルをイメージ内のPATHに生成する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker insert IMAGE URL PATH
</pre></div></div>

<p>コンテナの実行中のプロセス一覧を見る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker top CONTAINER
</pre></div></div>

<p>dockerの現在インストールしているバージョンと最新のバージョンを得る</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker version
</pre></div></div>

<p>コンテナ内のイベントを監視する（コンテナが作られた、起動した、停止したなど)</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker events
</pre></div></div>

<p>コンテナの詳細な情報を得る。formatオプションで情報の絞り込みができる</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker inspect CONTAINER
docker inspect  --format<span class="o">=</span><span class="s2">"{{.NetworkSettings.IPAddress}}"</span> CONTAINER
</pre></div></div>

<p>コンテナ内でコマンドを実行する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker <span class="nb">exec</span> CONTAINER コマンド
</pre></div></div>

<p>コンテナ内でコマンドを対話式に実行する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>docker <span class="nb">exec</span> -it CONTAINER コマンド
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
