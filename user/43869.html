<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (tamura__246)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (tamura__246 さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><a href="#" onclick="javascript:window.history.back(-1);return false;">[戻る]</a></p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>tamura__246さんの<br />1位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>700</kbd>
		<a target="_blank" href="https://qiita.com/tamura__246/items/554cfa151ec999aa9eac">欲しいものが無いからつくってみました。誰でも使えるオープンソースなネットワークアイコン集</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-11-01 19:15:32</center>
	</td>
	<td style="width:200px;">
		@tamura__246<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/43869/profile-images/1473689680">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[PowerPoint]</b> <b>[設計]</b> <b>[アイコン]</b> <b>[Webデザイン]</b> <b>[プレゼンテーション]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h1>

<p>システム構成図などを作成しようとすると、ユーザーやサーバーの図形を使うことになりますが、ライセンスを気にせずに、タダで使えて、見た目がそれなりによくて、統一感があるものは、なかなか見つからないですよね。無いならつくるしかない、ということでつくってみました。</p>

<p><a href="https://camo.qiitausercontent.com/4db6c956584a5527a77db0a139bc6bdc53c6acd7/68747470733a2f2f6769746875622e636f6d2f6b2d74616d7572612f636f6368612d69636f6e732f7261772f6d61737465722f73616d706c652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/4db6c956584a5527a77db0a139bc6bdc53c6acd7/68747470733a2f2f6769746875622e636f6d2f6b2d74616d7572612f636f6368612d69636f6e732f7261772f6d61737465722f73616d706c652e706e67" alt="sample.png" data-canonical-src="https://github.com/k-tamura/cocha-icons/raw/master/sample.png"></a></p>



<p>この図をつくっているパーツを含むPowerPointも<a href="https://github.com/k-tamura/cocha-icons" rel="nofollow noopener" target="_blank">GitHub</a>に公開したので、ある意味オープンソースです。グループ化を解除すれば、各パーツに分解できます。</p>

<p><a href="https://camo.qiitausercontent.com/006322e386944e037961e099ad2453ae053b982e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f31643637313538322d386163382d393134302d643239352d3230613135333131313231372e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/006322e386944e037961e099ad2453ae053b982e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f31643637313538322d386163382d393134302d643239352d3230613135333131313231372e706e67" alt="div.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/1d671582-8ac8-9140-d295-20a153111217.png"></a></p>

<p>昨日から作り始めたので、まだ納得のいくものになっていませんが、これからクオリティを上げていきます。</p>

<p>ちなみにWindows 10のPowerPoint2013でつくっているので、LibreOfficeなどでは正常に表示されません。最初からMacかUbuntuで作図した方がもう少しマシなデザインになったと思いますが、職場はWindowsという人が多いと思うので、PowerPointにしました。</p>

<p>まだまだアイコンの数も少ないですが、今後どんどん追加していきます。リクエストがあれば、issueを登録して下さい。</p>

<p><a href="https://camo.qiitausercontent.com/785778f28cec1d0811b897001602d2ca9e12f1de/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f32373439623261342d333633342d386136312d646164612d3563633134336330323362322e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/785778f28cec1d0811b897001602d2ca9e12f1de/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f32373439623261342d333633342d386136312d646164612d3563633134336330323362322e706e67" alt="xx.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/2749b2a4-3634-8a61-dada-5cc143c023b2.png"></a></p>

<p>など、このページにコメントしていただいても構いません。</p>

<h1>
<span id="使い方" class="fragment"></span><a href="#%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>使い方</h1>

<p>アイコンをグリッドの交点に配置して、矢印などで動線を付ければ、分かりやすい図になると思います。アイコンを追加したい場合などは、pptファイルを開いて直接編集して下さい。</p>

<p><a href="https://qiita.com/tamura__246/items/4c7becfd0b4653c0af3e" id="reference-1f12c9d46b0b389c7876">アイコンのトリセツ</a>もご一読下さい。</p>

<h1>
<span id="ライセンス-" class="fragment"></span><a href="#%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9-"><i class="fa fa-link"></i></a>ライセンス <a rel="nofollow noopener" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img alt="クリエイティブ・コモンズ・ライセンス" src="https://camo.qiitausercontent.com/b373168dd19d05ea064a266cf9b576ce3dfd6cc4/68747470733a2f2f692e6372656174697665636f6d6d6f6e732e6f72672f6c2f62792d73612f342e302f38387833312e706e67" data-canonical-src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
</h1>

<p>このアイコン集は<a rel="nofollow noopener" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">クリエイティブ・コモンズ 表示 - 継承 4.0 国際 ライセンス</a>の下に提供されています(一応)。クリエイティブ・コモンズ・ライセンスを守る範囲であれば、自由に使うことができます。商用利用も可能です。クリエイティブ・コモンズ・ライセンスについては、<a href="https://creativecommons.jp/licenses/" rel="nofollow noopener" target="_blank">こちらのページ</a>を参照下さい。</p>

<p>気に入っていただけたら、GitHubへのスターもお願いします。</p>


</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>tamura__246さんの<br />2位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>29</kbd>
		<a target="_blank" href="https://qiita.com/tamura__246/items/f41d2f69f1c8494493e0">脆弱性を攻撃してみよう (2) オープンリダイレクト</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-09-21 07:10:04</center>
	</td>
	<td style="width:200px;">
		@tamura__246<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/43869/profile-images/1473689680">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Java]</b> <b>[脆弱性]</b> <b>[トラブルシューティング]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<p>Webアプリケーションに<strong>オープンリダイレクト</strong>の脆弱性があると、どのような攻撃を受けるでしょうか？実際にオープンリダイレクトを攻撃してみましょう。</p>

<p></p><table>
<tr><td>※この記事は、<a href="http://qiita.com/tamura__246/items/7275c7406706fb0057e8" id="reference-28c849348bf087680827">バグだらけのWebアプリケーション</a>を使って、いろいろな脆弱性とそれを攻撃、防御する方法を紹介する記事の2回目です。1回目の記事は<a href="http://qiita.com/tamura__246/items/6307889936d6e7c98403" id="reference-5efd562edd119102fa69">ここ</a>にあります。</td></tr>
<table>

<h2>
<span id="攻撃してみよう" class="fragment"></span><a href="#%E6%94%BB%E6%92%83%E3%81%97%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86"><i class="fa fa-link"></i></a>攻撃してみよう</h2>

<p>オープンリダイレクトについて詳しい説明する前に、オープンリダイレクトの脆弱性を攻撃してみましょう。</p>

<p>Webアプリケーションを<a href="https://github.com/k-tamura/easybuggy/releases" rel="nofollow noopener" target="_blank">ここ</a>からダウンロードして、次のコマンドで起動します。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>java -jar easybuggy.jar
</pre></div></div>

<p>※実行するにはJavaが必要です。詳細については、<a href="https://t246osslab.wordpress.com/2017/03/14/easybuggy-%e3%81%ae%e3%83%88%e3%83%aa%e3%82%bb%e3%83%84/" rel="nofollow noopener" target="_blank">こちらのページ</a>を参照して下さい。</p>

<p></p>
<table>
<tr><td>※この記事では、バージョン1.3.6を使用しています。今後のリリースで動作は変わる可能性があります。</td></tr>
<table>

<p>起動したら、<a href="http://localhost:8080" rel="nofollow noopener" target="_blank">http://localhost:8080</a>にアクセスして下さい。以下のような画面の真ん中に「脆弱性」と書かれたセクションがあります。</p>

<p><a href="https://camo.qiitausercontent.com/14b45b4f7e6bdb227ab94e15450d457c1d112e93/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f63336561653662632d373538302d393931372d373266622d3939306333393635343532612e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/14b45b4f7e6bdb227ab94e15450d457c1d112e93/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f63336561653662632d373538302d393931372d373266622d3939306333393635343532612e706e67" alt="main.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/c3eae6bc-7580-9917-72fb-990c3965452a.png"></a></p>

<p>この中の上から10番目に「オープンリダイレクト可能なログイン画面」のリンクがあります。クリックすると、次のような画面が表示されます。</p>

<p><a href="https://camo.qiitausercontent.com/6ea2c62ba357b68b3dae200e91f553c2b68bdf8a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f36643434326539352d663466642d633130352d623834332d3866313532353938656637382e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/6ea2c62ba357b68b3dae200e91f553c2b68bdf8a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f36643434326539352d663466642d633130352d623834332d3866313532353938656637382e706e67" alt="Screenshot from 2017-09-21 02-26-59.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/6d442e95-f4fd-c105-b843-8f152598ef78.png"></a></p>

<p>ユーザーIDに「<code>admin</code>」、パスワードに「<code>password</code>」を入力し、ログインボタンをクリックすると、次のような画面が表示されます。</p>

<p><a href="https://camo.qiitausercontent.com/f4cd4a98d68ab974711c58a0a348950bc1d07861/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f37353566663531312d363161372d623738312d306232362d3438376231623635363937652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/f4cd4a98d68ab974711c58a0a348950bc1d07861/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f37353566663531312d363161372d623738312d306232362d3438376231623635363937652e706e67" alt="Screenshot from 2017-09-21 02-23-27.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/755ff511-61a7-b781-0b26-487b1b65697e.png"></a></p>

<p>これだけの機能ですが、オープンリダイレクトの脆弱性があります。注目するのはURLです。最初にアクセスしたログイン画面のURLは<code>http://localhost:8080/openredirect/login?goto=/uid/serverinfo.jsp</code>で、ログイン後のURLは<code>http://localhost:8080/uid/serverinfo.jsp</code>となっています。<code>goto=/uid/serverinfo.jsp</code>というクエリストリングで、ログイン後の遷移先を指定しているのが推測できるかと思います。</p>

<p>いったんログアウトして、今度は以下のリンクをクリックして下さい。</p>

<p><a href="http://localhost:8080/openredirect/login?goto=%2f%2f%6b%2d%74%61%6d%75%72%61%2e%67%69%74%68%75%62%2e%69%6f%2f%6f%70%65%6e%72%65%64" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:8080/openredirect/login?goto=%2f%2f%6b%2d%74%61%6d%75%72%61%2e%67%69%74%68%75%62%2e%69%6f%2f%6f%70%65%6e%72%65%64</a></p>

<p>先ほどと同じログイン画面が表示されます。再度「<code>admin</code>」、「<code>password</code>」でログインします。</p>

<p><a href="https://camo.qiitausercontent.com/a249f1df2a1d1301d790e615cae1e4d817e66d1f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f32393061356566342d313937392d656437642d626166612d6134366537646565346162352e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/a249f1df2a1d1301d790e615cae1e4d817e66d1f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f32393061356566342d313937392d656437642d626166612d6134366537646565346162352e706e67" alt="Screenshot from 2017-09-20 20-42-46.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/290a5ef4-1979-ed7d-bafa-a46e7dee4ab5.png"></a></p>

<p>ログインできたでしょうか？ログインできたとは思いますが、その前に以下のようなログインエラー画面が表示されたはずです。</p>

<p><a href="https://camo.qiitausercontent.com/dd9dc9121128e059338f78ef3a52e858fddada8c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f61353865633763652d396266342d333937312d353137362d6239633037653337393564652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/dd9dc9121128e059338f78ef3a52e858fddada8c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f61353865633763652d396266342d333937312d353137362d6239633037653337393564652e706e67" alt="Screenshot from 2017-09-20 20-42-57.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/a58ec7ce-9bf4-3971-5176-b9c07e3795de.png"></a></p>

<p>この時、再入力したユーザーIDとパスワードは外部のサイトに送信されていたことに気づきましたか？</p>

<p>ログインエラー画面のブラウザのURLを見て下さい。外部のサイトのURL(<code>https://k-tamura.github.io/openred</code>)になっています。ログインエラー画面が表示されましたが、実際にはログインは成功しており、このWebアプリケーションの画面に似せたエラー画面を持つ外部サイトに遷移していたわけです。ユーザーIDとパスワードを再入力してログインボタンをクリックした後、本来の遷移先にリダイレクトされているので、外部サイトに遷移したことに気づかなかった人もいたのではないでしょうか。</p>

<h2>
<span id="オープンリダイレクトとは" class="fragment"></span><a href="#%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>オープンリダイレクトとは</h2>

<p>このように、オープンリダイレクトとは、Webアプリケーションのリダイレクト機能を悪用して、ユーザーを悪意のあるサイトに誘導する攻撃のことを言います。</p>

<p>攻撃者は、先ほどのようなリンクをユーザーにクリックさせて、気付かないうちにユーザーを攻撃者のサイトに誘導させます。さらに今回のように、精巧に偽せたログインエラー画面を外部サイトに用意して、ユーザーIDとパスワードを入力させようとするかもしれません(「フィッシング」)。今回はお試しアプリから悪意の無い私のサイト(<code>https://k-tamura.github.io/</code>)へのリダイレクトでしたが、これがオンラインバンキングから悪意のあるサイトへのリダイレクトであれば大変なことです。</p>

<p><a href="https://camo.qiitausercontent.com/6ea541d025b274a13342160e27362f6cfa8f3300/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f66623337333034342d363239342d363139612d633437312d6334373532613639353035652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/6ea541d025b274a13342160e27362f6cfa8f3300/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f66623337333034342d363239342d363139612d633437312d6334373532613639353035652e706e67" alt="openredirect.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/fb373044-6294-619a-c471-c4752a69505e.png"></a></p>

<p>このWebアプリケーション(EasyBuggy)のように、リクエストパラメータなどで指定したURLにユーザーをリダイレクトする機能を持っているWebアプリケーションには、オープンリダイレクトの脆弱性が存在する可能性があります。</p>

<p>ただし、Webアプリケーションが想定外のURLにユーザーをリダイレクトしないように、チェックしていれば問題はありません。チェックせずに任意のURLへリダイレクトしているのであれば、攻撃者にリクエストパラメータを書き換えられて、ユーザーを危険なサイトへと誘導されてしまいます。</p>

<h2>
<span id="どのような実装になっているか" class="fragment"></span><a href="#%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E5%AE%9F%E8%A3%85%E3%81%AB%E3%81%AA%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B"><i class="fa fa-link"></i></a>どのような実装になっているか</h2>

<p>今回試したログイン機能は、どのような実装になっているのでしょうか。<a href="https://github.com/k-tamura/easybuggy/blob/master/src/main/java/org/t246osslab/easybuggy/vulnerabilities/OpenRedirectServlet.java" rel="nofollow noopener" target="_blank">ソースコード</a>を見てみましょう。重要な部分は以下です。</p>

<div class="code-frame" data-lang="java"><div class="highlight"><pre><span></span>    <span class="n">String</span> <span class="n">gotoUrl</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"goto"</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">gotoUrl</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="n">gotoUrl</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</pre></div></div>

<p>リクエストパラメータ<code>goto</code>の値を検証せずに、<code>sendRedirect</code>しています。</p>

<h2>
<span id="オープンリダイレクトの対策" class="fragment"></span><a href="#%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%81%AE%E5%AF%BE%E7%AD%96"><i class="fa fa-link"></i></a>オープンリダイレクトの対策</h2>

<p>では、どのような対策をすればいいでしょうか？</p>

<p>対策はシンプルで、<strong>リダイレクト先が遷移先として適切なURLであるかをチェックすること</strong>です。ただし、気をつけないといけないのは、<strong>チェック処理の実装方法</strong>です。</p>

<p>外部サイトへのリダイレクトを禁止する目的で「<code>http</code>」で始まるURLを拒否したとしても、前述の例のように「<code>//k-tamura.github.io/openred</code>」をほとんどのブラウザが「<code>http//k-tamura.github.io/openred</code>」と解釈するので、適切な対策とはいえません。許可できるリダイレクト先が明確にリストアップされているのであれば、それだけを完全一致でチェックするような実装をした方が、部分一致や正規表現でチェックするような実装よりも安全と考えられます。</p>

<p>リダイレクト先が<code>/uid/serverinfo.jsp</code>しかないのであれば、以下のような実装に修正するのが一番安全です。</p>

<div class="code-frame" data-lang="java"><div class="highlight"><pre><span></span>    <span class="n">String</span> <span class="n">gotoUrl</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"goto"</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="s">"/uid/serverinfo.jsp"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">gotoUrl</span><span class="o">))</span> <span class="o">{</span>
        <span class="n">res</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="n">gotoUrl</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</pre></div></div>

<p>しかし、そもそもこういった機能が本当に必要なのかを検討して、必要なければ別の方式を考えた方がいいかもしれません。</p>

<h2>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h2>

<ul>
<li><a href="https://www.owasp.org/index.php/Unvalidated_Redirects_and_Forwards_Cheat_Sheet" rel="nofollow noopener" target="_blank">OWASP - Unvalidated Redirects and Forwards Cheat Sheet</a></li>
<li><a href="https://cwe.mitre.org/data/definitions/601.html" rel="nofollow noopener" target="_blank">CWE-601: URL Redirection to Untrusted Site ('Open Redirect')</a></li>
<li><a href="http://www.atmarkit.co.jp/ait/articles/1406/20/news007.html" rel="nofollow noopener" target="_blank">@IT - これなら合格！ 正しいリダイレクターの作り方</a></li>
</ul>
</table>
</table>
</table>
</table></div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>tamura__246さんの<br />3位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>22</kbd>
		<a target="_blank" href="https://qiita.com/tamura__246/items/4c7becfd0b4653c0af3e">「記事や資料の作成に役立つネットワークアイコン集」のトリセツ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-11-07 19:45:25</center>
	</td>
	<td style="width:200px;">
		@tamura__246<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/43869/profile-images/1473689680">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[PowerPoint]</b> <b>[設計]</b> <b>[アイコン]</b> <b>[Webデザイン]</b> <b>[プレゼンテーション]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h1>

<p>先日、記事や設計書、プレゼン資料の作成に役立つ<a href="https://qiita.com/tamura__246/items/554cfa151ec999aa9eac" id="reference-66fd48ab408df09a2ca8">ネットワークアイコン集</a>を公開しました。このアイコンは自由に使っていただいて構いませんが、悪用やセンスのひどすぎる使用は避けていただくようお願いします。以下に正しい使い方と誤った使い方の例を挙げておきます。</p>

<h1>
<span id="正しい使い方" class="fragment"></span><a href="#%E6%AD%A3%E3%81%97%E3%81%84%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>正しい使い方</h1>

<h2>
<span id="グリッドを利用する" class="fragment"></span><a href="#%E3%82%B0%E3%83%AA%E3%83%83%E3%83%89%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>グリッドを利用する</h2>

<p><a href="https://camo.qiitausercontent.com/d8181774a2e94f4242a946a505492cdd36be2641/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f62376163636664342d613466612d643439352d306463612d6261633363393632653435652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/d8181774a2e94f4242a946a505492cdd36be2641/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f62376163636664342d613466612d643439352d306463612d6261633363393632653435652e706e67" alt="env.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/b7accfd4-a4fa-d495-0dca-bac3c962e45e.png"></a></p>

<p>背景のグリッドを活用して適当な場所にアイコンを配置し、矢印はグリッドの方向に平行にしてください。</p>

<h2>
<span id="光の当たる方向を意識する" class="fragment"></span><a href="#%E5%85%89%E3%81%AE%E5%BD%93%E3%81%9F%E3%82%8B%E6%96%B9%E5%90%91%E3%82%92%E6%84%8F%E8%AD%98%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>光の当たる方向を意識する</h2>

<p>PowerPointの「左右反転」でアイコンの向きを変えることができます。</p>

<p><a href="https://camo.qiitausercontent.com/ca931d2723ecf9b7c2c4d19058b5ebf62bebc7b5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f32663838653737662d653531332d643930652d643066362d3635373135316631323835372e6a706567" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/ca931d2723ecf9b7c2c4d19058b5ebf62bebc7b5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f32663838653737662d653531332d643930652d643066362d3635373135316631323835372e6a706567" alt="WS000024.JPG" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/2f88e77f-e513-d90e-d0f6-657151f12857.jpeg"></a></p>

<p>ただし、光の当たる方向を意識して色を変更しないと統一感が崩れます。</p>

<p><a href="https://camo.qiitausercontent.com/2f6dbec558ec5ba56968bd4cc9abce2a65913f28/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f62363864653233312d663435612d343666322d633830622d3064323335646363663337332e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/2f6dbec558ec5ba56968bd4cc9abce2a65913f28/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f62363864653233312d663435612d343666322d633830622d3064323335646363663337332e706e67" alt="gg.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/b68de231-f45a-46f2-c80b-0d235dccf373.png"></a></p>

<h2>
<span id="適当な大きさに拡大縮小する" class="fragment"></span><a href="#%E9%81%A9%E5%BD%93%E3%81%AA%E5%A4%A7%E3%81%8D%E3%81%95%E3%81%AB%E6%8B%A1%E5%A4%A7%E7%B8%AE%E5%B0%8F%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>適当な大きさに拡大・縮小する</h2>

<p>アイコンのサイズは適宜変更して下さい。</p>

<p><a href="https://camo.qiitausercontent.com/21b37a14276f13c818768dcd8fa1e776a88fbba5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f35303765303133372d646330632d323665302d356434362d3361646561663037343831332e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/21b37a14276f13c818768dcd8fa1e776a88fbba5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f35303765303133372d646330632d323665302d356434362d3361646561663037343831332e706e67" alt="ss.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/507e0137-dc0c-26e0-5d46-3adeaf074813.png"></a></p>

<p>ただし、PowerPoitの場合は、拡大や縮小によりバランスが崩れることがありますので、注意して下さい。拡大し過ぎると、造りの粗さが目につくことがあります...（適度なサイズでご利用下さい）</p>

<h2>
<span id="動きをつける" class="fragment"></span><a href="#%E5%8B%95%E3%81%8D%E3%82%92%E3%81%A4%E3%81%91%E3%82%8B"><i class="fa fa-link"></i></a>動きをつける</h2>

<p><a href="https://camo.qiitausercontent.com/c9ba4c50df6949088fbf34a88c7124bd3cf03a21/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f65363762633566322d666363662d323762612d356264612d3964653330633037323366662e676966" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/c9ba4c50df6949088fbf34a88c7124bd3cf03a21/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f65363762633566322d666363662d323762612d356264612d3964653330633037323366662e676966" alt="jj.gif" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/e67bc5f2-fccf-27ba-5bda-9de30c0723ff.gif"></a></p>

<p>動きをつけてみるのもいいと思います。動くバージョンのアイコンもいつか公開したいです。</p>

<h1>
<span id="誤った使い方" class="fragment"></span><a href="#%E8%AA%A4%E3%81%A3%E3%81%9F%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>誤った使い方</h1>

<p>以下のような使い方はしないで下さい。</p>

<h2>
<span id="質感の異なるアイコンとの併用" class="fragment"></span><a href="#%E8%B3%AA%E6%84%9F%E3%81%AE%E7%95%B0%E3%81%AA%E3%82%8B%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8%E3%81%AE%E4%BD%B5%E7%94%A8"><i class="fa fa-link"></i></a>質感の異なるアイコンとの併用</h2>

<p><a href="https://camo.qiitausercontent.com/2b4281f374758d0d69d0bbd2c7eaf918c1086e19/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f34666262633563352d613335362d653664372d373762662d6339306530653661383339612e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/2b4281f374758d0d69d0bbd2c7eaf918c1086e19/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f34666262633563352d613335362d653664372d373762662d6339306530653661383339612e706e67" alt="ff.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/4fbbc5c5-a356-e6d7-77bf-c90e0e6a839a.png"></a></p>

<p>これはやめて欲しいです。</p>

<h2>
<span id="作者の意図に反する使い方" class="fragment"></span><a href="#%E4%BD%9C%E8%80%85%E3%81%AE%E6%84%8F%E5%9B%B3%E3%81%AB%E5%8F%8D%E3%81%99%E3%82%8B%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>作者の意図に反する使い方</h2>

<p><a href="https://camo.qiitausercontent.com/c2df6a433c578af83f18e50c33e73299363435ae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f31343237326138622d363164342d353933382d316131392d6462333733333033613330652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/c2df6a433c578af83f18e50c33e73299363435ae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f31343237326138622d363164342d353933382d316131392d6462333733333033613330652e706e67" alt="dd.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/14272a8b-61d4-5938-1a19-db373303a30e.png"></a></p>

<p>できるだけ作者(私)の意図を汲んで下さい。</p>

<h2>
<span id="理解しがたい動きをつける" class="fragment"></span><a href="#%E7%90%86%E8%A7%A3%E3%81%97%E3%81%8C%E3%81%9F%E3%81%84%E5%8B%95%E3%81%8D%E3%82%92%E3%81%A4%E3%81%91%E3%82%8B"><i class="fa fa-link"></i></a>理解しがたい動きをつける</h2>

<p><a href="https://camo.qiitausercontent.com/060c3f1acda033c6df721160715d9e2f4878f9a6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f32343736613238302d313038382d656132392d356466632d6663316636346139633231632e676966" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/060c3f1acda033c6df721160715d9e2f4878f9a6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f32343736613238302d313038382d656132392d356466632d6663316636346139633231632e676966" alt="aa.gif" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/2476a280-1088-ea29-5dfc-fc1f64a9c21c.gif"></a></p>

<p>PowerPointってついつい遊んでしまいますよね...</p>

<h2>
<span id="遠近法の無視悪用" class="fragment"></span><a href="#%E9%81%A0%E8%BF%91%E6%B3%95%E3%81%AE%E7%84%A1%E8%A6%96%E6%82%AA%E7%94%A8"><i class="fa fa-link"></i></a>遠近法の無視、悪用</h2>

<p><a href="https://camo.qiitausercontent.com/5aa0e28d9c80710764c16043f1077186052a6817/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f30623131383666302d666335342d656361372d303265652d6333656233613832636331632e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/5aa0e28d9c80710764c16043f1077186052a6817/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f30623131383666302d666335342d656361372d303265652d6333656233613832636331632e706e67" alt="gg.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/0b1186f0-fc54-eca7-02ee-c3eb3a82cc1c.png"></a></p>

<p>部分的に巨大化しないで下さい。</p>



<h1>
<span id="最後に" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB"><i class="fa fa-link"></i></a>最後に</h1>

<p>使用する場合は<a href="https://github.com/k-tamura/cocha-icons" rel="nofollow noopener" target="_blank">GitHub</a>にスターを付けて、以下の画像を作成物のどこかに付け加えていただくようお願いします。</p>

<p><a href="https://github.com/k-tamura/cocha-icons" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/e701dc2041737b309d243808432fac3532c1de91/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f36653731396339392d316265662d663634372d303336622d6438313764333261356537662e706e67" alt="mark.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/6e719c99-1bef-f647-036b-d817d32a5e7f.png"></a></p>

<p>Qiitaの記事で使うのであれば、以下を本文の最後に埋め込んで下さい。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>[![mark.png](https://github.com/k-tamura/cocha-icons/raw/master/mark.png)](https://github.com/k-tamura/cocha-icons)
</pre></div></div>

<p>HTMLの場合はこちら:</p>

<div class="code-frame" data-lang="html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://github.com/k-tamura/cocha-icons"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://github.com/k-tamura/cocha-icons/raw/master/mark.png"</span> <span class="na">alt</span><span class="o">=</span><span class="s">"mark.png"</span> <span class="na">style</span><span class="o">=</span><span class="s">"max-width:100%;"</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div></div>

<p>　　</p>


</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>tamura__246さんの<br />4位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>22</kbd>
		<a target="_blank" href="https://qiita.com/tamura__246/items/ce2932809b9e4ec0297e">バグだらけのWebアプリケーションをKotlinで実装してみました</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-10-20 06:56:17</center>
	</td>
	<td style="width:200px;">
		@tamura__246<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/43869/profile-images/1473689680">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Java]</b> <b>[Kotlin]</b> <b>[脆弱性]</b> <b>[トラブルシューティング]</b> <b>[spring-boot]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h2>

<p><a href="https://qiita.com/tamura__246/items/c8229d68ef199890827b" id="reference-9eeab7871f2431fd658d">以前紹介した</a>バグだらけのWebアプリケーション<a href="https://github.com/k-tamura/easybuggy/blob/master/README.jp.md" rel="nofollow noopener" target="_blank">「EasyBuggy」</a>のSpring Bootベースのクローン<a href="https://github.com/k-tamura/easybuggy4sb/blob/master/README.jp.md" rel="nofollow noopener" target="_blank">「EasyBuggy Boot」</a>を、Kotlinで再実装してみました(<a href="https://github.com/k-tamura/easybuggy4kt/blob/master/README.jp.md" rel="nofollow noopener" target="_blank">「EasyBuggy Bootlin」</a>)。</p>

<p><a href="https://github.com/k-tamura/easybuggy4kt/releases/latest" rel="nofollow noopener" target="_blank">このページ</a>からダウンロードして、以下のコマンドで起動できます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>java -jar ROOT.war
</pre></div></div>

<p></p><table>
<tr><td>
<img alt=":writing_hand_tone1:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/270d-1f3fb.png" title=":writing_hand_tone1:" width="20"> 起動するにはJava 8以上が必要です。<code>java -jar ROOT.war --port=9000</code>とすると9000番ポートで起動します。</td></tr>
<table>

<p>次のようにJavaオプションを付加すれば、ログ出力やデバッグ、JMXによる監視ができます。また、最大メモリ使用量を制限しているので、OutOfMemoryErrorなどの問題がより発生しやすくなります。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>java -Xmx256m -XX:MaxPermSize<span class="o">=</span>64m -XX:MaxDirectMemorySize<span class="o">=</span>90m -XX:+UseSerialGC -Xloggc:logs/gc.log -XX:+PrintHeapAtGC -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles<span class="o">=</span><span class="m">5</span> -XX:GCLogFileSize<span class="o">=</span>10M -XX:GCTimeLimit<span class="o">=</span><span class="m">15</span> -XX:GCHeapFreeLimit<span class="o">=</span><span class="m">50</span> -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath<span class="o">=</span>logs/ -XX:ErrorFile<span class="o">=</span>logs/hs_err_pid%p.log -agentlib:jdwp<span class="o">=</span><span class="nv">transport</span><span class="o">=</span>dt_socket,server<span class="o">=</span>y,address<span class="o">=</span><span class="m">9009</span>,suspend<span class="o">=</span>n -Dderby.stream.error.file<span class="o">=</span>logs/derby.log -Dderby.infolog.append<span class="o">=</span><span class="nb">true</span> -Dderby.language.logStatementText<span class="o">=</span><span class="nb">true</span> -Dderby.locks.deadlockTrace<span class="o">=</span><span class="nb">true</span> -Dderby.locks.monitor<span class="o">=</span><span class="nb">true</span> -Dderby.storage.rowLocking<span class="o">=</span><span class="nb">true</span> -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port<span class="o">=</span><span class="m">7900</span> -Dcom.sun.management.jmxremote.ssl<span class="o">=</span><span class="nb">false</span> -Dcom.sun.management.jmxremote.authenticate<span class="o">=</span><span class="nb">false</span> -ea -jar ROOT.war
</pre></div></div>

<p>以下のようなメッセージが表示されたら、Webアプリケーションの起動は完了しています。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>2017-10-19 16:36:01.065  INFO 5304 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2017-10-19 16:36:01.075  INFO 5304 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
2017-10-19 16:36:01.242  INFO 5304 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2017-10-19 16:36:01.249  INFO 5304 --- [           main] o.t.e.Easybuggy4ktApplicationKt          : Started Easybuggy4ktApplicationKt in 37.355 seconds (JVM running for 38.916)
</pre></div></div>

<p><a href="http://localhost:8080" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:8080</a> にアクセスすると、メインページが表示されます。</p>

<p><a href="https://camo.qiitausercontent.com/48f32c6ca3ae54e03aff648a73e6e6e912fd0292/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f38373362663961652d363161362d376338372d323539652d6138386534663331373463362e676966" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/48f32c6ca3ae54e03aff648a73e6e6e912fd0292/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f38373362663961652d363161362d376338372d323539652d6138386534663331373463362e676966" alt="demo_ebk_ja_startup.gif" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/873bf9ae-61a6-7c87-259e-a88e4f3174c6.gif"></a></p>

<p>起動がちょっと遅いです(15秒ほど。EasyBuggyは3秒で起動するんですが...)</p>

<h3>
<span id="上記以外の起動方法" class="fragment"></span><a href="#%E4%B8%8A%E8%A8%98%E4%BB%A5%E5%A4%96%E3%81%AE%E8%B5%B7%E5%8B%95%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>上記以外の起動方法</h3>

<p><code>git clone</code>して、<code>gradle bootRun</code>しても起動できます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ git clone https://github.com/k-tamura/easybuggy4kt
$ <span class="nb">cd</span> easybuggy4kt
$ gradle bootRun
</pre></div></div>

<p></p>
<table>
<tr><td>
<code>src/main/resources/application.properties</code>の<code>server.port=${port:8080}</code>の行を<code>server.port=9000</code>にとすると9000番ポートで起動します。</td></tr>
<table>

<p>また、Tomcat 8.5などのJavaコンテナにROOT.warをデプロイしても同様に動作します。</p>

<h2>
<span id="このアプリの用途" class="fragment"></span><a href="#%E3%81%93%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E7%94%A8%E9%80%94"><i class="fa fa-link"></i></a>このアプリの用途</h2>

<p>「EasyBuggy」や「EasyBuggy Boot」と同様に、様々な障害を再現させて、解析し、理解を深めることが目的です。なぜKotlinで再実装したかというと、次のことを知りたかったからです。</p>

<ul>
<li>Kotlinで実装されたアプリにも脆弱性やリソースリークをつくり込むことはできるか</li>
<li>Javaで実装されたアプリをKotlinで再実装する上で必要な作業は何か</li>
<li>Javaで実装されたアプリをKotlinで再実装することで可読性は向上するか</li>
</ul>

<h2>
<span id="デモ" class="fragment"></span><a href="#%E3%83%87%E3%83%A2"><i class="fa fa-link"></i></a>デモ</h2>

<p>以下はメモリリークが発生するページに何度もアクセスして、メモリがリークしている状態を観測したデモです。</p>

<p><a href="https://camo.qiitausercontent.com/c8b21cb02e3f7f75fea780b0b404cd4360924817/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f38613935633130642d326434362d393834642d303636642d3064626639326337653638302e676966" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/c8b21cb02e3f7f75fea780b0b404cd4360924817/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f38613935633130642d326434362d393834642d303636642d3064626639326337653638302e676966" alt="demo_ebk_ja_memleak.gif" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/8a95c10d-2d46-984d-066d-0dbf92c7e680.gif"></a></p>

<h2>
<span id="構成の相違点" class="fragment"></span><a href="#%E6%A7%8B%E6%88%90%E3%81%AE%E7%9B%B8%E9%81%95%E7%82%B9"><i class="fa fa-link"></i></a>構成の相違点</h2>

<p>「EasyBuggy」、「EasyBuggy Boot」、「EasyBuggy Bootlin」の主な構成の相違点は以下の通りです。</p>

<table>
<thead>
<tr>
<th>相違点</th>
<th>EasyBuggy</th>
<th>EasyBuggy Boot</th>
<th>EasyBuggy Bootlin</th>
</tr>
</thead>
<tbody>
<tr>
<td>言語</td>
<td>Java</td>
<td>Java</td>
<td>Kotlin</td>
</tr>
<tr>
<td>ベースとなる技術</td>
<td>Servlet 3.0.1</td>
<td>Spring Boot 1.5.6 (Servlet 3.0.1)</td>
<td>Spring Boot 1.5.7 (Servlet 3.0.1)</td>
</tr>
<tr>
<td>プレゼンテーション層</td>
<td>未使用 (一部 JSP 2.2 + JSTL 1.2)</td>
<td>Thymeleaf 2.1.5 (一部 JSP 2.3 + JSTL 1.2)</td>
<td>Thymeleaf 2.1.5 (一部 JSP 2.3 + JSTL 1.2)</td>
</tr>
<tr>
<td>サーブレットコンテナ</td>
<td>Tomcat 7.0.37</td>
<td>Tomcat 8.5.16</td>
<td>Tomcat 8.5.20</td>
</tr>
<tr>
<td>DBクライアント/サーバー</td>
<td>JDBC / Derby 10.8.3.0</td>
<td>Spring JDBC 4.3.9 / Derby 10.12.1.1 (Java 7の場合)、または10.13.1.1 (Java 8の場合)</td>
<td>Spring JDBC 4.3.11 / Derby 10.13.1.1</td>
</tr>
<tr>
<td>LDAPクライアント/サーバー</td>
<td>Apache DS Client API 1.0.0 / Server 1.5.5</td>
<td>Spring LDAP 2.3.1 / unboundid-ldapsdk 3.2.1</td>
<td>Spring LDAP 2.3.1 / unboundid-ldapsdk 3.2.1</td>
</tr>
<tr>
<td>メール</td>
<td>JavaMail 1.5.1</td>
<td>JavaMail 1.5.1 (Spring Boot Mailで導入されるJavaMail 1.5.6をオーバーライド)</td>
<td>JavaMail 1.5.1 (Spring Boot Mailで導入されるJavaMail 1.5.6をオーバーライド)</td>
</tr>
<tr>
<td>開発ツール</td>
<td>無し</td>
<td>Spring Boot Developer Tools 1.5.6</td>
<td>Spring Boot Developer Tools 1.5.7</td>
</tr>
<tr>
<td>ビルドツール</td>
<td>Maven</td>
<td>Maven</td>
<td>Gradle</td>
</tr>
<tr>
<td>Java</td>
<td>Java 6以上をサポート</td>
<td>Java 7以上をサポート</td>
<td>Java 8以上をサポート</td>
</tr>
</tbody>
</table>

<h2>
<span id="ビルドの方法" class="fragment"></span><a href="#%E3%83%93%E3%83%AB%E3%83%89%E3%81%AE%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>ビルドの方法</h2>

<p>以下のコマンドで、実行可能かつデプロイ可能なwarファイルを作成することができます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ gradle clean build
</pre></div></div>

<h2>
<span id="開発の方法" class="fragment"></span><a href="#%E9%96%8B%E7%99%BA%E3%81%AE%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>開発の方法</h2>

<p>EasyBuggy Bootlinの開発には、Kotlinを開発したJetBrains社のIntelliJ IDEAを使用しています。JavaのプログラムをKotlinのプログラムに変換するような役立つ機能があったので、STSではなくIntelliJを選択しました。IntelliJのおかげで、かなり短時間にこのアプリが開発できました。</p>

<p>開発を高速にするためには、<code>gradle build --continuous</code>で継続的にビルドしながら、<code>gradle bootRun</code>でEasyBuggy Bootlinを起動するといいです。この方法であれば、ソースコードを修正すると、Spring Boot DevToolsにより自動的にリロードされて、修正が反映されます。</p>

<p><a href="https://camo.qiitausercontent.com/659db92292976800887a7447ed88e9303749c618/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f38306431353564612d346363632d353733312d333933652d3239353261326136393535652e676966" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/659db92292976800887a7447ed88e9303749c618/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34333836392f38306431353564612d346363632d353733312d333933652d3239353261326136393535652e676966" alt="demo_ebk_ja_devtool.gif" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/43869/80d155da-4ccc-5731-393e-2952a2a6955e.gif"></a></p>
</table>
</table>
</table>
</table></div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
