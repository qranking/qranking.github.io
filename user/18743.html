<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (inouet)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (inouet さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />1位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>703</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/478f4228dbbcd442bfe8">rbenv を使って ruby をインストールする(CentOS編)</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-11-22 17:57:21</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[rbenv]</b> <b>[ruby-build]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="1-git-が入っていなかったらインストール" class="fragment"></span><a href="#1-git-%E3%81%8C%E5%85%A5%E3%81%A3%E3%81%A6%E3%81%84%E3%81%AA%E3%81%8B%E3%81%A3%E3%81%9F%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>1. git が入っていなかったらインストール</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ sudo yum -y install git
</pre></div></div>

<h2>
<span id="2-rbenv-をインストールcloneする" class="fragment"></span><a href="#2-rbenv-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%ABclone%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2. rbenv をインストール（clone）する</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ git clone https://github.com/sstephenson/rbenv.git ~/.rbenv
</pre></div></div>

<h2>
<span id="3-環境設定" class="fragment"></span><a href="#3-%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>3. 環境設定</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="c1"># PATH に追加</span>
$ <span class="nb">echo</span> <span class="s1">'export PATH="$HOME/.rbenv/bin:$PATH"'</span> &gt;&gt; ~/.bash_profile

<span class="c1"># .bash_profile に追加</span>
$ <span class="nb">echo</span> <span class="s1">'eval "$(rbenv init -)"'</span> &gt;&gt; ~/.bash_profile

<span class="c1"># 上記設定の再読み込み</span>
$ <span class="nb">exec</span> <span class="nv">$SHELL</span> -l
</pre></div></div>

<h2>
<span id="4-rbenvの確認" class="fragment"></span><a href="#4-rbenv%E3%81%AE%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>4. rbenvの確認</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rbenv --version
rbenv <span class="m">0</span>.4.0-74-g95a039a
</pre></div></div>

<h2>
<span id="5-ruby-build-を-インストールcloneする" class="fragment"></span><a href="#5-ruby-build-%E3%82%92-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%ABclone%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>5. ruby-build を インストール（clone）する</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
</pre></div></div>

<h2>
<span id="6-ruby-の最新版を確認" class="fragment"></span><a href="#6-ruby-%E3%81%AE%E6%9C%80%E6%96%B0%E7%89%88%E3%82%92%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>6. ruby の最新版を確認</h2>

<p>install -- list でインストール可能なバージョン一覧が出力される</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rbenv install --list
Available versions:
  <span class="m">1</span>.8.6-p383
  <span class="m">1</span>.8.6-p420
  <span class="m">1</span>.8.7-p249
   :
   :
  <span class="m">2</span>.0.0-p195
  <span class="m">2</span>.0.0-p247
  <span class="m">2</span>.0.0-p353       ←　こいつが2.0系の最新版っぽい      
  <span class="m">2</span>.0.0-preview1
  :
</pre></div></div>

<h2>
<span id="7-ruby-のインストール" class="fragment"></span><a href="#7-ruby-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>7. ruby のインストール</h2>

<p>先ほど調べたバージョンを指定する</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rbenv install -v <span class="m">2</span>.0.0-p353
</pre></div></div>

<h2>
<span id="8-環境確認" class="fragment"></span><a href="#8-%E7%92%B0%E5%A2%83%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>8. 環境確認</h2>

<p>再読み込み</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rbenv rehash
</pre></div></div>

<p>インストールされているruby一覧を確認</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rbenv versions
* system <span class="o">(</span><span class="nb">set</span> by /home/vagrant/.rbenv/version<span class="o">)</span>
  <span class="m">2</span>.0.0-p353
</pre></div></div>

<p>先ほどインストールした最新版に設定</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rbenv global <span class="m">2</span>.0.0-p353
</pre></div></div>

<p>確認</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ ruby -v
ruby <span class="m">2</span>.0.0p353 <span class="o">(</span><span class="m">2013</span>-11-22 revision <span class="m">43784</span><span class="o">)</span> <span class="o">[</span>x86_64-linux<span class="o">]</span>
</pre></div></div>

<p>おしまい。</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />2位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>465</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/b36638adc2b5772db457">Vagrant セットアップ (Mac)</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-11-16 13:28:35</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Mac]</b> <b>[vagrant]</b> <b>[VirtualBox]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="1-vagrant-のインストール" class="fragment"></span><a href="#1-vagrant-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>1. Vagrant のインストール</h2>

<p>公式サイト<br>
<a href="http://www.vagrantup.com/" class="autolink" rel="nofollow noopener" target="_blank">http://www.vagrantup.com/</a></p>

<p>上記公式サイトから、 vagrant_1.8.1.dmg をダウンロードし インストール</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vagrant --version

Vagrant <span class="m">1</span>.8.1
</pre></div></div>

<h2>
<span id="2-virtualbox-を公式サイトからインストール" class="fragment"></span><a href="#2-virtualbox-%E3%82%92%E5%85%AC%E5%BC%8F%E3%82%B5%E3%82%A4%E3%83%88%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>2. VirtualBox を公式サイトからインストール</h2>

<p>VirtualBox 公式サイト<br>
<a href="https://www.virtualbox.org/" class="autolink" rel="nofollow noopener" target="_blank">https://www.virtualbox.org/</a></p>

<p>VirtualBox-5.0.20-106931-OSX.dmg をダウンロードし インストール</p>

<h2>
<span id="3-初期化と起動" class="fragment"></span><a href="#3-%E5%88%9D%E6%9C%9F%E5%8C%96%E3%81%A8%E8%B5%B7%E5%8B%95"><i class="fa fa-link"></i></a>3. 初期化と起動</h2>

<p>Centos6.7の例です。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ mkdir -p ~/Vagrant/CentOS67/
$ <span class="nb">cd</span> ~/Vagrant/CentOS67/

$ vagrant init bento/centos-6.7
$ vagrant up --provider virtualbox

</pre></div></div>

<p>その他のBoxは下記にあるので、他のBoxを探して利用することも可能です。<br>
<a href="https://atlas.hashicorp.com/boxes/search" class="autolink" rel="nofollow noopener" target="_blank">https://atlas.hashicorp.com/boxes/search</a></p>

<p>例）ubuntuの例</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vagrant init ubuntu/trusty64
$ vagrant up --provider virtualbox
</pre></div></div>

<p>以前からある vagrantbox.es からBoxを探して利用することも可能です。<br>
<a href="http://www.vagrantbox.es/" class="autolink" rel="nofollow noopener" target="_blank">http://www.vagrantbox.es/</a></p>

<p>例）</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vagrant box add centos65 https://github.com/2creatives/vagrant-centos/releases/download/v6.5.3/centos65-x86_64-20140116.box

$ mkdir -p ~/Vagrant/CentOS65
$ <span class="nb">cd</span> ~/Vagrant/CentOS65

$ vagrant init centos65
$ vagrant up
</pre></div></div>

<h2>
<span id="4-仮想マシンの操作" class="fragment"></span><a href="#4-%E4%BB%AE%E6%83%B3%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%AE%E6%93%8D%E4%BD%9C"><i class="fa fa-link"></i></a>4. 仮想マシンの操作</h2>

<h3>
<span id="起動するにはup" class="fragment"></span><a href="#%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AFup"><i class="fa fa-link"></i></a>起動するには、up</h3>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vagrant up
Bringing machine <span class="s1">'default'</span> up with <span class="s1">'virtualbox'</span> provider...

<span class="o">[</span>default<span class="o">]</span> VirtualBox VM is already running.
</pre></div></div>

<p>すでに起動してます。</p>

<h3>
<span id="状態を見るには-status" class="fragment"></span><a href="#%E7%8A%B6%E6%85%8B%E3%82%92%E8%A6%8B%E3%82%8B%E3%81%AB%E3%81%AF-status"><i class="fa fa-link"></i></a>状態を見るには、 status</h3>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vagrant status

default                   running <span class="o">(</span>virtualbox<span class="o">)</span>
</pre></div></div>

<h3>
<span id="一時停止するにはsuspend" class="fragment"></span><a href="#%E4%B8%80%E6%99%82%E5%81%9C%E6%AD%A2%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AFsuspend"><i class="fa fa-link"></i></a>一時停止するには、suspend</h3>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vagrant <span class="nb">suspend</span>

<span class="o">[</span>default<span class="o">]</span> Saving VM state and suspending execution...
</pre></div></div>

<h2>
<span id="5-仮想マシンへの接続" class="fragment"></span><a href="#5-%E4%BB%AE%E6%83%B3%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%B8%E3%81%AE%E6%8E%A5%E7%B6%9A"><i class="fa fa-link"></i></a>5. 仮想マシンへの接続</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vagrant ssh

Welcome to your Vagrant-built virtual machine.
<span class="o">[</span>vagrant@localhost ~<span class="o">]</span>$ 
</pre></div></div>

<h2>
<span id="6-ネットワークの設定" class="fragment"></span><a href="#6-%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>6. ネットワークの設定</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vim Vagrantfile
<span class="c1"># config.vm.network :private_network, ip: "192.168.33.10"</span>
 ↑ ここのコメントアウトを削除
</pre></div></div>

<p>vagrant のリロード</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vagrant reload
</pre></div></div>

<p>これで、192.168.33.10 というIPでアクセスできる</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>% ping <span class="m">192</span>.168.33.10
PING <span class="m">192</span>.168.33.10 <span class="o">(</span><span class="m">192</span>.168.33.10<span class="o">)</span>: <span class="m">56</span> data bytes
<span class="m">64</span> bytes from <span class="m">192</span>.168.33.10: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">0</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">64</span> <span class="nv">time</span><span class="o">=</span><span class="m">0</span>.383 ms
<span class="m">64</span> bytes from <span class="m">192</span>.168.33.10: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">64</span> <span class="nv">time</span><span class="o">=</span><span class="m">0</span>.624 ms
<span class="m">64</span> bytes from <span class="m">192</span>.168.33.10: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">64</span> <span class="nv">time</span><span class="o">=</span><span class="m">0</span>.794 ms
</pre></div></div>

<h2>
<span id="7-プロビジョニング" class="fragment"></span><a href="#7-%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0"><i class="fa fa-link"></i></a>7. プロビジョニング</h2>

<p>Vagrantには chef や ansible のようなサーバーの初期設定をするしくみが備わっています。<br>
大きく分けて、Vagrantfile に直接記述する inlineの方法と、外部ファイル(shell script)に記述する方法があります。</p>

<h3>
<span id="71-プロビジョニングinlie" class="fragment"></span><a href="#71-%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0inlie"><i class="fa fa-link"></i></a>7.1 プロビジョニング/inlie</h3>

<p>Vagrantfile に直接記述します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>Vagrant.configure("2") do |config|
  config.vm.provision "shell", inline: &lt;&lt;-SHELL
     sudo yum update
     sudo yum install -y git screen tree wget
  SHELL
end
</pre></div></div>

<p>変更したら、provisionを実行</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ vagrant provision
</pre></div></div>

<h3>
<span id="72-プロビジョニング外部ファイル" class="fragment"></span><a href="#72-%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0%E5%A4%96%E9%83%A8%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB"><i class="fa fa-link"></i></a>7.2 プロビジョニング/外部ファイル</h3>

<p>外部のshell scriptを実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>Vagrant.configure("2") do |config|
  config.vm.provision "shell", path: "script.sh"
end
</pre></div></div>

<p>このscript.sh はホストOS側にあります。</p>

<h3>
<span id="73-その他" class="fragment"></span><a href="#73-%E3%81%9D%E3%81%AE%E4%BB%96"><i class="fa fa-link"></i></a>7.3 その他</h3>

<p>他にも、指定したURLのスクリプトを実行したり、いろいろできます。<br>
詳しくはこちら<br>
<a href="https://www.vagrantup.com/docs/provisioning/shell.html" class="autolink" rel="nofollow noopener" target="_blank">https://www.vagrantup.com/docs/provisioning/shell.html</a></p>

<h2>
<span id="補足" class="fragment"></span><a href="#%E8%A3%9C%E8%B6%B3"><i class="fa fa-link"></i></a>補足</h2>

<p>Vagrantのsharedfolder使ってて良くはまるのが、CSSとかJSとかHTMLといった静的なコンテンツを更新しても<br>
反映されない事があります。<br>
そんな現象が起きた時は下記を参考にしてapacheやnginxの設定を見直すと良いかもです。</p>

<p>VagrantでCSSの更新が反映されない場合の対処法<br>
<a href="http://qiita.com/shoyan/items/12389d5beaa8695b1a53" class="autolink" id="reference-62f5846f0a5d33f9244e">http://qiita.com/shoyan/items/12389d5beaa8695b1a53</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />3位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>53</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/0a90314811a379984f9c">Phalcon PHP インストール (CentOS 6.5)</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-01-15 17:31:33</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[PHP]</b> <b>[CentOS]</b> <b>[Phalcon]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="osバージョン確認" class="fragment"></span><a href="#os%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>OSバージョン確認 </h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ cat /etc/redhat-release 
CentOS release <span class="m">6</span>.5 <span class="o">(</span>Final<span class="o">)</span>
</pre></div></div>

<h2>
<span id="gcc-php-php-devel-のインストール" class="fragment"></span><a href="#gcc-php-php-devel-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>gcc, php, php-devel のインストール</h2>

<p>epelレポジトリ、remi レポジトリのインストール</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ sudo rpm -Uvh http://ftp.jaist.ac.jp/pub/Linux/Fedora/epel/6/i386/epel-release-6-8.noarch.rpm
$ sudo rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm
</pre></div></div>

<p>gcc, php, php-devel のインストール</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ sudo yum -y install gcc make
$ sudo yum -y install php --enablerepo<span class="o">=</span>remi
$ sudo yum -y install php-devel --enablerepo<span class="o">=</span>remi
</pre></div></div>

<p>確認</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ php -v
PHP <span class="m">5</span>.4.24 <span class="o">(</span>cli<span class="o">)</span> <span class="o">(</span>built: Jan  <span class="m">9</span> <span class="m">2014</span> <span class="m">07</span>:32:12<span class="o">)</span> 
</pre></div></div>

<h2>
<span id="phalconソースの取得とインストール" class="fragment"></span><a href="#phalcon%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E5%8F%96%E5%BE%97%E3%81%A8%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>Phalconソースの取得とインストール</h2>

<p>git からソースをダウンロードするので、事前にgitのインストールが必要</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ git clone git://github.com/phalcon/cphalcon.git
$ <span class="nb">cd</span> cphalcon/build
$ sudo ./install
</pre></div></div>

<h2>
<span id="phpiniの設定" class="fragment"></span><a href="#phpini%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>php.iniの設定</h2>

<p>/etc/php.d/phalcon.ini を作成し下記を記述</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="nv">extension</span><span class="o">=</span>phalcon.so

</pre></div></div>

<h2>
<span id="インストールの確認" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%AE%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>インストールの確認</h2>

<p>下記のように出力されればOK</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ php -i <span class="p">|</span>grep Phalcon
Phalcon <span class="nv">Framework</span> <span class="o">=</span>&gt; enabled
Phalcon <span class="nv">Version</span> <span class="o">=</span>&gt; <span class="m">1</span>.2.5
</pre></div></div>

<h3>
<span id="プロジェクトの作成" class="fragment"></span><a href="#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>プロジェクトの作成</h3>

<p>Phalcon DevToolsを使って作ります。<br>
※ DevTools は別途インストールが必要<br>
参考: <a href="http://qiita.com/inouet/items/9a3ed3f028916f89053c" class="autolink" id="reference-9ebdbf691b36c5622e24">http://qiita.com/inouet/items/9a3ed3f028916f89053c</a></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /vagrant/
$ phalcon project phalcon-sample

Phalcon DevTools <span class="o">(</span><span class="m">1</span>.2.5<span class="o">)</span>


  Success: Controller <span class="s2">"index"</span> was successfully created.  


  Success: Project <span class="s2">"phalcon-sample"</span> was successfully created.  

</pre></div></div>

<p>下記のような構造になります。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ tree phalcon-sample/
phalcon-sample/
├── app
│   ├── config
│   │   └── config.php
│   ├── controllers
│   │   ├── ControllerBase.php
│   │   └── IndexController.php
│   ├── logs
│   ├── models
│   └── views
│       ├── index
│       │   └── index.phtml
│       ├── index.phtml
│       └── layouts
├── index.html
└── public
    ├── css
    ├── files
    ├── img
    ├── index.php
    ├── js
    └── temp
</pre></div></div>

<h2>
<span id="apache-vhostの設定" class="fragment"></span><a href="#apache-vhost%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>apache Vhostの設定</h2>

<p>/etc/httpd/conf.d/vhost.conf に 設定<br>
vagrant1 というホストでアクセスできるように設定します。</p>

<div class="code-frame" data-lang="apacheconf">
<div class="code-lang"><span class="bold">httpd.conf</span></div>
<div class="highlight"><pre><span></span><span class="nt">&lt;VirtualHost</span> <span class="s">*:80</span><span class="nt">&gt;</span>

    <span class="nb">ServerAdmin</span> admin@example.host
    <span class="nb">DocumentRoot</span> <span class="s2">"/vagrant/phalcon-sample/public"</span>
    <span class="nb">DirectoryIndex</span> index.php
    <span class="nb">ServerName</span> vagrant1
    <span class="nb">ServerAlias</span> vagrant1


    <span class="nt">&lt;Directory</span> <span class="s">"/vagrant/phalcon-sample/public"</span><span class="nt">&gt;</span>
        <span class="nb">Options</span> <span class="k">All</span>
        <span class="nb">AllowOverride</span> <span class="k">All</span>
        <span class="nb">Allow</span> from <span class="k">all</span>

        <span class="nb">RewriteEngine</span> <span class="k">On</span>
        <span class="nb">RewriteCond</span> %{REQUEST_FILENAME} !-d
        <span class="nb">RewriteCond</span> %{REQUEST_FILENAME} !-f
        <span class="nb">RewriteRule</span> ^(.*)$ index.php?_url=/$1 [QSA,L]
    <span class="nt">&lt;/Directory&gt;</span>

<span class="nt">&lt;/VirtualHost&gt;</span>

</pre></div>
</div>

<p><a href="http://vagrant1/" class="autolink" rel="nofollow noopener" target="_blank">http://vagrant1/</a> にアクセス</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>Congratulations!

You're now flying with Phalcon.
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />4位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>26</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/11b8338bbd0093989e97">chkconfigを利用した起動スクリプトひな形</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-03-26 11:48:24</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[CentOS]</b> <b>[shell]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>下記のようなファイルを /etc/init.d/sample　として置く。</p>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">/etc/init.d/sample</span></div>
<div class="highlight"><pre><span></span>#!/bin/sh
# chkconfig: 345 99 1
# description: sample
# processname: sample

start() {
    echo -n "starting sample:"
    /usr/local/sbin/sample
    return 0
}

stop() {
    killall sample
    return 0
}

case "$1" in
    start)
        start
        ;;
    stop)
        stop
        ;;
    *)
        echo $"Usage: $0 {start|stop}"
        exit 2
esac

exit 0
</pre></div>
</div>

<p># chkconfig [起動レベル] [起動時の優先度] [停止時の優先度]</p>

<p>追加方法</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span># chkconfig --add &lt;起動スクリプト名&gt;

# chkconfig &lt;起動スクリプト名&gt;  on
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />5位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>25</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/02e8ba866a30f0316eeb">AWS認定ソリューションアーキテクト アソシエイト 受験用メモ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-03-24 00:56:48</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[AWS]</b> <b>[Amazon]</b> <b>[資格]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="参考サイト" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%82%B5%E3%82%A4%E3%83%88"><i class="fa fa-link"></i></a>参考サイト</h2>

<p>◇AWS 認定ソリューションアーキテクト – アソシエイト レベル試験に合格する方法<br>
<a href="http://dev.classmethod.jp/etc/how-to-get-a-certification-aws-architect-associate-level/" class="autolink" rel="nofollow noopener" target="_blank">http://dev.classmethod.jp/etc/how-to-get-a-certification-aws-architect-associate-level/</a></p>

<p>◇シリーズインフラエンジニアに贈るAmazon VPC入門<br>
<a href="http://dev.classmethod.jp/series/vpcfor-infra-engineer/" class="autolink" rel="nofollow noopener" target="_blank">http://dev.classmethod.jp/series/vpcfor-infra-engineer/</a></p>

<p>◇AWS　クラウドサービス活用資料集<br>
<a href="http://aws.amazon.com/jp/aws-jp-introduction/" class="autolink" rel="nofollow noopener" target="_blank">http://aws.amazon.com/jp/aws-jp-introduction/</a><br>
→ Slideshareのリンクあって便利</p>

<p>◇ blueprint(jp)<br>
<a href="http://d36cz9buwru1tt.cloudfront.net/jp/certification/AWS_certified_solutions_archtect_associate_blueprint-jp.pdf" class="autolink" rel="nofollow noopener" target="_blank">http://d36cz9buwru1tt.cloudfront.net/jp/certification/AWS_certified_solutions_archtect_associate_blueprint-jp.pdf</a></p>

<h2>
<span id="ポイント" class="fragment"></span><a href="#%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88"><i class="fa fa-link"></i></a>ポイント</h2>

<p><a href="http://xoxo-infra.hatenablog.com/entry/2013/10/25/184258" class="autolink" rel="nofollow noopener" target="_blank">http://xoxo-infra.hatenablog.com/entry/2013/10/25/184258</a></p>

<h3>
<span id="マストa" class="fragment"></span><a href="#%E3%83%9E%E3%82%B9%E3%83%88a"><i class="fa fa-link"></i></a>マスト(A)</h3>

<ul>
<li>VPC</li>
<li>S3</li>
<li>IAM</li>
<li>CloudFront</li>
</ul>

<h3>
<span id="マストb" class="fragment"></span><a href="#%E3%83%9E%E3%82%B9%E3%83%88b"><i class="fa fa-link"></i></a>マスト(B)</h3>

<ul>
<li>EC2</li>
<li>EBS</li>
<li>Elastic Load Balancing</li>
<li>Auto Scaling</li>
<li>SQS</li>
</ul>

<h3>
<span id="普通" class="fragment"></span><a href="#%E6%99%AE%E9%80%9A"><i class="fa fa-link"></i></a>普通</h3>

<ul>
<li>Route 53</li>
<li>RDS</li>
</ul>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />6位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>20</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/a7086139e94b80df3084">フォント Ricty のインストール（Mac)</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-03-12 11:11:07</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Mac]</b> <b>[homebrew]</b> <b>[font]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ brew tap sanemat/font
$ brew install ricty

$ cp -f /usr/local/opt/ricty/share/fonts/Ricty*.ttf ~/Library/Fonts/
$ fc-cache -vf

</pre></div></div>

<p>[参考] Sublime Text 2でフォントを設定する<br>
<a href="http://succi.jp/blog/?p=263" class="autolink" rel="nofollow noopener" target="_blank">http://succi.jp/blog/?p=263</a></p>

<p>[参考] プログラムに最適なフォント『Ricty』を超簡単にインストール[Mac限定]<br>
<a href="http://morizyun.github.io/blog/ricty-font-homebrew-mac/" class="autolink" rel="nofollow noopener" target="_blank">http://morizyun.github.io/blog/ricty-font-homebrew-mac/</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />7位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>18</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/fe1e4a1d506a8dc01b27">apache solr インストール</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-12-02 13:28:07</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[CentOS]</b> <b>[Apache]</b> <b>[solr]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="1-javaインストール" class="fragment"></span><a href="#1-java%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>1. Javaインストール</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ sudo yum install java-1.6.0-openjdk
</pre></div></div>

<h2>
<span id="2-solr本体のインストール" class="fragment"></span><a href="#2-solr%E6%9C%AC%E4%BD%93%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>2. solr本体のインストール</h2>

<p>/var/local/solr-x.x.x/ に配置する前提で進めます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ wget http://ftp.jaist.ac.jp/pub/apache/lucene/solr/4.6.0/solr-4.6.0.tgz 
$ tar -zxvf solr-4.6.0.tgz
$ sudo cp -R solr-4.6.0 /var/local/
</pre></div></div>

<p>※ 下記は任意の名前で置き換える。</p>

<ul>
<li>[db_name]</li>
<li>[collection_name]</li>
</ul>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /var/local
$ sudo chown -R :wheel solr-4.6.0/
$ <span class="nb">cd</span> solr-4.6.0
$ sudo cp -R example <span class="o">[</span>db_name<span class="o">]</span>
$ <span class="nb">cd</span> <span class="o">[</span>db_name<span class="o">]</span>/solr
$ sudo mv collection1 <span class="o">[</span>collection_name<span class="o">]</span>
$ <span class="nb">cd</span>  <span class="o">[</span>collection_name<span class="o">]</span>
$ sudo <span class="nb">echo</span> <span class="s2">"name=[collection_name]"</span> ¦ sudo tee core.properties
</pre></div></div>

<h2>
<span id="3起動" class="fragment"></span><a href="#3%E8%B5%B7%E5%8B%95"><i class="fa fa-link"></i></a>3.　起動</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="c1"># cd /var/local/solr-4.6.0/[db_name]</span>
<span class="c1"># java -jar start.jar &gt;&gt; /var/log/solr.log 2&gt;&amp;1 &amp;</span>
</pre></div></div>

<h2>
<span id="4-確認" class="fragment"></span><a href="#4-%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>4. 確認</h2>

<p><a href="http://192.168.33.10:8983/solr/" class="autolink" rel="nofollow noopener" target="_blank">http://192.168.33.10:8983/solr/</a> にアクセスしてみる。<br>
管理画面が表示されればOK (192.168.33.10 に立てた場合）</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />8位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>16</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/9a9cf5b5c24b3dc61d9b">EC2起動時に自動的にIPアドレス(Elastic IPs)を付与する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-03-26 13:50:38</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[AWS]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Amazon Linuxの例です。</p>

<p>/root/.awsrc に下記を記載</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>export EC2_PRIVATE_KEY=/root/.aws/pk-XXXXX.pem # ファイルは、AWS Management Consoleからダウンロードしたファイル名
export EC2_CERT=/root/.aws/cert-XXXXX.pem # 同上
export EC2_URL=https://ec2.ap-northeast-1.amazonaws.com

export JAVA_HOME=/usr/lib/jvm/jre
export EC2_HOME=/opt/aws/apitools/ec2
export PATH=$PATH:$EC2_HOME/bin:$JAVA_HOME/bin

export EC2_INSTANCE_ID=i-xxxxxxxx     # インスタンスID
export ELASTIC_IP_ADDRESS=xx.xx.xx.xx # 設定したいElastic IPアドレス(取得済)
</pre></div></div>

<p>/root/.aws/ に PRIVATE_KEY と CERT を配置</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>/root/.aws/cert-xxxxx.pem  
/root/.aws/pk-xxxx.pem
</pre></div></div>

<p>/etc/init.d/aws_elastic_ip というファイルを作成</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>#!/bin/bash
#
# chkconfig: 345 99 1
# description: set aws elastic ip address
# processname: aws_elastic_ip
#

. /root/.awsrc

start() {
    echo "Assigning Elastic IP Address ${ELASTIC_IP_ADDRESS} ."
    ec2-associate-address $ELASTIC_IP_ADDRESS -i $EC2_INSTANCE_ID &gt;/dev/null 2&gt;&amp;1
}

stop() {
    echo "Deassigning Elastic IP Address ${ELASTIC_IP_ADDRESS} ."
    ec2-disassociate-address $ELASTIC_IP_ADDRESS &gt;/dev/null 2&gt;&amp;1
}

case "$1" in
  start)
        start
        ;;
  stop)
        stop
        ;;
  *)
        echo $"Usage: $0 {start|stop}"
        exit 2
esac

exit 0

</pre></div></div>

<p>root にて下記を実行し、起動スクリプトを登録</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>chkconfig --add aws_elastic_ip
chkconfig aws_elastic_ip on
</pre></div></div>

<p>インスタンスを一旦stopし、再度start して、IPアドレスが紐付いていればOK</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />9位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>12</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/9a3ed3f028916f89053c">Phalcon Developper Tools のインストール（Linux）</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-03-12 01:37:38</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[PHP]</b> <b>[Linux]</b> <b>[Phalcon]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="1-git-から-cloneする" class="fragment"></span><a href="#1-git-%E3%81%8B%E3%82%89-clone%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>1. git から cloneする。</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ git clone git://github.com/phalcon/phalcon-devtools.git
</pre></div></div>

<h2>
<span id="2-usrlocalsrc-にファイルを移動する" class="fragment"></span><a href="#2-usrlocalsrc-%E3%81%AB%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%A7%BB%E5%8B%95%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2. /usr/local/src にファイルを移動する　</h2>

<p>別に/usr/local/srcじゃなくても良いです。システムにあわせて適当に。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo mv phalcon-devtools /usr/local/src
</pre></div></div>

<h2>
<span id="3-インストール" class="fragment"></span><a href="#3-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>3. インストール</h2>

<p>実際には、bashにPATH通してるだけです。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ cd /usr/local/src/phalcon-devtools
$ . ./phalcon.sh  
</pre></div></div>

<p>※２行めの ./phalcon.sh の前に、ドットがあるのでわすれずに。</p>

<h2>
<span id="4完了" class="fragment"></span><a href="#4%E5%AE%8C%E4%BA%86"><i class="fa fa-link"></i></a>4.完了</h2>

<p>~/.bash_profile に下記のような行が追加されます。<br>
bash以外のシェルを使っている人はこれだとだめかもね。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>export PTOOLSPATH=/usr/local/src/phalcon-devtools/
export PATH=$PATH:/usr/local/src/phalcon-devtools
</pre></div></div>

<h2>
<span id="5-試してみる" class="fragment"></span><a href="#5-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>5. 試してみる</h2>

<p>コンソールで phalcon と打ってみる。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ phalcon

Phalcon DevTools (1.2.6)

Available commands:
  commands (alias of: list, enumerate)
  controller (alias of: create-controller)
  model (alias of: create-model)
  all-models (alias of: create-all-models)
  project (alias of: create-project)
  scaffold
  migration
  webtools

</pre></div></div>

<p>これが出ればOK</p>

<p>参考<br>
<a href="http://phalcon-docs-ja.readthedocs.org/ja/latest/reference/linuxtools.html" class="autolink" rel="nofollow noopener" target="_blank">http://phalcon-docs-ja.readthedocs.org/ja/latest/reference/linuxtools.html</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />10位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>11</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/8ce5b040eaa160ff3810">apache log の LTSV化</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-03-12 18:29:39</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Apache]</b> <b>[log]</b> <b>[LTSV]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>LogFormat "time:%{%Y-%m-%d %H:%M:%S %z}t\tdomain:%V\thost:%h\tserver:%A\tident:%l\tuser:%u\tmethod:%m\tpath:%U%q\tprotocol:%H\tstatus:%&gt;s\tsize:%b\treferer:%{Referer}i\tagent:%{User-Agent}i\tresponse_time:%D\tcookie:%{cookie}i\tset_cookie:%{Set-Cookie}o" ltsv
</pre></div></div>

<p>日付は、 YYYY-mm-dd HH:ii:ss 形式に。</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />11位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/ca5125a271df9a5a1fbf">いろいろなSSH鍵形式の整理</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-03-21 10:51:04</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Mac]</b> <b>[Linux]</b> <b>[SSH]</b> <b>[Putty]</b> <b>[Poderosa]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>いろんな形式があって、Poderosaで使うときはどれ？Macで使うときはどれ？ Puttyで使うときはどれ？<br>
といつも混乱するので整理しておきます。</p>

<p>（整理中）</p>

<h2>
<span id="ppk" class="fragment"></span><a href="#ppk"><i class="fa fa-link"></i></a>.ppk</h2>

<p>あとで書く</p>

<h2>
<span id="pem" class="fragment"></span><a href="#pem"><i class="fa fa-link"></i></a>.pem</h2>

<p>あとで書く</p>

<h2>
<span id="key" class="fragment"></span><a href="#key"><i class="fa fa-link"></i></a>.key</h2>

<p>あとで書く</p>

<h2>
<span id="ppk-から-rsa-private-keyに変換-linuxにて" class="fragment"></span><a href="#ppk-%E3%81%8B%E3%82%89-rsa-private-key%E3%81%AB%E5%A4%89%E6%8F%9B-linux%E3%81%AB%E3%81%A6"><i class="fa fa-link"></i></a>ppk から RSA private keyに変換 (Linuxにて)</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo yum install -y putty
$ puttygen putty_key.ppk -O private-openssh -o ~/.ssh/from_putty_key_rsa

</pre></div></div>

<p>引用元：<br>
<a href="http://chocolapod.sakura.ne.jp/blog/entry/64" class="autolink" rel="nofollow noopener" target="_blank">http://chocolapod.sakura.ne.jp/blog/entry/64</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />12位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/5bc0730daeb979c078ba">awkメモ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-01-17 15:05:35</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Linux]</b> <b>[awk]</b> <b>[shell]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="基本的な文法" class="fragment"></span><a href="#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E6%96%87%E6%B3%95"><i class="fa fa-link"></i></a>基本的な文法</h1>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ awk <span class="s1">'条件文 {実行文}'</span> 対象ファイル名
</pre></div></div>

<p>例) 行番号が5未満のレコードの第1フィールドを出力</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>awk <span class="s1">'NR &lt; 5 {print $1}'</span> /etc/resolv.conf
</pre></div></div>

<p>条件文は省略可能</p>

<p>例) 条件文を省略した例</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ awk <span class="s1">'{print $1}'</span> /etc/resolv.conf
</pre></div></div>

<h1>
<span id="変数" class="fragment"></span><a href="#%E5%A4%89%E6%95%B0"><i class="fa fa-link"></i></a>変数</h1>

<h2>
<span id="1-特殊変数" class="fragment"></span><a href="#1-%E7%89%B9%E6%AE%8A%E5%A4%89%E6%95%B0"><i class="fa fa-link"></i></a>1. 特殊変数</h2>

<h3>
<span id="0" class="fragment"></span><a href="#0"><i class="fa fa-link"></i></a>$0</h3>

<p>処理中のレコード全部が入る</p>

<h3>
<span id="1-2-3-" class="fragment"></span><a href="#1-2-3-"><i class="fa fa-link"></i></a>$1, $2, $3 …</h3>

<p>各フィールドが 1から順に $1 $2 $3 … に割り当てられる<br>
フィールドはデフォルトではスペース区切り</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ awk <span class="s1">'{print $1}'</span> /etc/resolv.conf
</pre></div></div>

<h2>
<span id="2-組み込み変数" class="fragment"></span><a href="#2-%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF%E5%A4%89%E6%95%B0"><i class="fa fa-link"></i></a>2. 組み込み変数</h2>

<table>
<thead>
<tr>
<th style="text-align: left">変数名</th>
<th style="text-align: right">説明</th>
<th style="text-align: right">デフォルト値</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">NF</td>
<td style="text-align: right">現在のレコードのフィールド数</td>
<td style="text-align: right"></td>
</tr>
<tr>
<td style="text-align: left">NR</td>
<td style="text-align: right">現在のレコード数</td>
<td style="text-align: right"></td>
</tr>
<tr>
<td style="text-align: left">FS  (Field Separator)</td>
<td style="text-align: right">フィールドの区切り文字</td>
<td style="text-align: right">スペース</td>
</tr>
<tr>
<td style="text-align: left">RS  (Record Separator)</td>
<td style="text-align: right">レコードの区切り文字</td>
<td style="text-align: right">改行</td>
</tr>
</tbody>
</table>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />13位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>4</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/0de194f11865bc21dc0a">Bashメモ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-03-14 11:53:11</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Bash]</b> <b>[Linux]</b> <b>[shell]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="ファイルを1行ずつ読む" class="fragment"></span><a href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%921%E8%A1%8C%E3%81%9A%E3%81%A4%E8%AA%AD%E3%82%80"><i class="fa fa-link"></i></a>ファイルを1行ずつ読む</h2>

<p>while の標準入力に渡してあげる。</p>

<p>例１）</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>while read line; do
  echo "LINE: $line"
done &lt; {ファイル名}
</pre></div></div>

<p>例２）</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>cat {ファイル名} | while read line; do
  echo "LINE: $line"
done
</pre></div></div>

<h2>
<span id="標準出力と標準エラー出力をファイルに追記" class="fragment"></span><a href="#%E6%A8%99%E6%BA%96%E5%87%BA%E5%8A%9B%E3%81%A8%E6%A8%99%E6%BA%96%E3%82%A8%E3%83%A9%E3%83%BC%E5%87%BA%E5%8A%9B%E3%82%92%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AB%E8%BF%BD%E8%A8%98"><i class="fa fa-link"></i></a>標準出力と標準エラー出力をファイルに追記</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>exec &gt;&gt; ./log.txt  2&gt;&amp;1
</pre></div></div>

<h2>
<span id="ファイルがシンボリックリンクか判断する" class="fragment"></span><a href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8C%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%8B%E5%88%A4%E6%96%AD%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>ファイルがシンボリックリンクか判断する</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>if [ -L hoge.txt ]; then
  echo "hoge.txt is symbolic link"
fi
</pre></div></div>

<p>なお、ディレクトリでも同様に判定できるけど、最後に / つけると常にfalseになるみたい。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>if [ -L /var/www ]; then
  echo "/var/www is symbolic link"
fi
# =&gt; OK

if [ -L /var/www/ ]; then
  echo "/var/www/ is symbolic link"
fi
# =&gt; NG
</pre></div></div>

<p>参考: man test</p>

<h2>
<span id="列を縦にする" class="fragment"></span><a href="#%E5%88%97%E3%82%92%E7%B8%A6%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>列を縦にする</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ cat hoge.csv | head -n 1 | perl -pe 's/,/\n/g'
</pre></div></div>

<h2>
<span id="1行目を取り除くヘッダ行など" class="fragment"></span><a href="#1%E8%A1%8C%E7%9B%AE%E3%82%92%E5%8F%96%E3%82%8A%E9%99%A4%E3%81%8F%E3%83%98%E3%83%83%E3%83%80%E8%A1%8C%E3%81%AA%E3%81%A9"><i class="fa fa-link"></i></a>1行目を取り除く（ヘッダ行など）</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ tail hoge.csv -n +2 &gt; hoge-2.csv
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />14位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>2</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/da30ac30e6a91f2f059c">vim ruby インデント設定</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-03-27 22:22:46</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ mkdir ~/.vim/after/ftplugin
$ cd ~/.vim/after/ftplugin

$ vim ruby.vim
setlocal shiftwidth=2
setlocal expandtab

</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />15位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>1</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/50bcbc5e695a4c0475d9">rails インストール (CeontOS)</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-11-23 08:27:20</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[Rails]</b> <b>[CentOS]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<p>下記のものを入れておく</p>

<ol>
<li>git</li>
<li>rbenv</li>
<li>ruby-build</li>
<li>ruby</li>
</ol>

<p>[参考] <a href="http://qiita.com/inouet@github/items/478f4228dbbcd442bfe8" class="autolink" id="reference-33d6addc4290a071289a">http://qiita.com/inouet@github/items/478f4228dbbcd442bfe8</a></p>

<h2>
<span id="1-gem-のアップデート" class="fragment"></span><a href="#1-gem-%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88"><i class="fa fa-link"></i></a>1. gem のアップデート</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ gem update --system
</pre></div></div>

<h2>
<span id="2-bundler-のインストール" class="fragment"></span><a href="#2-bundler-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>2. bundler のインストール</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ gem install bundler --no-ri --no-rdoc
Fetching: bundler-1.3.5.gem <span class="o">(</span><span class="m">100</span>%<span class="o">)</span>
Successfully installed bundler-1.3.5
</pre></div></div>

<p>忘れずに</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ rbenv rehash
</pre></div></div>

<h2>
<span id="3-rails-のインストール" class="fragment"></span><a href="#3-rails-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>3. rails のインストール</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ mkdir ~/my_rails_app
$ <span class="nb">cd</span> ~/my_rails_app
$ bundle init
</pre></div></div>

<p>Gemfile ができる</p>

<p>Gemfile 編集</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vim Gemfile

<span class="nb">source</span> <span class="s2">"https://rubygems.org"</span>
gem <span class="s1">'rails'</span>, <span class="s1">'~&gt; 4.0.0'</span>

</pre></div></div>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ bundle install
</pre></div></div>

<h2>
<span id="3-確認" class="fragment"></span><a href="#3-%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>3. 確認</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rails -v
Rails <span class="m">4</span>.0.1
</pre></div></div>

<p>プロジェクト作ってみる</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rails new test_app
</pre></div></div>

<p>いろいろファイルが作られる</p>

<p>WEBサーバ(WEBRic)を立ち上げて確認</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> test_app
$ rails server
</pre></div></div>

<p>JavaScript Runtime のエラーが出る場合は therubyracer を入れる。</p>

<p>Gemfile編集して</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ vim Gemfile
<span class="c1"># gem 'therubyracer', platforms: :ruby &lt;== このコメントを外す</span>
</pre></div></div>

<p>インストール</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ bundle install
</pre></div></div>

<p>ブラウザでURLを叩いて Rails 画面が出ればOK</p>

<p><a href="http://192.168.33.10:3000/" class="autolink" rel="nofollow noopener" target="_blank">http://192.168.33.10:3000/</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>inouetさんの<br />16位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>1</kbd>
		<a target="_blank" href="https://qiita.com/inouet/items/8b303d423639f2006128">ruby aws sdk を使った Elasticache のリブート</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-03-26 11:05:38</center>
	</td>
	<td style="width:200px;">
		@inouet<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/18743/profile-images/1473682517">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[AWS]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">ec_reboot.rb</span></div>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/ruby</span>
<span class="nb">require</span> <span class="s1">'rubygems'</span>
<span class="nb">require</span> <span class="s1">'aws-sdk'</span>

<span class="c1"># require './config.rb'</span>
<span class="c1"># -----------------------------------</span>
<span class="c1"># config.rb の中身</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"access_key_id"</span>        <span class="o">=&gt;</span> <span class="s2">"xxxxxxx"</span><span class="p">,</span>
  <span class="s2">"secret_access_key"</span>    <span class="o">=&gt;</span> <span class="s2">"xxxxxxx"</span><span class="p">,</span>
  <span class="s2">"sqs_endpoint"</span>         <span class="o">=&gt;</span>  <span class="s2">"sqs.ap-northeast-1.amazonaws.com"</span><span class="p">,</span>
  <span class="s2">"elasticache_endpoint"</span> <span class="o">=&gt;</span> <span class="s2">"elasticache.ap-northeast-1.amazonaws.com"</span><span class="p">,</span>
<span class="p">}</span>

<span class="no">AWS</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="c1">#-----------------------------------------------</span>

<span class="k">begin</span>
  <span class="n">ec</span> <span class="o">=</span> <span class="no">AWS</span><span class="o">::</span><span class="no">ElastiCache</span><span class="o">.</span><span class="n">new</span>

  <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">:cache_cluster_id</span> <span class="o">=&gt;</span> <span class="s1">'xxxx'</span><span class="p">,</span> 
    <span class="ss">:cache_node_ids_to_reboot</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s1">'0001'</span><span class="o">]</span>
  <span class="p">}</span>
  <span class="n">r</span> <span class="o">=</span> <span class="n">ec</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">reboot_cache_cluster</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

  <span class="nb">puts</span> <span class="s2">"OK!"</span>
<span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">exc</span>
  <span class="nb">p</span> <span class="n">exc</span><span class="o">.</span><span class="n">message</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
