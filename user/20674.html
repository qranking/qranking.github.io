<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (axross)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (axross さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><a href="#" onclick="javascript:window.history.back(-1);return false;">[戻る]</a></p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>axrossさんの<br />1位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>711</kbd>
		<a target="_blank" href="https://qiita.com/axross/items/1fc342c04aa88d48c713">絶対に読んでおきたい、JavaScriptのおすすめ書籍7冊</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-10-03 17:10:37</center>
	</td>
	<td style="width:200px;">
		@axross<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/20674/profile-images/1506601100">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[JavaScript]</b> <b>[書籍]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>フロントエンドエンジニアにとって、JavaScriptは今や開発の中心にあると言ってもいいと思います。</p>

<p>JavaScriptに対していまいち自信のない人向けに、おすすめしたい本をまとめてみました。</p>

<p>これで、日本のJS界隈がもっと賑わって、仲間が増えると嬉しいです(今でもかなり賑やかですが)。</p>

<h1>
<span id="基礎" class="fragment"></span><a href="#%E5%9F%BA%E7%A4%8E"><i class="fa fa-link"></i></a>基礎</h1>

<h2>
<span id="javascript本格入門" class="fragment"></span><a href="#javascript%E6%9C%AC%E6%A0%BC%E5%85%A5%E9%96%80"><i class="fa fa-link"></i></a>JavaScript本格入門</h2>

<p><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4774144665/axross-22/" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/c41da518a8f062e8216dc71e28e86222644fff28/687474703a2f2f6563782e696d616765732d616d617a6f6e2e636f6d2f696d616765732f492f353132776f39693969534c2e5f534c3136305f2e6a7067" alt="JavaScript本格入門" data-canonical-src="http://ecx.images-amazon.com/images/I/512wo9i9iSL._SL160_.jpg"></a></p>

<p>JavaScriptの本の中では一番易しいんじゃないかな、と思います。</p>

<p>これ以上に読者ターゲットのレベルを落とした本は、解説が不十分だったり、レシピ集のような側面が強かったりで、勉強には向いていません(網羅的でないということ)。</p>

<p>この本は解説のみで、深い仕様やテクニックには踏み込みません。それだけに読みやすく仕上がっていると思います。</p>

<p>この本でJavaScriptに興味をもつことができたら、よりディープな本に進んでみるといいと思います。</p>

<h2>
<span id="パーフェクトjavascript" class="fragment"></span><a href="#%E3%83%91%E3%83%BC%E3%83%95%E3%82%A7%E3%82%AF%E3%83%88javascript"><i class="fa fa-link"></i></a>パーフェクトJavaScript</h2>

<p><a href="http://www.amazon.co.jp/exec/obidos/ASIN/477414813X/axross-22/" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/bc44ce84fb48cb4616f112f0176518a21a96dca0/687474703a2f2f6563782e696d616765732d616d617a6f6e2e636f6d2f696d616765732f492f353179726a4673662d324c2e5f534c3136305f2e6a7067" alt="パーフェクトJavaScript" data-canonical-src="http://ecx.images-amazon.com/images/I/51yrjFsf-2L._SL160_.jpg"></a></p>

<p>「JavaScript本格入門」よりも、少しレベルの高い、同系統の本と思ってもらってかまいません。</p>

<p>プログラミング自体が初めての人がこの本をいきなり読むには、なかなか大変な思いをするでしょうが、「JavaScript本格入門」を読んだ後に進む先としてはバッチリです。買ったことを後悔させません。</p>

<h2>
<span id="javascript-第6版" class="fragment"></span><a href="#javascript-%E7%AC%AC6%E7%89%88"><i class="fa fa-link"></i></a>JavaScript 第6版</h2>

<p><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873115736/axross-22/" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/b4719acef9454e435355f549c71d98d8bdc95a71/687474703a2f2f6563782e696d616765732d616d617a6f6e2e636f6d2f696d616765732f492f353163397543726848674c2e5f534c3136305f2e6a7067" alt="JavaScript 第6版" data-canonical-src="http://ecx.images-amazon.com/images/I/51c9uCrhHgL._SL160_.jpg"></a></p>

<p>通称「サイ本」、JavaScriptのバイブルです。</p>

<p>とにかくページ数が多く、読みごたえがあります。上記の2つの本よりもさらに網羅的で、対象読者としてもプログラミング経験者を意識した説明になっています。</p>

<p>なかなか手を出しにくいかもしれませんが、JavaScriptを扱うフロントエンドエンジニアにとっては必読書です。ぜひ読んで下さい。</p>

<h1>
<span id="発展" class="fragment"></span><a href="#%E7%99%BA%E5%B1%95"><i class="fa fa-link"></i></a>発展</h1>

<h2>
<span id="javascriptエンジニア-養成読本" class="fragment"></span><a href="#javascript%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2-%E9%A4%8A%E6%88%90%E8%AA%AD%E6%9C%AC"><i class="fa fa-link"></i></a>JavaScriptエンジニア 養成読本</h2>

<p><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4774167975/axross-22/" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/6c946c89c1591aafcb8a211acd2acc56f31810fe/687474703a2f2f6563782e696d616765732d616d617a6f6e2e636f6d2f696d616765732f492f353146717848694466634c2e5f41413136305f2e6a7067" alt="JavaScriptエンジニア 養成読本" data-canonical-src="http://ecx.images-amazon.com/images/I/51FqxHiDfcL._AA160_.jpg"></a></p>

<p>基礎は大事ですが、JavaScriptの言語仕様だけを学んでいても、大規模なアプリケーションの開発に役に立つことは少ないでしょう。</p>

<p>特に、Webフロントエンドの開発手法と開発手段は、進化の速い分野のひとつです。</p>

<p>JavaScriptがWebページを装飾するスクリプトに過ぎなかった頃もありました。しかしサナギから羽化した今、JavaScriptはWebページをコントロールするまでに至っています。JavaScriptを学ぶなら、JavaScriptの言語仕様だけに留まらず、よく使われるツールやライブラリ、フレームワークなどの周辺技術についても学ぶべきです。</p>

<p>そんなアプリケーション開発のためのノウハウを学ぶのにピッタリの1冊です。JavaScriptとフロントエンド開発をもっと好きになれるので、ぜひ読んでみてください。</p>

<h2>
<span id="開眼-javascript" class="fragment"></span><a href="#%E9%96%8B%E7%9C%BC-javascript"><i class="fa fa-link"></i></a>開眼！ JavaScript</h2>

<p><a href="http://www.amazon.co.jp/exec/obidos/ASIN/487311621X/axross-22/" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/c438dfa09de479e71e851153b18afcc2e51f424b/687474703a2f2f6563782e696d616765732d616d617a6f6e2e636f6d2f696d616765732f492f35316a4d7133253242446b6c4c2e5f534c3136305f2e6a7067" alt="開眼！ JavaScript" data-canonical-src="http://ecx.images-amazon.com/images/I/51jMq3%2BDklL._SL160_.jpg"></a></p>

<p>JavaScriptは手軽ながら、レキシカルスコープ、クロージャ、プロトタイプ、第一級関数など、少し理解が難しい要素が存在します。</p>

<p>この本は、そういった部分に焦点を絞り、丁寧に解説してくれています。あなたがJavaScriptの仕組みや、既存のコードの書かれ方に少なからず疑問を持っている点があれば、それを解決する本だといえるでしょう。</p>

<h2>
<span id="サーバサイドjavascript-nodejs入門" class="fragment"></span><a href="#%E3%82%B5%E3%83%BC%E3%83%90%E3%82%B5%E3%82%A4%E3%83%89javascript-nodejs%E5%85%A5%E9%96%80"><i class="fa fa-link"></i></a>サーバサイドJavaScript Node.js入門</h2>

<p><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4048703676/axross-22/" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/bdfc6f86c022b74d182e4aae65b956811707d7fb/687474703a2f2f6563782e696d616765732d616d617a6f6e2e636f6d2f696d616765732f492f35317252624f715770714c2e5f41413136305f2e6a7067" alt="サーバサイドJavaScript Node.js入門" data-canonical-src="http://ecx.images-amazon.com/images/I/51rRbOqWpqL._AA160_.jpg"></a></p>

<p>Node.jsは、いまではフロントエンドエンジニアにとって避けることのできない、重要なものであるといえます。</p>

<p>gulpやGrunt、BrowserifyやWebpackだけではありません。いずれはサーバサイドJavaScriptのコードの一部を読み書きしなければならない時代が来るでしょう。また、想像もできないかもしれませんが、あなたが書いたクライアントサイド向けのJavaScriptを、Webサーバー上でも動かさなければならない時も来るでしょう。</p>

<p>今からでも遅くないので、少しでもNode.jsと仲良くしましょう。この本はそのための1冊です。</p>

<h2>
<span id="リーダブルコード" class="fragment"></span><a href="#%E3%83%AA%E3%83%BC%E3%83%80%E3%83%96%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>リーダブルコード</h2>

<p><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873115655/axross-22/" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/d56945a193971232e53350e97751edab183217c3/687474703a2f2f6563782e696d616765732d616d617a6f6e2e636f6d2f696d616765732f492f35314d6748384a6d72334c2e5f41413136305f2e6a7067" alt="リーダブルコード" data-canonical-src="http://ecx.images-amazon.com/images/I/51MgH8Jmr3L._AA160_.jpg"></a></p>

<p>謝らないといけませんが、これはJavaScriptの本ではありません。<br><br>
しかし、「JavaScriptを書く」ということ考えた時に、どうしても薦めたかったので、無理やり入れてしまいました。</p>

<p>JavaScriptは動的型付けの言語であり、プロトタイプベースであるために、明確な「クラス」も存在しません。すべての関数がコンストラクタになりえます。そして、プリミティブな値と、nullやundefinedなどの特殊な値、FunctionやArrayなどのネイティブクラスを除けば、すべてが拡張された連想配列であると表現できます。これは自由な代わりに、あいまいさが強いとも言えます。</p>

<p>そうした時に重要になるのが、「より読解コストの低いコードを書けること」だと思います。ドキュメントを書けばいくらか誤魔化せますが、バグは前もってドキュメントに書くことはできません。何よりコードが読みやすいことが一番です。また、読解コストを意識されたコードは、自然とバグの少ないコードにもなります。</p>

<p>この1冊は、あなたのそうした意識を目醒めさせます。同僚を殺さないために、読んでみてください。</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>axrossさんの<br />2位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>217</kbd>
		<a target="_blank" href="https://qiita.com/axross/items/9160ee10a9cd9fe2bb45">さくらVPSを契約してCentOS6.4をNode.js Webアプリケーションサーバーとして構築するチュートリアル</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-02-16 17:01:13</center>
	</td>
	<td style="width:200px;">
		@axross<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/20674/profile-images/1506601100">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[JavaScript]</b> <b>[Node.js]</b> <b>[CentOS]</b> <b>[MongoDB]</b> <b>[さくらVPS]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>このドキュメントは、Node.jsが楽しくてたまらない人のための、さくらVPSでアプリケーションサーバーを構築するためのチュートリアルです。<br>
<strong>さくらVPS-Nodeチュートリアル</strong>とでも呼ぶことにします。</p>

<p>このチュートリアルを完遂すると、Node.jsを用いたWebアプリケーションの公開サーバーを構築することができます。<br><br>
また、デプロイにはDropboxによる同期を利用します。これは開発作業やメンテナンスを容易にします。</p>

<p>このチュートリアルは初学者向けを意図しており、構築するアプリケーション・サーバーも開発したWebアプリの個人レベルでの公開や、動作チェックなどを用途として意識しています。  </p>

<p>そのため、あえてセキュリティ関連については触れていません。<br><br>
このチュートリアルで重要なのはまずアプリケーションサーバーを構築することです。<br><br>
確かなセキュリティを保ち続けるのは容易ではありませんし、一度確保したとしても日々新しい穴が見つかり続けます。<br><br>
もしWebサービスとして公開するための本番環境として運用するなら、そこはググって調べてみて下さい。</p>

<p>それでは始めましょう。</p>

<h3>
<span id="やるべきこと" class="fragment"></span><a href="#%E3%82%84%E3%82%8B%E3%81%B9%E3%81%8D%E3%81%93%E3%81%A8"><i class="fa fa-link"></i></a>やるべきこと</h3>

<p>先に、これからやるべきことを一度確認しておきます。</p>

<ol>
<li>
<strong>さくらVPSを契約する</strong><br>
</li>
<li>
<strong>いろいろな初期設定をする</strong><br>
</li>
<li>
<strong>Dropboxをインストールする</strong><br>
</li>
<li>
<strong>Node.jsをインストールする</strong><br>
</li>
<li>
<strong>nginxをインストールする</strong><br>
</li>
<li>
<strong>MongoDBをインストールする</strong><br>
</li>
</ol>

<p>手順はたったの6つです。<br><br>
このチュートリアルは、手順1と手順2を除けば、すべて任意・順不同で進められるようになっています。<br><br>
たとえばNode.jsをすでにインストールしている人は、手順4を省略することができます。<br><br>
ただ、手順1と手順2は必ず目を通し、やってないことがあればやって下さい。</p>

<h2>
<span id="1-さくらvpsを契約する" class="fragment"></span><a href="#1-%E3%81%95%E3%81%8F%E3%82%89vps%E3%82%92%E5%A5%91%E7%B4%84%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>1. さくらVPSを契約する</h2>

<p>さくらインターネットのVPSを契約します。<br><br>
以下のURLから契約して下さい。</p>

<blockquote>
<p>VPS（仮想専用サーバ）のさくらインターネット<br>
<a href="http://vps.sakura.ad.jp/" rel="nofollow noopener" target="_blank">http://vps.sakura.ad.jp/</a></p>
</blockquote>

<p>契約するのは、1番安い、月額980円のプランで充分です。<br><br>
リージョンは東京/大阪/石狩と選べますが、故郷が石狩の人だけ石狩を選択して下さい。故郷を大切にするのはいいことです。<br><br>
他の人はおとなしく東京にしましょう。</p>

<p>クレジットカードで契約すれば、最初の2週間はお試し期間とされ無料になります。<br><br>
その間にキャンセルすれば、お金は請求されません。このチュートリアルを進めて気に入れば、是非そのまま本登録しましょう。<br><br>
月額980円とはいえ、何の制限もなく自分用のWebアプリをデプロイできる環境があるのはものすごく便利なことです。</p>

<h3>
<span id="1-2-サーバーを起動する" class="fragment"></span><a href="#1-2-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>1-2. サーバーを起動する</h3>

<p>契約してしばらくすると、「仮登録完了のお知らせ」メールが届きます。<br><br>
このメールがきたら、もうサーバーで遊ぶことができます。</p>

<p>このメールには、サーバーのIPアドレスやrootユーザーのパスワードが書かれています。<br><br>
今後しばらく使うことになるので、別のタブで開いておきましょう。また、大切に保管しましょう。</p>

<p>それではさっそく、サーバーを起動させてみましょう。<br><br>
「VPSコントロールパネル」にログインし、「仮想サーバ操作」の「起動」を押します。<br><br>
初回起動は少し時間がかかります。「稼働中」という表示になってから、15分ほど待ってから次の手順に移りましょう。</p>

<h3>
<span id="1-3-とりあえずssh接続を試す" class="fragment"></span><a href="#1-3-%E3%81%A8%E3%82%8A%E3%81%82%E3%81%88%E3%81%9Assh%E6%8E%A5%E7%B6%9A%E3%82%92%E8%A9%A6%E3%81%99"><i class="fa fa-link"></i></a>1-3. とりあえずSSH接続を試す</h3>

<p>ターミナルで以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ ssh root@&lt;接続先IPアドレス&gt;
</pre></div></div>

<p>今後、ターミナルでの操作は先頭に「$ 」をつけて表記します。<br><br>
「$ 」を入力する必要はありません。<br>
また、コマンドを「実行する」とは、コマンドを入力してEnterキーを押すことです。言わなくてもわかるか、それくらい。</p>

<p><code>&lt;接続先IPアドレス&gt;</code>はお知らせメールに書かれているものに置き換えて下さい。<br><br>
一例として僕の環境では、<code>ssh root@153.123.45.67</code>のようになります。<br><br>
入力後、パスワードを求められます。これもお知らせメールに書かれているのでそれを見ながら入力して下さい管理ユーザの初期パスワードがそれです)。</p>

<p>(もし、<code>Are you sure you want to continue connecting (yes/no)?</code>と聞かれたら<code>yes</code>と入力してEnterを押して下さい)</p>

<p>接続に成功すると、</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>[root@www4408uo ~]#
</pre></div></div>

<p>入力待ち状態の表示がこんな感じに変わります(詳細の個人差はあります)。</p>

<p>この状態を、このチュートリアルでは今後「VPSにログインして〜」などと表現します。<br><br>
そうでない通常の状態は、「ローカルマシンで〜」などと表現します。ローカルマシンとは、今あなたが使っているそのPCそのもののことです。</p>

<h4>
<span id="windowsの人へ" class="fragment"></span><a href="#windows%E3%81%AE%E4%BA%BA%E3%81%B8"><i class="fa fa-link"></i></a>Windowsの人へ</h4>

<p>ターミナルとは、Mac版のコマンドプロンプトのことです。<br><br>
このチュートリアルでは、手順の多くをCUI(コマンド)操作で行います。</p>

<p>しかしながら、Windowsのコマンドプロンプトからでは上の<code>ssh</code>コマンドが使えません。<br><br>
Windowsでこのチュートリアルを進める場合は、<a><strong>Git</strong></a>をインストールして下さい。  </p>

<p>すると、「Git Bash」というアプリケーションが付随してインストールされます。<br><br>
Git Bashはコマンドプロンプトがより強化されたものです。それであれば、Macユーザーと同じコマンドで手順を進められます。</p>

<h2>
<span id="2-いろいろな初期設定をする" class="fragment"></span><a href="#2-%E3%81%84%E3%82%8D%E3%81%84%E3%82%8D%E3%81%AA%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2. いろいろな初期設定をする</h2>

<p>ここでやることは2つです。</p>

<p>まず、普段使いのためのユーザーを作成します。<br><br>
最初から用意されている「root」ユーザーは、システム全てを支配している管理ユーザーです。これを普段使いとして利用するのはおすすめしません。</p>

<p>もうひとつは、その後の作業に必要なツールが入っているか確認することです。<br><br>
このチュートリアルで一番の要といっても差し支えないかもしれません(とはいえ、ほとんどの場合やることはありませんが)。</p>

<h3>
<span id="2-2-ユーザーを作成する" class="fragment"></span><a href="#2-2-%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2-2. ユーザーを作成する</h3>

<p>VPSにログインした状態で、以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ useradd &lt;ユーザー名&gt; -G wheel
</pre></div></div>

<p><code>&lt;ユーザー名&gt;</code>の部分は自由に決めて下さい。半角英数小文字と「_」(アンダースコア)で構成した名前がいいでしょう。<br><br>
普段あなたが使っているハンドルネームにでもすればいいと思います。</p>

<p>次に、そのまま以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ passwd &lt;ユーザー名&gt;
</pre></div></div>

<p>これは、ユーザー名に対してパスワードを設定するコマンドです。<br><br>
<code>&lt;ユーザー名&gt;</code>は、先ほど決めたユーザー名を入力して下さい。<br><br>
確認のためパスワードを2回尋ねられますので、2回とも同じものを入力して下さい。</p>

<h3>
<span id="2-3-ユーザー設定ファイルを編集する" class="fragment"></span><a href="#2-3-%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%B7%A8%E9%9B%86%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2-3. ユーザー設定ファイルを編集する</h3>

<p>3つのファイルを編集します。</p>

<p>この手順では、ファイルの編集に「vi」というテキストエディタを使います。<br><br>
操作がちょっと特殊です。馴染みがない人は以下の5つだけ覚えて下さい。<br><br>
あとは普通のテキストエディタと同じように扱えるはずです。</p>

<ul>
<li>入力モードとコマンドモードがある<br>
</li>
<li>入力モードに入るにはiキー<br>
</li>
<li>コマンドモードに戻るにはEscキー<br>
</li>
<li>コマンドモードの状態で「:wq」と入力してEnterキーで「上書き保存して終了」<br>
</li>
<li>コマンドモードの状態で「:q」と入力してEnterキーで「保存せずに終了」</li>
</ul>

<p>それでは始めましょう。</p>

<h4>
<span id="etcpamdsu" class="fragment"></span><a href="#etcpamdsu"><i class="fa fa-link"></i></a>/etc/pam.d/su</h4>

<p>以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ vi /etc/pam.d/su
</pre></div></div>

<p>/etc/pam.d/su がviで開かれるので編集します。</p>

<p><strong>Before</strong></p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span># auth    required    pam_wheel.so use_uid
</pre></div></div>

<p>この行をコメントインします。</p>

<p><strong>After</strong></p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>auth    required    pam_wheel.so use_uid
</pre></div></div>

<p>こうなればOKです。</p>

<h4>
<span id="etclogindefs" class="fragment"></span><a href="#etclogindefs"><i class="fa fa-link"></i></a>/etc/login.defs</h4>

<p>以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ vi /etc/login.defs
</pre></div></div>

<p>etc/login.defs がviで開かれるので編集します。</p>

<p>末尾に以下の行を追加します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>SU_WHEEL_ONLY yes
</pre></div></div>

<h4>
<span id="visudo" class="fragment"></span><a href="#visudo"><i class="fa fa-link"></i></a>visudo</h4>

<p>以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ visudo
</pre></div></div>

<p>viの設定ファイルがviで開かれるので編集します。</p>

<p><strong>Before</strong></p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span># %wheel  ALL=(ALL)    ALL
</pre></div></div>

<p>この行をコメントインします。</p>

<p><strong>After</strong></p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>%wheel  ALL=(ALL)    ALL
</pre></div></div>

<p>こうなればOKです。</p>

<p>これで設定の編集は完了です。</p>

<h3>
<span id="2-4-ログイン接続しなおす" class="fragment"></span><a href="#2-4-%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3%E6%8E%A5%E7%B6%9A%E3%81%97%E3%81%AA%E3%81%8A%E3%81%99"><i class="fa fa-link"></i></a>2-4. ログイン(接続)しなおす</h3>

<p>お疲れ様でした。<br><br>
無事にユーザーを作成して、設定も済ませたのでそのユーザーでログインしなおしましょう。</p>

<p>以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ exit
</pre></div></div>

<p>さくらVPSから切断され、ローカルマシンでの操作に戻ってきます。<br><br>
そのまま、先ほどのユーザーでログインしなおします。</p>

<p>以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ ssh &lt;ユーザー名&gt;@&lt;接続先IPアドレス&gt;
</pre></div></div>

<p>パスワードを求められます。先ほど設定したパスワードを入力すると、ログインできると思います。<br><br>
VPSへのログインに成功すると、以下のような表示に変わります。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>[axross@www4408uo ~]$
</pre></div></div>

<p>rootからaxrossに変わってますね。</p>

<h3>
<span id="2-5-各種ツールがインストールされているか確認する" class="fragment"></span><a href="#2-5-%E5%90%84%E7%A8%AE%E3%83%84%E3%83%BC%E3%83%AB%E3%81%8C%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2-5. 各種ツールがインストールされているか確認する</h3>

<p>この先必要になってくるのは、sudoとyumとgitという3つのツールです。<br><br>
さくらVPSを契約した段階で、最初からインストールされているはずですが、念のため確認しておきましょう。</p>

<p>もしこれらがインストールされていない場合は、ググってインストールするか、さくらVPSのコントロールパネルからOSの再インストールを検討して下さい(適当)。</p>

<p>まずはsudoを確認します。以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo -V
</pre></div></div>

<p>なにやら3行くらい出ますが、バージョン番号が表示されてればOKです。</p>

<p>次に、yumの確認のため以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ yum --version
</pre></div></div>

<p>1行目にバージョン番号が出てればOKです。</p>

<p>最後にgitです。以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ git --version
</pre></div></div>

<p>「git version ○○」みたいな表示になるはずです。</p>

<h2>
<span id="3-dropboxをインストールする" class="fragment"></span><a href="#3-dropbox%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>3. Dropboxをインストールする</h2>

<p>Dropboxをインストールしておくことで、ローカルマシン(開発環境)で書いたコードをさくらVPS(公開環境)にデプロイする際の手間がなくなります。<br><br>
ローカルマシンでコードを編集した時点で、さくらVPS側でも瞬時に変更が反映されるからです。<br><br>
また、逆方向にも同期されますので、データベースの閲覧・編集といった保守作業も楽にできるようになります。</p>

<p>まず、VPSにログインした状態で以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ cd ~ &amp;&amp; wget -O - "https://www.dropbox.com/download?plat=lnx.x86_64" | tar xzf - &amp;&amp; ~/.dropbox-dist/dropboxd
</pre></div></div>

<p>何やら処理がはじまって勝手にダウンロード・インストールされます。</p>

<p>インストールが終わると、以下のようなメッセージが表示されます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>このコンピュータは Dropbox アカウントにリンクされていません...
このデバイスをリンクするには、https://www.dropbox.com/cli_link?host_id=&lt;ランダムな文字列&gt; にアクセスしてください。
</pre></div></div>

<p>これに書かれているURLをコピーして、ローカルマシンのブラウザでアクセスしましょう。<br><br>
着く先はDropboxのストレージのWebです。パスワードを求められるので、Dropboxアカウントのパスワードを入力します。</p>

<p>これにより、VPSがDropboxアカウントで認証されます。<br><br>
「このコンピュータは Dropbox にリンクされました。ようこそ、&lt;名前&gt; さん。」のようなメッセージが表示されればOKです。</p>

<p>Ctrl+Cを押して、インストーラを終了させます。</p>

<h3>
<span id="3-2-管理スクリプトをインストールする" class="fragment"></span><a href="#3-2-%E7%AE%A1%E7%90%86%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>3-2. 管理スクリプトをインストールする</h3>

<p>以下のコマンドを実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ mkdir -p ~/bin &amp;&amp; cd ~/bin &amp;&amp; wget "https://www.dropbox.com/download?dl=packages/dropbox.py" -O dropbox.py &amp;&amp; chmod +x ~/bin/dropbox.py
</pre></div></div>

<p>~/bin/にdropbox.pyというDropboxを管理するためのPythonスクリプトが置かれます。</p>

<h3>
<span id="3-3-管理スクリプトを使う" class="fragment"></span><a href="#3-3-%E7%AE%A1%E7%90%86%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92%E4%BD%BF%E3%81%86"><i class="fa fa-link"></i></a>3-3. 管理スクリプトを使う</h3>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ dropbox.py &lt;コマンド&gt;
</pre></div></div>

<p>Dropboxの管理スクリプトは、インストールの段階で実行権限を与えているのでそのままファイル名で呼んで実行することができます。<br><br>
いくつかの操作を以下に記します。</p>

<ul>
<li>start - Dropboxを起動する</li>
<li>stop - Dropboxを終了させる</li>
<li>running - 起動しているか確認する</li>
<li>status - 同期状況を確認する</li>
<li>autostart - 自動的にDropboxが起動するように設定する</li>
</ul>

<p>他にも、同期したくないファイルを設定できるexcludeコマンドなどもあります。詳しくは<a href="http://www.dropboxwiki.com/tips-and-tricks/using-the-official-dropbox-command-line-interface-cli" rel="nofollow noopener" target="_blank">こちら</a>。</p>

<p>とりあえずは、Dropboxを起動しておくために以下を実行しましょう。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ dropbox.py start
</pre></div></div>

<h3>
<span id="3-4-lansyncをオフにする" class="fragment"></span><a href="#3-4-lansync%E3%82%92%E3%82%AA%E3%83%95%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>3-4. lansyncをオフにする</h3>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ dropbox.py lansync n
</pre></div></div>

<p>同LAN内のマシンにpingを飛ばして同期を促す機能をオフにしておきます。<br><br>
VPSではこの機能は不要などころか、他のVPS利用者にとって邪魔になるかもしれません。</p>

<p>設定の後はDropboxを再起動したいので、以下を実行しておきましょう。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ dropbox.py stop
</pre></div></div>

<p>Dropboxが終了したら、以下を実行してもう一度起動します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ dropbox.py start
</pre></div></div>

<p>また、下記を実行すると、VPSへログインした際にも自動的にDropboxが起動するようになります。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ dropbox.py autostart y
</pre></div></div>

<h3>
<span id="3-5-dropboxを使う" class="fragment"></span><a href="#3-5-dropbox%E3%82%92%E4%BD%BF%E3%81%86"><i class="fa fa-link"></i></a>3-5. Dropboxを使う</h3>

<p>Dropboxは、ユーザーのホームディレクトリ直下にインストールされています(<code>~/Dropbox/</code>)。<br><br>
今後、Node.jsのプロジェクト(jsファイルなど)をDropboxに入れることで、さくらVPS環境からもそれらを実行・閲覧・変更できます。</p>

<h2>
<span id="4-nodejsをインストールする" class="fragment"></span><a href="#4-nodejs%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>4. Node.jsをインストールする</h2>

<p>このチュートリアルでは、Node.jsのインストールにバージョン管理ツールの「nodebrew」を利用します。<br><br>
nodebrewを用いると、複数のバージョンのNode.jsをインストールしておいて切り替えたり、手軽に新しいバージョンのNode.jsをインストールしたりできます。<br><br>
Node.jsは今も成長しており、盛んにアップデートされるためこれができるのは重要なことです。</p>

<h3>
<span id="4-2-nodebrewをインストールする" class="fragment"></span><a href="#4-2-nodebrew%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>4-2. nodebrewをインストールする</h3>

<p>まず、VPSにログインした状態で以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ cd ~/ &amp;&amp; curl https://raw.github.com/hokaccha/nodebrew/master/nodebrew | perl - setup
</pre></div></div>

<p>自動的に必要なパッケージがダウンロード、インストールされます。</p>

<p>次に、PATHを通すために以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ echo 'export PATH=$HOME/.nodebrew/current/bin:$PATH' &gt;&gt; ~/.bash_profile &amp;&amp; source ~/.bash_profile
</pre></div></div>

<p>きちんとnodebrewがインストールされているか、以下を実行することで確認できます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ nodebrew -v
</pre></div></div>

<p>1行目にバージョン番号が書かれていればOKです。</p>

<h3>
<span id="4-3-nodebrewを使ってnodejsをインストールする" class="fragment"></span><a href="#4-3-nodebrew%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6nodejs%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>4-3. nodebrewを使ってNode.jsをインストールする</h3>

<p>Node.jsをインストールするには、以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ nodebrew install-binary stable
</pre></div></div>

<p>「stable」としているところは、インストールしたいNode.jsのバージョンです。stableであれば安定版の最新のものがインストールされます。<br><br>
過去のバージョンや開発版のものをインストールしたい場合は、数字で直接指定することもできます。</p>

<p>その後、以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ nodebrew use stable
</pre></div></div>

<p>これにより、実際に「stable」バージョンのNode.jsを「使う」という指定ができます。<br><br>
Node.jsのバージョンを切り替える際はこのコマンドを用います。もちろん、数字で指定することもできます。</p>

<p>最後に、Node.jsが無事にインストールされているか確認するために以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ node -v
</pre></div></div>

<p>バージョン番号が表示されればOKです。<br><br>
(うっかり<code>-v</code>をつけずにnodeコマンドを実行してしまった場合は、<code>.exit</code>と入力してEnterを押せば終了できます)</p>

<h2>
<span id="5-nginxをインストールする" class="fragment"></span><a href="#5-nginx%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>5. nginxをインストールする</h2>

<p>「nginx」はHTTP機能を持ったプロキシサーバーです。このチュートリアルではこれをリバースプロキシサーバーとして利用します。</p>

<p>ここではnginxの持つバーチャルホスト機能を利用します。<br><br>
詳細は後で説明するとして、まずはインストールしましょう。</p>

<p>nginxのインストールには、以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo yum install -y nginx
</pre></div></div>

<p>「sudo」はこのコマンドの時だけ管理ユーザーで実行する、といった働きをするコマンドです。それに「yum」を組み合わせ、nginxを管理者権限でインストールしています。<br><br>
この操作の後、パスワードを求められます。手順2-2で設定したユーザーパスワードを入力して下さい。</p>

<p>その後、以下の2つを実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo service nginx start
</pre></div></div>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo chkconfig nginx on
</pre></div></div>

<p>1つ目のコマンドはnginxの起動です。<br><br>
2つ目は、nginxをVPS起動時に同時起動(Windowsでいうスタートアップ)するようにするコマンドです。</p>

<h3>
<span id="5-2-nginxのバーチャルホストの設定をする" class="fragment"></span><a href="#5-2-nginx%E3%81%AE%E3%83%90%E3%83%BC%E3%83%81%E3%83%A3%E3%83%AB%E3%83%9B%E3%82%B9%E3%83%88%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>5-2. nginxのバーチャルホストの設定をする</h3>

<p>まずは今後ググる時のために、すべきことを整理しておきます。</p>

<p>Webアプリの割り振りには、「バーチャルホスト」と呼ばれる技術を利用します。<br>
バーチャルホストとは、1つのマシン(サーバー)に対して、あたかも複数のIPアドレスまたはドメインが割り振られているように振る舞わせる技術のことです。<br><br>
そして、その割り振り先にポートを指定できるので、複数のWebアプリを運用する場合はそれらをすべて違うポート番号でアクセスできるようにしておきます。そうすれば、「○○○.axross.org」はこのWebアプリへ、「△△△.axross.org」はこのWebアプリへ、と割り振ることができます。</p>

<p>1つのサーバーで複数のWebアプリを運用するので、負荷の大きいWebアプリを運用する際は気をつけて下さい。負荷が他のWebアプリにも影響します。</p>

<p>では、実際に設定する際の方法です。</p>

<p>以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo vi /etc/nginx/conf.d/virtual.conf
</pre></div></div>

<p>sudoしているのでパスワードを求めれます。rootのパスワードを入力して下さい。<br><br>
すると、virtual.conf という設定ファイルがviで開かれます。</p>

<p>まずは、以下の書き方を覚えて下さい。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>server {
  listen 80;
  server_name &lt;ドメイン&gt;;
  location / {
    proxy_pass http://127.0.0.1:&lt;ポート番号&gt;;
  }
}
</pre></div></div>

<p>&lt;ドメイン&gt;と&lt;ポート番号&gt;は適宜置き換えて下さい。<br><br>
たとえば僕が開発した「僕のはてブ」であれば、ドメインは「hatebu.axross.org」で、内部的には「4567」ポートで動かしています。<br><br>
ですので、その場合は下記のようになります。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>server {
  listen 80;
  server_name hatebu.axross.org;
  location / {
    proxy_pass http://127.0.0.1:4567;
  }
}
</pre></div></div>

<p>必要のない設定などは「#」を行頭につけることでコメントアウトできます。</p>

<p>また、設定を編集した場合はnginxを再起動させる必要があります。それには以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>sudo service nginx restart
</pre></div></div>

<p>sudoしているのでrootのパスワードを求められます。そろそろsudoにも慣れてきたでしょうか。</p>

<h2>
<span id="6-mongodbをインストールする" class="fragment"></span><a href="#6-mongodb%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>6. MongoDBをインストールする</h2>

<p>MongoDBはNode.jsのWebアプリでよく用いられるNoSQLデータベースです。<br><br>
データの取り扱いがJSONによく似ていて、Javascriptで扱いやすいのが特徴です。</p>

<p>さっそくインストールしましょう。<br><br>
VPSにログインした状態で以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo vi /etc/yum.repos.d/mongodb.repo
</pre></div></div>

<p>mongodb.repo がviで開かれますので、以下のように書いて保存します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>[mongodb]
name=MongoDB Repository
baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/x86_64/
gpgcheck=0
enabled=1
</pre></div></div>

<p>次に、以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo yum install -y mongo-10gen mongo-10gen-server
</pre></div></div>

<p>yumを用いてMongoDBクライアントとサーバーがインストールされます。</p>

<h3>
<span id="6-2-mongodbサーバーを起動する" class="fragment"></span><a href="#6-2-mongodb%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>6-2. MongoDBサーバーを起動する</h3>

<p>以下を実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo service mongod start
</pre></div></div>

<p>mongodサービスはMongoDBのサーバーデーモンです。<code>start</code>の他に、<code>stop</code>したり<code>restart</code>することもできます。</p>

<p>VPSを再起動した再などに同時にMongoDBサーバーも起動するには、以下を実行してchkconfigに登録します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ sudo chkconfig mongod on
</pre></div></div>

<p>これでOKです。</p>

<h2>
<span id="最後に" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB"><i class="fa fa-link"></i></a>最後に</h2>

<p>お疲れ様でした。<br><br>
このチュートリアルを終えたあなたの手元には、Node.jsアプリケーションサーバーとして構築されたさくらVPSがあるはずです。</p>

<p>開発したWebアプリを実験する環境として使ってもいいですし、バーチャルホストであることを利用してポートフォリオWebサイトにしても立ち上げてもいいかもしれません。</p>

<p>なんにせよ、まずは開発を楽しみましょう！</p>

<p>このドキュメントを書き上げるのに参考にさせていただいた各種公式ドキュメントと、Qiita、Googleに深く感謝します。</p>
</div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
