<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (yassh)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (yassh さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><a href="#" onclick="javascript:window.history.back(-1);return false;">[戻る]</a></p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>yasshさんの<br />1位</center></td>
	<td colspan="4">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>88</kbd>
		<a target="_blank" href="https://qiita.com/yassh/items/21b5f53a7ae2f5d4d63e">「それ、もっとスマートに書けるよ」がもっとスマートに書けるよ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2017-10-08 05:18:53</center>
	</td>
	<td style="width:200px;">
		@yassh<br><img width="80" height="80" src="https://secure.gravatar.com/avatar/bb1e8bdc58df5cd369aec898770c3216">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[JavaScript]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>「<a href="https://speakerdeck.com/wakamsha/sore-motutosumatonishu-keruyo-javascript-kodowomotutoduan-ku-motutosinpurunishu-ku-tips-4xuan" rel="nofollow noopener" target="_blank">それ、もっとスマートに書けるよ</a>」がもっとスマートに書けるよ。</p>

<h2>
<span id="ある特定の文字列が別の文字列内にあるかどうか" class="fragment"></span><a href="#%E3%81%82%E3%82%8B%E7%89%B9%E5%AE%9A%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%81%8C%E5%88%A5%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E5%86%85%E3%81%AB%E3%81%82%E3%82%8B%E3%81%8B%E3%81%A9%E3%81%86%E3%81%8B"><i class="fa fa-link"></i></a>ある特定の文字列が別の文字列内にあるかどうか</h2>

<blockquote>
<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">ua</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="o">~</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'iPhone'</span><span class="p">)</span> <span class="o">||</span> <span class="o">~</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'iPod'</span><span class="p">)</span> <span class="o">||</span> <span class="o">~</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'iPad'</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'ios'</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'other'</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div>
</blockquote>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes" rel="nofollow noopener" target="_blank">String.prototype.includes()</a>を使いましょう。</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">ua</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">ua</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">'iPhone'</span><span class="p">)</span> <span class="o">||</span> <span class="nx">ua</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">'iPod'</span><span class="p">)</span> <span class="o">||</span> <span class="nx">ua</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">'iPad'</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'ios'</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'other'</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div>

<p>※「それ、もっとスマートに書けるよ」を書いた人は<code>navigator.userAgent</code>を配列だと勘違いしていますが、<code>navigator.userAgent</code>は文字列です。（だから<code>ua.indexOf()</code>は<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf" rel="nofollow noopener" target="_blank">Array.prototype.indexOf()</a>ではなくて<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf" rel="nofollow noopener" target="_blank">String.prototype.indexOf()</a>です。）「ある特定の要素が配列内にあるかどうか」を調べる場合は、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes" rel="nofollow noopener" target="_blank">Array.prototype.includes()</a>を使いましょう。</p>

<h2>
<span id="それ即時関数使わなくても出来るよ" class="fragment"></span><a href="#%E3%81%9D%E3%82%8C%E5%8D%B3%E6%99%82%E9%96%A2%E6%95%B0%E4%BD%BF%E3%82%8F%E3%81%AA%E3%81%8F%E3%81%A6%E3%82%82%E5%87%BA%E6%9D%A5%E3%82%8B%E3%82%88"><i class="fa fa-link"></i></a>それ即時関数使わなくても出来るよ</h2>

<blockquote>
<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span> <span class="p">}</span> <span class="o">=</span> <span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">foo</span><span class="o">:</span> <span class="s1">'forenoon'</span><span class="p">,</span>
      <span class="nx">bar</span><span class="o">:</span> <span class="s1">'am'</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">foo</span><span class="o">:</span> <span class="s1">'afternoon'</span><span class="p">,</span>
      <span class="nx">bar</span><span class="o">:</span> <span class="s1">'pm'</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})();</span>
</pre></div></div>
</blockquote>

<p>三項演算子を使いましょう。</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span> <span class="p">}</span> <span class="o">=</span>
  <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">12</span> <span class="o">?</span>
  <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">'forenoon'</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s1">'am'</span> <span class="p">}</span> <span class="o">:</span>
  <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">'afternoon'</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s1">'pm'</span> <span class="p">}</span>
</pre></div></div>

<h2>
<span id="urlクエリーパラメータのパース" class="fragment"></span><a href="#url%E3%82%AF%E3%82%A8%E3%83%AA%E3%83%BC%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AE%E3%83%91%E3%83%BC%E3%82%B9"><i class="fa fa-link"></i></a>URLクエリーパラメータのパース</h2>

<blockquote>
<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">param</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">pair</span> <span class="o">=</span> <span class="nx">param</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'='</span><span class="p">);</span>
  <span class="nx">acc</span><span class="p">[</span><span class="nx">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
  <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
<span class="p">},</span> <span class="p">{});</span>
</pre></div></div>
</blockquote>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" rel="nofollow noopener" target="_blank">URLSearchParams</a>を使いましょう。</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="nx">params</span><span class="p">);</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
