<html>
	<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110075493-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110075493-1');
</script>
<!-- Google AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6168511236629369",
    enable_page_level_ads: true
  });
</script>

		<meta charset="UTF-8" />
		<title>Qiita Ranking (yaotti)</title>
		<link rel="stylesheet" type="text/css" href="../qranking.css">
	</head>
	<body>
<div class="headerContainer">
<h1>Qiitaいいね数ランキング (yaotti さんの投稿分)</h1>
</div><!--class="headerContainer"-->
<p><a href="#" onclick="javascript:window.history.back(-1);return false;">[戻る]</a></p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>が同じ値の場合は投稿日時の新しいものが上位としています。</p>
<p><i><img width="16" height="16" src="../thumb-up-120px.png" /></i>がついていない記事は表示していません。</p>
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />1位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>1267</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/0d5364eae36ad1bb8e01">gitでありがちな問題の解決方法まとめ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-07-01 17:50:41</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="http://qiita.com/advent-calendar/git">Git Advent Calendar / Jun.</a> 最終日(30日目)の記事です．29日目は「<a href="http://qiita.com/items/e37c707938847aee671b">いざという時のためのgit reflog</a>」でした．<br>
Git Advent Calendar最後なので，git操作でやりがちなミスからどう回復するかをまとめます．他にもあればコメントもらえるとマージしていきます．</p>

<h2>
<span id="ブランチを切り忘れてmasterでコミットしてしまった" class="fragment"></span><a href="#%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92%E5%88%87%E3%82%8A%E5%BF%98%E3%82%8C%E3%81%A6master%E3%81%A7%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%A3%E3%81%9F"><i class="fa fa-link"></i></a>ブランチを切り忘れてmasterでコミットしてしまった</h2>

<p>その時点でブランチを切る&amp;reset --hardで間違ったコミットたちをmasterから消す</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ git checkout -b new-branch
<span class="c1"># masterの最新コミットを消す</span>
$ git checkout master <span class="o">&amp;&amp;</span> git reset --hard HEAD~
</pre></div></div>

<h2>
<span id="ブランチを移動し忘れてコミットしてしまった" class="fragment"></span><a href="#%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92%E7%A7%BB%E5%8B%95%E3%81%97%E5%BF%98%E3%82%8C%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%A3%E3%81%9F"><i class="fa fa-link"></i></a>ブランチを移動し忘れてコミットしてしまった</h2>

<p>cherry-pickでコミットを引っ張ってくる．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="c1"># 現在間違ったブランチ(bad-branch)にいる</span>
$ git checkout good-branch
$ git cherry-pick bad-branch <span class="c1"># 間違ったブランチに行なったコミットを持ってくる</span>
<span class="c1"># 間違ったブランチに行なったコミットを消す</span>
$ git checkout bad-branch <span class="o">&amp;&amp;</span> git reset --hard HEAD~ 
</pre></div></div>

<h2>
<span id="間違ったコミットをpushしてしまった" class="fragment"></span><a href="#%E9%96%93%E9%81%95%E3%81%A3%E3%81%9F%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%82%92push%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%A3%E3%81%9F"><i class="fa fa-link"></i></a>間違ったコミットをpushしてしまった</h2>

<p>個人プロジェクトならコミットを消して<a href="http://qiita.com/items/e37c707938847aee671b">反則技のgit push -f</a>する．そうでないなら，可能な限り速やかにgit revertを使って「間違ったコミットを打ち消すコミット」を行ない，pushする</p>

<h2>
<span id="マージ済みのブランチが大量にある" class="fragment"></span><a href="#%E3%83%9E%E3%83%BC%E3%82%B8%E6%B8%88%E3%81%BF%E3%81%AE%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%81%8C%E5%A4%A7%E9%87%8F%E3%81%AB%E3%81%82%E3%82%8B"><i class="fa fa-link"></i></a>マージ済みのブランチが大量にある</h2>

<p><code>git branch --merged</code>で一覧が見られるので，masterとカレントブランチ以外を以下のようにして消す．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ git branch -d <span class="k">$(</span>git branch --merged <span class="p">|</span> grep -v master <span class="p">|</span> grep -v <span class="s1">'*'</span><span class="k">)</span> <span class="c1"># masterと現在いるブランチは消さない</span>
</pre></div></div>

<h2>
<span id="間違ってreset---hardで戻しすぎた" class="fragment"></span><a href="#%E9%96%93%E9%81%95%E3%81%A3%E3%81%A6reset---hard%E3%81%A7%E6%88%BB%E3%81%97%E3%81%99%E3%81%8E%E3%81%9F"><i class="fa fa-link"></i></a>間違ってreset --hardで戻しすぎた</h2>

<p>git reflogを使う．詳しくは昨日のエントリ(<a href="http://qiita.com/items/e37c707938847aee671b">いざという時のためのgit reflog</a>)を参照．</p>

<h2>
<span id="重要なstashを消しちゃった" class="fragment"></span><a href="#%E9%87%8D%E8%A6%81%E3%81%AAstash%E3%82%92%E6%B6%88%E3%81%97%E3%81%A1%E3%82%83%E3%81%A3%E3%81%9F"><i class="fa fa-link"></i></a>重要なstashを消しちゃった</h2>

<p><code>git stash drop</code>したり，<code>git stash pop</code> -&gt; <code>git reset --hard</code>したとき．<br>
<code>git fsck</code>するとdangling commitが見られるので，<code>git cherry-pick &lt;SHA1&gt;</code>か<code>git stash apply &lt;SHA1&gt;</code>してあげるとよい．<br>
git gcが走ってたら消えてるかも．</p>

<h2>
<span id="コミットメッセージでtypoした" class="fragment"></span><a href="#%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%81%A7typo%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>コミットメッセージでtypoした</h2>

<p>直前のコミットの場合は<code>git commit --amend</code>を使う．amendと打つのが面倒なので，<code>git commit --amend</code>は<code>git fix</code>にエイリアスしてる</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ git commit <span class="c1"># コミットメッセージでtypoした</span>
$ git commit --amend <span class="c1"># 入力しなおす</span>
</pre></div></div>

<h2>
<span id="ブランチを移動しようとしたら怒られた" class="fragment"></span><a href="#%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92%E7%A7%BB%E5%8B%95%E3%81%97%E3%82%88%E3%81%86%E3%81%A8%E3%81%97%E3%81%9F%E3%82%89%E6%80%92%E3%82%89%E3%82%8C%E3%81%9F"><i class="fa fa-link"></i></a>ブランチを移動しようとしたら怒られた</h2>

<p>以下のようなメッセージが出たとき</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ git checkout fix/piyo
error: Your <span class="nb">local</span> changes to the following files would be overwritten by checkout:
        config/deploy.rb
Please, commit your changes or stash them before you can switch branches.
Aborting
</pre></div></div>

<p>消してもいい変更なら<code>git reset --hard HEAD</code>とか<code>git co .</code>する．後者をよく使う．<br>
消さずに保存したい場合はきちんとコミットするか，stash saveする．<br>
git stashについては<a href="http://qiita.com/items/41288806e4733cb9c342">fukajuneさんの「変更を一時的に退避！キメろgit stash」</a>が詳しいです．</p>

<h2>
<span id="昔のコミット内容にちょっとしたバグを見つけた" class="fragment"></span><a href="#%E6%98%94%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E5%86%85%E5%AE%B9%E3%81%AB%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%81%97%E3%81%9F%E3%83%90%E3%82%B0%E3%82%92%E8%A6%8B%E3%81%A4%E3%81%91%E3%81%9F"><i class="fa fa-link"></i></a>昔のコミット内容にちょっとしたバグを見つけた</h2>

<p><strong>そのコミットをまだpushしていない場合限定</strong><br>
新しく行なった変更を以前のコミットに含めたい．</p>

<h3>
<span id="直前のコミットに含めたい" class="fragment"></span><a href="#%E7%9B%B4%E5%89%8D%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E5%90%AB%E3%82%81%E3%81%9F%E3%81%84"><i class="fa fa-link"></i></a>直前のコミットに含めたい</h3>

<p>上記の<code>commit --amend</code>を使うとよい．</p>

<h3>
<span id="それ以上古いコミットに含めたい" class="fragment"></span><a href="#%E3%81%9D%E3%82%8C%E4%BB%A5%E4%B8%8A%E5%8F%A4%E3%81%84%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E5%90%AB%E3%82%81%E3%81%9F%E3%81%84"><i class="fa fa-link"></i></a>それ以上古いコミットに含めたい</h3>

<p>変更をcommitしたあと，<code>git rebase</code>を使う．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ git commit -m <span class="s1">'適当なメッセージ'</span>
$ git rebase -i HEAD~3 <span class="c1"># 修正したいコミットを指定</span>
<span class="c1"># エディタが立ち上がるので，'適当なメッセージ'のコミットを修正したいコミットの下に移し，先頭をsquashに変更する</span>
</pre></div></div>

<h2>
<span id="その他困った" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96%E5%9B%B0%E3%81%A3%E3%81%9F"><i class="fa fa-link"></i></a>その他困った</h2>

<p><a href="http://qiita.com/tags/Git">QiitaのGitタグ投稿</a>を見るか，<a href="https://github.com/rosylilly/git-tasukete" rel="nofollow noopener" target="_blank">git-tasukete</a>に助けを求めてみる</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />2位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>537</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/4f69a145a22f9c8f8333">Rubocopを使ってコーディングルールへの準拠チェックを自動化</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-08-07 21:22:07</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<p>チーム内でコーディング規約を作っても，ついクセで違う書き方をしたり気にしない人がいたりして形骸化しがちだと思います．またレビュー時に細かい違いを指摘するのも面倒です．そんなときは<a href="https://github.com/bbatsov/rubocop" rel="nofollow noopener" target="_blank">rubocop</a>を入れましょう</p>

<h2>
<span id="インストール" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>インストール</h2>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="n">gem</span> <span class="n">i</span> <span class="n">rubocop</span>
</pre></div></div>

<p>これでrubocopコマンドがインストールされ，<code>rubocop foo.rb</code>とするとチェックできます．<br>
コマンドラインからいちいち実行したくないので，<a href="https://github.com/bbatsov/rubocop#editor-integration" rel="nofollow noopener" target="_blank">各エディタのプラグイン</a>をインストール．すると，以下のようにコーディングルールに合わない箇所を指摘してくれます．</p>

<p><a href="https://camo.qiitausercontent.com/c1a415a402406374d131214014e2d98cf4aea060/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f312f62343931313630622d623262642d383061342d386533642d3937303435643861623263322e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/c1a415a402406374d131214014e2d98cf4aea060/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f312f62343931313630622d623262642d383061342d386533642d3937303435643861623263322e706e67" alt="kobito.1375877325.003516.png" title="kobito.1375877325.003516.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/1/b491160b-b2bd-80a4-8e3d-97045d8ab2c2.png"></a></p>

<p>ここでは「bodyが1行のときは後置ifか，&amp;&amp;や||を使え」と言われています．</p>

<h2>
<span id="設定" class="fragment"></span><a href="#%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>設定</h2>

<p>rubocopが準拠するコーディング規約は<a href="https://github.com/bbatsov/ruby-style-guide" rel="nofollow noopener" target="_blank">同じ開発者が提案しているもの</a>ですが，<code>.rubocop.yml</code>ファイルを編集することで自分達に合った形に変更することができます．<br>
うちではチームで話し合い，10箇所ぐらい変更しました．</p>

<h2>
<span id="うちの設定" class="fragment"></span><a href="#%E3%81%86%E3%81%A1%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>うちの設定</h2>

<p>こんな感じです．(rubocop v0.9.1)<br>
最近のバージョンだとデフォルト設定は別ファイルに切り出されたのでカスタマイズしやすい．</p>

<div class="code-frame" data-lang="yaml">
<div class="code-lang"><span class="bold">.rubocop.yml</span></div>
<div class="highlight"><pre><span></span><span class="c1"># This file overrides https://github.com/bbatsov/rubocop/blob/master/config/default.yml</span>

<span class="c1"># Use UTF-8 as the source file encoding.</span>
<span class="l l-Scalar l-Scalar-Plain">Encoding</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Limit lines to 80 characters.</span>
<span class="l l-Scalar l-Scalar-Plain">LineLength</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Avoid methods longer than 10 lines of code</span>
<span class="l l-Scalar l-Scalar-Plain">MethodLength</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Favor modifier if/unless usage when you have a single-line body.</span>
<span class="l l-Scalar l-Scalar-Plain">IfUnlessModifier</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Favor modifier while/until usage when you have a single-line body.</span>
<span class="l l-Scalar l-Scalar-Plain">WhileUntilModifier</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Preferred collection methods.</span>
<span class="l l-Scalar l-Scalar-Plain">CollectionMethods</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Avoid Perl-style regex back references.</span>
<span class="l l-Scalar l-Scalar-Plain">AvoidPerlBackrefs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Don't interpolate global, instance and class variables directly in strings.</span>
<span class="l l-Scalar l-Scalar-Plain">VariableInterpolation</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Don't use semicolons to terminate expressions.</span>
<span class="l l-Scalar l-Scalar-Plain">Semicolon</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">AllowBeforeEndInOneLineMethods</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Use only ascii symbols in comments.</span>
<span class="l l-Scalar l-Scalar-Plain">AsciiComments</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># TODO: Change it to true when $redis and $mixpanel is removed</span>
<span class="c1">#</span>
<span class="c1"># Do not introduce global variables.</span>
<span class="l l-Scalar l-Scalar-Plain">AvoidGlobalVars</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>

<h2>
<span id="関連" class="fragment"></span><a href="#%E9%96%A2%E9%80%A3"><i class="fa fa-link"></i></a>関連</h2>

<p>obective-cなら<a href="http://qiita.com/ayakix/items/3f05da9541b8e130e39f" id="reference-732379f309e4735fc57e">Objective-C - 意識の高さからかコードフォーマッター設定を公開 - Qiita</a></p>

<p>vimから自動実行するなら <a href="http://qiita.com/yuku_t/items/0ac33cea18e10f14e185" id="reference-33bef7a9dc026bcef842">Ruby - Rubocopをsyntastic.vimから実行する - Qiita</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />3位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>361</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/a4a7f3f9a38d7d3415e3">GitHubユーザーのためのhubコマンド</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-06-01 15:30:16</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>hubコマンド(<a href="https://github.com/defunkt/hub" rel="nofollow noopener" target="_blank">defunkt/hub</a>)を入れるとGitHubの操作あれこれをコマンドラインでできるようになる．</p>

<h2>
<span id="インストール設定" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>インストール&amp;設定</h2>

<p>インストールは <a href="https://github.com/defunkt/hub#installation" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/defunkt/hub#installation</a> の通り．<br>
<code>hub XXX</code>を<code>git XXX</code>で使えるようにするために以下を.bashrcや.zshrcに書く</p>

<div class="code-frame" data-lang="bash">
<div class="code-lang"><span class="bold">~/.XXXrc</span></div>
<div class="highlight"><pre><span></span><span class="k">function</span> git<span class="o">(){</span>hub <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="o">}</span> <span class="c1"># zsh</span>
<span class="nb">eval</span> <span class="s2">"</span><span class="k">$(</span>hub <span class="nb">alias</span> -s<span class="k">)</span><span class="s2">"</span> <span class="c1"># bash</span>
</pre></div>
</div>

<p>ちなみにプロンプトにブランチ名を表示している場合は，プロンプト表示速度の低下を避けるために以下の設定を忘れずに．<br>
<a href="http://qiita.com/yaotti/items/0af5d50f4f52d22a46fe" id="reference-64409ff9416d7bb3e259">hubコマンドを利用&amp;&amp;プロンプトにgitのブランチ等を表示している人向けのzsh高速化 - Qiita</a></p>

<h2>
<span id="よく使うコマンド" class="fragment"></span><a href="#%E3%82%88%E3%81%8F%E4%BD%BF%E3%81%86%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89"><i class="fa fa-link"></i></a>よく使うコマンド</h2>

<h3>
<span id="hub-browse-userrepo" class="fragment"></span><a href="#hub-browse-userrepo"><i class="fa fa-link"></i></a>hub browse [user/repo]</h3>

<p><code>hub browse</code>でいまいるレポジトリのgithubページを開く．<code>hub browse defunkt/hub</code>みたいにレポジトリ指定もできる．<br>
<code>browse</code>は打ちにくすぎるので，seeにエイリアスしてる</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ git config --global alias.see browse
</pre></div></div>

<h3>
<span id="hub-clone-userrepo" class="fragment"></span><a href="#hub-clone-userrepo"><i class="fa fa-link"></i></a>hub clone user/repo</h3>

<p><code>git clone https://github.com/rails/rails.git</code>と同じことを<code>hub clone rails/rails</code>でできる．ちょっと便利．<br>
gemのcloneなら<code>gem-browse</code>コマンドを入れるともっと便利．<br>
参考: <a href="http://qiita.com/items/d19efc9842d0939290b8">gem の github のコードを簡単に clone する</a></p>

<h3>
<span id="hub-pull-request" class="fragment"></span><a href="#hub-pull-request"><i class="fa fa-link"></i></a>hub pull-request</h3>

<p>pull requestをコマンドラインから送ることができる．<br>
ブランチをGitHubにpublishしたあとに<code>hub pull-request</code>を実行するとエディタが立ち上がり，メッセージを入力するとpull requestが送られる．便利．</p>

<h3>
<span id="hub-fork" class="fragment"></span><a href="#hub-fork"><i class="fa fa-link"></i></a>hub fork</h3>

<p>clone後にローカルで開発してpull requestを送る準備ができたら，hub fork -&gt; git push   -&gt; hub pull-request，という流れでコマンドラインのみで完結できる．</p>

<h2>
<span id="こちらも参考に" class="fragment"></span><a href="#%E3%81%93%E3%81%A1%E3%82%89%E3%82%82%E5%8F%82%E8%80%83%E3%81%AB"><i class="fa fa-link"></i></a>こちらも参考に</h2>

<ul>
<li><a href="https://github.com/defunkt/hub/blob/master/README.md" rel="nofollow noopener" target="_blank">hub README</a></li>
<li><code>git help hub</code></li>
<li>
<code>hub --noop XXX</code>

<ul>
<li>
<code>hub XXX</code>によりどういうコマンド/処理が実行されるか表示する．実際に実行はしない．</li>
</ul>
</li>
</ul>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />4位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>300</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/5b70c9f9d882f6f10023">ある程度Gitを操作できるようになってから当たると良いマニュアル/情報源</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-12-04 23:30:17</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Gitにある程度慣れ，基本的な操作ができるようになるとより深く知りたくなってくると思いますが，そのときにググって分散した情報を読むのではなく，まとまったドキュメントを活用すると効率が良いです．<br>
まずは中級者向け<code>git help</code>について．</p>

<h1>
<span id="git-help-help" class="fragment"></span><a href="#git-help-help"><i class="fa fa-link"></i></a><code>git help help</code>
</h1>

<p>まずは<code>git help help</code>をして，よく使う<code>git help</code>についてより良く知っておきましょう．<code>git help</code>の中でおすすめオプションは以下の2つ．</p>

<h2>
<span id="-w" class="fragment"></span><a href="#-w"><i class="fa fa-link"></i></a><code>-w</code>
</h2>

<p>HTMLでのmanをブラウザで開く．長いmanを読むときなどは読みやすくて地味に便利</p>

<h2>
<span id="-g" class="fragment"></span><a href="#-g"><i class="fa fa-link"></i></a><code>-g</code>
</h2>

<p>ガイド一覧．特定のgitコマンドに縛られないような内容を見ることができます．</p>

<h2>
<span id="gitガイド" class="fragment"></span><a href="#git%E3%82%AC%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>gitガイド</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ git help -g
The common Git guides are:

   attributes   Defining attributes per path
   glossary     A Git glossary
   ignore       Specifies intentionally untracked files to ignore
   modules      Defining submodule properties
   revisions    Specifying revisions and ranges for Git
   tutorial     A tutorial introduction to Git (for version 1.5.1 or newer)
   workflows    An overview of recommended workflows with Git

'git help -a' and 'git help -g' lists available subcommands and some
concept guides. See 'git help &lt;command&gt;' or 'git help &lt;concept&gt;'
to read about a specific subcommand or concept.
</pre></div></div>

<p>この中でも特に <strong>glossary</strong>(用語集)や <strong>revisions</strong>(リビジョン(範囲)の指定方法一覧)は一度見ておくと，helpで利用される基本用語の意味や曖昧になりがちなrevision指定について整理できるのでおすすめです．例えば<code>HEAD~</code>と<code>HEAD^</code>や<code>master..branch</code>と<code>master...branch</code>の違いなど<br>
<a href="https://raw.github.com/git/git/master/Documentation/RelNotes/1.8.5.txt" rel="nofollow noopener" target="_blank">リリースされたばかりのv1.8.5</a>で入った<code>@</code>の意味も<code>git help revisions</code>に書かれています(<code>HEAD</code>と同じ)．</p>

<p>(余談: <code>..</code>と<code>...</code>の使い分けの1つは<a href="http://qiita.com/yaotti/items/ab52a7e834422a6f9662" id="reference-b00d6b3a6bb60dbbc9b7">現在のブランチで加えた変更を見る - Qiita</a>を参考に)<br>
(余談その2: <a href="http://article.gmane.org/gmane.comp.version-control.git/233960/" rel="nofollow noopener" target="_blank">v1.8.5で入った<code>git cherry-pick -</code>のコミット</a> ;))</p>

<h1>
<span id="pro-git" class="fragment"></span><a href="#pro-git"><i class="fa fa-link"></i></a>Pro Git</h1>

<p>Scott先生の書いた本．仕組みから各コマンドの使い方まで体系立ってまとめられているので一読をすすめます．<br>
特にchapter 9はGitの内部構造についてまとまって書かれた貴重な日本語情報源です．<br>
<a href="http://git-scm.com/book/ja" rel="nofollow noopener" target="_blank">Pro Git日本語版</a></p>

<h1>
<span id="git-ml" class="fragment"></span><a href="#git-ml"><i class="fa fa-link"></i></a><a href="http://git-scm.com/community" rel="nofollow noopener" target="_blank">Git ML</a>
</h1>

<p>Gitの動きを知りたい場合．<br>
全部読むのはかなり気合入れないとつらい(たぶん無理…)．<br>
全体の動きを知りたいなら<a href="https://github.com/gitster" rel="nofollow noopener" target="_blank">Hamanoさん</a>が週1ぐらいで書いている"What's cooking in git.git"を読むと近いうちにこんなものが入るんだなーというのがわかる．<a href="http://search.gmane.org/?query=What%27s+cooking+in+git.git&amp;author=&amp;group=gmane.comp.version-control.git&amp;sort=date&amp;DEFAULTOP=and&amp;xP=what%27s%09Zcook%09git&amp;xFILTERS=Gcomp.version-control.git-Ac-Ahamano-Ajunio---A" rel="nofollow noopener" target="_blank">archive</a></p>

<p>以上，基本操作が出来るようになってからの理解を深めるのに役立つ情報源でした．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />5位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>297</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/e37c707938847aee671b">いざという時のためのgit reflog</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-06-30 21:52:45</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="http://qiita.com/advent-calendar/git">Git Advent Calendar / Jun.</a> 29日目の記事です．28日目は<a href="http://qiita.com/users/uasi">@uasi</a>さんの「<a href="http://qiita.com/items/905376f02ff029fb23f8">どこでも使える git diff と git apply</a>」でした．</p>

<p>「間違ってマージしていないブランチを消した」「reset --hard HEAD^*で戻しすぎた」ということがたまにある．<br>
しかし<code>git reflog</code>を使うと(GCされていなければ)過去のあらゆるコミット履歴を見ることができ，git logやgit branchでは辿り着けない時点まで戻すことができる．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ git reset --hard HEAD^^ <span class="c1"># HEAD^と指定するつもりが間違えた!</span>
$ git reflog
f5cb888 HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>: head^^: updating HEAD
b0b8073 HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>: merge @<span class="o">{</span>-1<span class="o">}</span>: Merge made by the <span class="s1">'recursive'</span> strategy.
fe3972d HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>: checkout: moving from fix/some-bug to master
$ git reset --hard HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span> <span class="c1"># reset --hard HEAD^^する前に戻れる</span>
</pre></div></div>

<p>歴史を書き換え間違えたときのために覚えておくと便利!</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />6位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>259</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/a8e9f5de8dcca81d3214">git push時に表示されるwarning: `push.default is unset...`の意味と解決方法</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-11 09:59:19</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>(おそらく)git v1.8から以下のようなメッセージが出るようになった人は多いと思います．この意味を解説します．</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ g push         
warning: push.default is unset; its implicit value is changing in
Git 2.0 from 'matching' to 'simple'. To squelch this message
and maintain the current behavior after the default changes, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

  git config --global push.default simple

See 'git help config' and search for 'push.default' for further information.
(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode
'current' instead of 'simple' if you sometimes use older versions of Git)
</pre></div></div>

<h2>
<span id="pushdefault-simple-matching" class="fragment"></span><a href="#pushdefault-simple-matching"><i class="fa fa-link"></i></a>push.default: simple? matching?</h2>

<p><code>push.default</code>は，<code>git push</code>時にrefspec(ブランチ名やタグ名)を指定しなかったときの挙動を設定する．(例えば<code>git push</code>, <code>git push origin</code>としたとき)<br>
<code>push.default</code>のデフォルト設定がGit 2.0でmatchingからsimpleに代わる．</p>

<h3>
<span id="simple" class="fragment"></span><a href="#simple"><i class="fa fa-link"></i></a>simple</h3>

<p>現在のブランチをupstreamのブランチにpushする．ただしupstreamのブランチ名が現在のブランチと異なる場合はpushしない．<br>
"This is the safest option and is well-suited for beginners."とのこと．あまり起きなさそうだけど，間違ったブランチをtrack設定してしまったときなどはpushできないので安全?</p>

<h3>
<span id="matching" class="fragment"></span><a href="#matching"><i class="fa fa-link"></i></a>matching</h3>

<p><code>git push</code>時に同名のブランチ(=マッチするブランチ)をそれぞれpushする．いままでのデフォルト．</p>

<h3>
<span id="その他" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96"><i class="fa fa-link"></i></a>その他</h3>

<p>push.defaultに設定できる値としては以下がある．</p>

<ul>
<li>nothing

<ul>
<li>pushしない．つまり必ずgit push origin masterのようにrefsを指定する必要がある．</li>
</ul>
</li>
<li>current

<ul>
<li>現在のブランチを同名のリモートブランチにpushする．</li>
</ul>
</li>
<li>upstream

<ul>
<li>現在のブランチをupstreamのブランチにpushする．</li>
</ul>
</li>
</ul>

<h2>
<span id="結論" class="fragment"></span><a href="#%E7%B5%90%E8%AB%96"><i class="fa fa-link"></i></a>結論</h2>

<p>warningの通り，いまのgitの挙動を保ちたいならmatching，現在のbranchのみ安全にpushしたいならsimpleにするとよい．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>git config --global push.default matching
<span class="c1"># or</span>
git config --global push.default simple
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />7位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>165</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/f6ab4cf3c8541fc4da83">Railsアプリのパフォーマンスチューニング用ツール紹介</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-11-07 22:50:08</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Rails]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Railsアプリのパフォーマンスチューニング用ツール紹介<br>
<a href="https://speakerdeck.com/a_matsuda/forkwell-dot-com-y-u-so-slow" rel="nofollow noopener" target="_blank">forkwell.com Y U SO SLOW // Speaker Deck</a> で<a href="http://github.com/amatsuda" rel="nofollow noopener" target="_blank">松田さん</a>が紹介していたツールを使ってRailsアプリのボトルネックを調べたので，そのツールの説明．</p>

<h2>
<span id="miniprofilerruby" class="fragment"></span><a href="#miniprofilerruby"><i class="fa fa-link"></i></a><a href="https://github.com/SamSaffron/MiniProfiler/tree/master/Ruby" rel="nofollow noopener" target="_blank">MiniProfiler/Ruby</a>
</h2>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">Gemfile</span></div>
<div class="highlight"><pre><span></span><span class="c1"># developmentでもproductionでも入るようにしておく</span>
<span class="n">gem</span> <span class="s1">'rack-mini-profiler'</span>
</pre></div>
</div>

<p>設定は以下</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">application_controller.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">before_filter</span> <span class="ss">:profile_for_admins</span>
  <span class="c1"># ...</span>
  <span class="k">def</span> <span class="nf">authorize</span>
    <span class="k">if</span> <span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">development?</span> <span class="o">||</span> <span class="n">current_user</span><span class="o">.</span><span class="n">try</span><span class="p">(</span><span class="ss">:staff?</span><span class="p">)</span>
      <span class="no">Rack</span><span class="o">::</span><span class="no">MiniProfiler</span><span class="o">.</span><span class="n">authorize_request</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span> 
</pre></div>
</div>

<p>左上に各リクエスト(XHRなど)でかかった時間が表示される．発行されたSQLごとの処理時間も見られる．</p>

<p>参考リンク: <a href="http://railscasts.com/episodes/368-miniprofiler?view=comments" rel="nofollow noopener" target="_blank">#368 MiniProfiler - RailsCasts</a></p>

<p>SQLをざっと見てみて，明らかに無駄なSQLを排除していく．<br>
かかった時間ごとにSQLをソートしてくれたらいいのに…</p>

<h2>
<span id="flyerhzmbullet" class="fragment"></span><a href="#flyerhzmbullet"><i class="fa fa-link"></i></a><a href="https://github.com/flyerhzm/bullet" rel="nofollow noopener" target="_blank">flyerhzm/bullet</a>
</h2>

<p><a href="http://guides.rubyonrails.org/active_record_querying.html#eager-loading-associations" rel="nofollow noopener" target="_blank">N+1クエリ問題</a>や不要なeager loading, counter cacheを使うべきポイントを検出してくれるツール．<br>
<a href="https://github.com/flyerhzm/bullet#configuration" rel="nofollow noopener" target="_blank">flyerhzm/bullet configuration</a>にある通りに設定すると以下のようなlogを出してくれる．stacktraceも見られるので問題箇所がわかりやすい．</p>

<div class="code-frame" data-lang="txt">
<div class="code-lang"><span class="bold">log/bullet.log</span></div>
<div class="highlight"><pre><span></span>N+1 Query detected
  Item =&gt; [:user]
  Add to your finder: :include =&gt; [:user]
N+1 Query method call stack
  N+1 Query method call stack
  N+1 Query method call stack
  N+1 Query method call stack
  /foo/bar/baz.rb:123:in `some_method'
  /foo/bar/baz.rb:123:in `other_method'
</pre></div>
</div>

<p>適切に<code>Foo.all</code>-&gt;<code>Foo.includes(:bar).all</code>などとしてN+1クエリを潰せばよい．</p>

<h2>
<span id="sql-auto-explainv32" class="fragment"></span><a href="#sql-auto-explainv32"><i class="fa fa-link"></i></a>SQL auto explain(v3.2)</h2>

<p><a href="http://guides.rubyonrails.org/v3.2.13/active_record_querying.html#automatic-explain" class="autolink" rel="nofollow noopener" target="_blank">http://guides.rubyonrails.org/v3.2.13/active_record_querying.html#automatic-explain</a> のように設定すると，実行に時間がかかったSQLをログ出力してくれる．<br>
しかしRails 4.0では削除済．(<a href="https://github.com/rails/rails/commit/d3688e02ca52c0b72d3092e8498da51e06b7fc58" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/rails/rails/commit/d3688e02ca52c0b72d3092e8498da51e06b7fc58</a>)</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />8位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>158</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/510779877e515a1155db">Gemfileでのgem指定色々</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-11-03 00:31:24</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>レポジトリの特定ブランチを使いたいとか，ローカルでちょっと変更して試したいときのGemfileの変更方法．<br>
変更してbundleを実行すればよい．<br>
ref: <a href="http://gembundler.com/man/gemfile.5.html" class="autolink" rel="nofollow noopener" target="_blank">http://gembundler.com/man/gemfile.5.html</a></p>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="c1"># あるレポジトリの特定ブランチ</span>
<span class="n">gem</span> <span class="s1">'albino'</span><span class="p">,</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'git://github.com/yaotti/albino.git'</span><span class="p">,</span>
              <span class="ss">:branch</span> <span class="o">=&gt;</span> <span class="s2">"enable-g-flag"</span>

<span class="c1"># 追記: GitHubのmasterならこういう指定もできる(bundler v 1.1以降)</span>
<span class="n">gem</span> <span class="s1">'rails'</span><span class="p">,</span>  <span class="ss">:github</span> <span class="o">=&gt;</span> <span class="s1">'rails/rails'</span>

<span class="c1"># ローカルにあるgem</span>
<span class="n">gem</span> <span class="s1">'albino'</span><span class="p">,</span> <span class="ss">:path</span> <span class="o">=&gt;</span> <span class="s1">'/Users/you/path/to/albino'</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />9位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>128</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b7b1a304815addf150b2">pryを使った快適なRubyライブラリのコードリーディング&amp;開発方法</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-07-02 12:59:25</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[AdventCalendar]</b> <b>[開発環境]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>この記事は<a href="http://qiita.com/advent-calendar/ruby-devenv">Ruby開発環境 Advent Calendar / Jul.</a>の1日目の記事です．参加は「<a href="http://qiita.com/items/8fc562a44e528169ed91">7/1よりRuby開発環境アドベントカレンダーを開始します!</a>」から!<br>
7/2になってしまってごめんなさい．</p>

<p>tmuxによる縦分割，pryを使った快適，高速なコードリーディング&amp;開発について書きます．<br>
以下では<a href="https://github.com/defunkt/resque" rel="nofollow noopener" target="_blank">resque</a>のコードを読んだり，手を加えたりするという想定で話を進めます．</p>

<h2>
<span id="事前準備" class="fragment"></span><a href="#%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99"><i class="fa fa-link"></i></a>事前準備</h2>

<p>それぞれのツールについては<br>
pry: <a href="http://qiita.com/items/2b36068cdf2e40e75c2d">ググるよりもまずはpry - Qiita</a><br>
tmux: <a href="http://qiita.com/tags/tmux">tmuxタグページ</a><br>
あたりを参考に．<br>
以下，必要なものをインストールします．</p>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="n">gem</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">gem</span><span class="o">-</span><span class="n">browse</span> <span class="n">pry</span> <span class="n">pry</span><span class="o">-</span><span class="n">doc</span>
<span class="n">cd</span> <span class="sr">/tmp</span>
<span class="sr">gem clone resque</span>
<span class="sr">cd resque</span>
<span class="sr"># tmuxを使って画面を縦半分に割る</span>
<span class="sr"># 左: vim -R lib/</span><span class="n">redis</span><span class="o">.</span><span class="n">rb</span>
<span class="c1"># 右: pry -Ilib</span>
</pre></div></div>

<p><a href="https://camo.qiitausercontent.com/d8d61272460a61b0d7637108fca04ac85caf93df/68747470733a2f2f646c2e64726f70626f782e636f6d2f752f3136343535392f73637265656e73686f74732f53637265656e25323053686f74253230323031322d30372d3032253230617425323031322e34302e3436253230504d2e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/d8d61272460a61b0d7637108fca04ac85caf93df/68747470733a2f2f646c2e64726f70626f782e636f6d2f752f3136343535392f73637265656e73686f74732f53637265656e25323053686f74253230323031322d30372d3032253230617425323031322e34302e3436253230504d2e706e67" alt="" data-canonical-src="https://dl.dropbox.com/u/164559/screenshots/Screen%20Shot%202012-07-02%20at%2012.40.46%20PM.png"></a></p>

<p>上記みたいな感じ．ここでpry -Ilibがポイントです．-Ilibすることでいま見ているresqueのソースを参照させます．</p>

<h2>
<span id="pryのedit-edit-methodをうまく使う" class="fragment"></span><a href="#pry%E3%81%AEedit-edit-method%E3%82%92%E3%81%86%E3%81%BE%E3%81%8F%E4%BD%BF%E3%81%86"><i class="fa fa-link"></i></a>pryのedit, edit-methodをうまく使う</h2>

<p>pry内で<code>edit lib/resque.rb:50</code>のように実行すると，<code>lib/resque.rb</code>の50行目にカーソルが移動した状態でエディタが立ち上がります．(ちなみにぼくはemacsclientを使ってます)<br>
そこで適当に編集し，保存して戻ってくると変更が反映されているので，pryで実行すると挙動が変わっているのがわかると思います．</p>

<p>特定メソッドを編集したい場合は<code>edit-method Resque#redis</code>という形でも指定できます．便利!</p>

<h2>
<span id="bindingpry" class="fragment"></span><a href="#bindingpry"><i class="fa fa-link"></i></a>binding.pry</h2>

<p>実行時のローカル変数を見たいとき，毎回ソースに<code>p @foo</code>を入れて実行→結果を見てまた<code>p @bar</code>を入れて実行，は面倒すぎる．そこで<code>binding.pry</code>です．ブレークポイントを設定できます．<br>
上記の<code>edit</code>や<code>edit-method</code>を使って目的の場所に<code>binding.pry</code>を入れてメソッドを呼ぶと，binding.pryの行で実行が止まり，その行のスコープに入ってpryを開いてくれます．あとはローカル変数を覗くなりステップ実行するなりメソッドを呼ぶなりするなりお好きなように．<br>
<code>edit -c</code>するとその行をエディタで開いてくれます．</p>

<h2>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>pry -Ilib
[1] pry(main)&gt; edit lib/foo.rb:10
[2] pry(main)&gt; edit-method Foo#bar
[3] pry(main)&gt; …
</pre></div></div>

<p>文章による説明だとあまり便利さが伝わりにくいのですが，コードリーディング時にメソッドの挙動を確認したい，少し変更したいときなんかにはとても便利なので，一度試してみてください．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />10位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>126</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/1b0d86f3f8e68ccb0d68">色々なbreakpointを使ったJSデバッグ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-04 00:50:00</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[JavaScript]</b> <b>[Chrome]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Google Chromeのとても優秀なDeveloper Tools，の中でもよく使うブレークポイントの機能について簡単に紹介します．単純なブレークポイント以外にもJS特有の機能があるのだけれど，あまり使っている人を見ることがないので…<br>
この投稿を読んだ後にはconsole.logやalertでprintデバッグをすることはないでしょう．</p>

<p><a href="https://camo.qiitausercontent.com/a809c5849169428d64ea9f0c53221c1537015d28/687474703a2f2f646c2e64726f70626f782e636f6d2f752f3136343535392f73637265656e73686f74732f32303132313230345f3030343832322e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/a809c5849169428d64ea9f0c53221c1537015d28/687474703a2f2f646c2e64726f70626f782e636f6d2f752f3136343535392f73637265656e73686f74732f32303132313230345f3030343832322e706e67" alt="" data-canonical-src="http://dl.dropbox.com/u/164559/screenshots/20121204_004822.png"></a></p>

<h2>
<span id="色々なbreakponts" class="fragment"></span><a href="#%E8%89%B2%E3%80%85%E3%81%AAbreakponts"><i class="fa fa-link"></i></a>色々なBreakponts</h2>

<p>Developer Toolsのブレークポイントは，ソースコードの特定の行でbreakするという一般的なブレークポイント以外にもいくつかあります．上部写真の右側のメニュー参照</p>

<ul>
<li>Breakpoints

<ul>
<li>普通のbreakpoint</li>
</ul>
</li>
<li>DOM Breakpoints

<ul>
<li>Developer ToolsのElementsタブでDOMを右クリック→Break on...にて指定．特定のDOMのサブツリーや属性が変更されたとき，また該当DOMが削除されたときなどを指定してbreakする</li>
</ul>
</li>
<li>XHR Breakpoints

<ul>
<li>指定した文字列を含むURLにリクエストが飛んだときにbreak．</li>
</ul>
</li>
<li>Event Listener Breakpoints</li>
</ul>

<p>機能は名前とセクションを見た通りという感じです．</p>

<h2>
<span id="breakさせて何をするか" class="fragment"></span><a href="#break%E3%81%95%E3%81%9B%E3%81%A6%E4%BD%95%E3%82%92%E3%81%99%E3%82%8B%E3%81%8B"><i class="fa fa-link"></i></a>breakさせて何をするか</h2>

<ul>
<li>右のScope Variablesセクションからそのスコープにある変数の値チェック</li>
<li>コンソールを開いてメソッド呼び出し</li>
<li>右上メニューからステップ実行して動きを見る</li>
</ul>

<p>など．色々試してみてください．</p>

<h2>
<span id="おまけ" class="fragment"></span><a href="#%E3%81%8A%E3%81%BE%E3%81%91"><i class="fa fa-link"></i></a>おまけ</h2>

<p>右下の歯車をクリックすると色々設定できます．ショートカットキー一覧が見られるのも便利．</p>

<h2>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h2>

<p>JSデバッグ時になんとなく適当にconsole(+単純なbreakpoints)だけ使っている人も多いと思いますが，Developer Toolsのあちこちを一度クリックしてみると面白いです．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />11位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>89</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/2a4a687059993233092e">複雑なHTMLを動的にロードするとき，JSテンプレートを利用するとよい</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-21 15:28:42</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>完全に遅れてしまっていてもはやAdvent Calendarではなくなっている「Backbone.js Advent Calendar」ですが，なんとか25日まで続けます:)<br>
ちなみに昨日までの「Backbone.js入門」シリーズ(by <a href="/taka84u9" class="user-mention js-hovercard" title="taka84u9" data-hovercard-target-type="user" data-hovercard-target-name="taka84u9">@taka84u9</a>)がとてもわかりやすいので，Backbone.jsを使ったことのない人はまずそちらから読むのがおすすめです．<br>
(<a href="http://qiita.com/adcal/backbone" class="autolink">http://qiita.com/adcal/backbone</a> の12/11分より)</p>

<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<p>Ajaxを利用して動的にHTMLをロードするとき，対象HTMLが複雑になってくるとJSだけで作るのはコストが大きくなってきます．(<code>append</code>の山)<br>
またぱっとコードを見たときにどういうHTMLになるかわからず，デザイナーと共同作業もやりにくくなります．タグを1つ追加したいだけなのに，JSのコードを読んで追加処理を書くのはかなり面倒です．</p>

<h2>
<span id="javascriptテンプレート" class="fragment"></span><a href="#javascript%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88"><i class="fa fa-link"></i></a>JavaScriptテンプレート</h2>

<p>そこでJSテンプレート，例えば<a href="http://api.jquery.com/jQuery.template/" rel="nofollow noopener" target="_blank">jQuery template(beta)</a>や<a href="https://github.com/janl/mustache.js" rel="nofollow noopener" target="_blank">mustache.js</a>，<a href="http://documentcloud.github.com/underscore/#template" rel="nofollow noopener" target="_blank">underscore.jsの_.template</a>などを利用するとこうした問題を解決できます．<br>
以下は_.templateの使い方です．(underscore.jsのドキュメントより引用)</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="s2">"&lt;% _.each(people, function(name) { %&gt; &lt;li&gt;&lt;%= name %&gt;&lt;/li&gt; &lt;% }); %&gt;"</span><span class="p">;</span>
<span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="p">{</span><span class="nx">people</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'moe'</span><span class="p">,</span> <span class="s1">'curly'</span><span class="p">,</span> <span class="s1">'larry'</span><span class="p">]});</span>
<span class="c1">// =&gt; "&lt;li&gt;moe&lt;/li&gt;&lt;li&gt;curly&lt;/li&gt;&lt;li&gt;larry&lt;/li&gt;"</span>
</pre></div></div>

<p>実際はこのようにテンプレート内容を文字列で渡すのではなく，以下のように別セクションに分けて記述すると思います．</p>

<div class="code-frame" data-lang="html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/template"</span> <span class="na">id</span><span class="o">=</span><span class="s">"my-template"</span><span class="p">&gt;</span>
 <span class="c1">// テンプレート内容</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span>
<span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#my-template'</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span> <span class="nx">data</span><span class="p">);</span> <span class="c1">// =&gt; html</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div></div>

<h2>
<span id="ちょっとした工夫キャッシュ" class="fragment"></span><a href="#%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%81%97%E3%81%9F%E5%B7%A5%E5%A4%AB%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%A5"><i class="fa fa-link"></i></a>ちょっとした工夫(キャッシュ)</h2>

<p>TwitterやQiitaのようなストリームタイプのページでは，テンプレート化したいブロックが1ページ内に何度も出てきます．そこでテンプレートを利用するときに，アイテムごとに同じテンプレートを毎回JSで処理するのは無駄です．<br>
そこで以下のようにテンプレート処理後のデータをキャッシュしておくことで，処理を1度だけ行わせることができます．ここではunderscore.jsの_.templateを利用しています．<br>
(underscore.jsについては<a href="http://qiita.com/items/1284">underscore.js入門</a>をどうぞ)</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="c1">// テンプレートの処理は1度だけ実行される</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#my-template'</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">templateCache</span><span class="p">[</span><span class="s1">'my-template'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#my-template'</span><span class="p">).</span><span class="nx">html</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">myView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">template</span><span class="o">:</span> <span class="nx">templateCache</span><span class="p">[</span><span class="s1">'item-box-template'</span><span class="p">],</span>
    <span class="c1">// ...</span>
<span class="p">});</span>
</pre></div></div>

<p>以上，JSテンプレートのすすめ&amp;ちょっとした工夫でした．(あんまりBackbone.jsに関係ない…)</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />12位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>88</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/c6e850010f36acedb0e1">Railsのコンソールをより便利にするpry-rails gem</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-12-01 23:17:52</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Rails]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>rubyを使っている人なら皆使っていると思われる<a href="http://pryrepl.org/" rel="nofollow noopener" target="_blank">pry</a>ですが(pryについては<a href="http://qiita.com/Kokudori/items/2b36068cdf2e40e75c2d" id="reference-bc1614b5b4bfea108584">Ruby - ググるよりもまずはpry - Qiita [キータ]</a>などを参考に)，そのpryをrails console代わりに使うときに便利ユーティリティを提供してくれる<a href="https://github.com/rweng/pry-rails" rel="nofollow noopener" target="_blank">pry-rails gem</a>について紹介します．</p>

<h2>
<span id="pry-railsが提供するコマンド" class="fragment"></span><a href="#pry-rails%E3%81%8C%E6%8F%90%E4%BE%9B%E3%81%99%E3%82%8B%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89"><i class="fa fa-link"></i></a>pry-railsが提供するコマンド</h2>

<ul>
<li>show-middleware</li>
<li>show-model</li>
<li>show-models</li>
<li>show-routes</li>
<li>recognize-path</li>
</ul>

<h2>
<span id="show-middleware" class="fragment"></span><a href="#show-middleware"><i class="fa fa-link"></i></a>show-middleware</h2>

<p>名前の通り，そのアプリケーションで利用しているミドルウェアの一覧を表示する．(名前はshow-middlewaresの方が良い気がする)<br>
デフォルトでもこんなミドルウェアが利用されてるんだなーと眺めるのによい</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>[1] pry(main)&gt; show-middleware
use Raven::Rack
use ActionDispatch::Static
use Rack::Lock
use ActiveSupport::Cache::Strategy::LocalCache
...
</pre></div></div>

<h2>
<span id="show-model" class="fragment"></span><a href="#show-model"><i class="fa fa-link"></i></a>show-model</h2>

<p><code>show-model Item</code>で，<code>Item</code>モデルのカラムの型&amp;名前やリレーションを表示してくれる．モデルを俯瞰したいときに便利．</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>[2] pry(main)&gt; show-model Item
Item
  id: integer
  created_at: datetime
  updated_at: datetime
  ...
  belongs_to :user
  has_many :comments
  ...
</pre></div></div>

<h2>
<span id="show-models" class="fragment"></span><a href="#show-models"><i class="fa fa-link"></i></a>show-models</h2>

<p>全てのモデルに対して<code>show-model</code>する．<code>--grep</code>オプションと組み合わせると便利かも．</p>

<h2>
<span id="show-routes" class="fragment"></span><a href="#show-routes"><i class="fa fa-link"></i></a>show-routes</h2>

<p><code>rake routes</code>の結果を表示してくれる．<code>show-routes --grep items</code>などgrepオプションも使えて便利．<br>
(他に高速に<code>rake routes</code>を見る方法として，Railsサーバーが立ち上がっている状態で <a href="http://localhost:3000/rails/info" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:3000/rails/info</a> へアクセスするという方法もある．)</p>

<h2>
<span id="recognize-path" class="fragment"></span><a href="#recognize-path"><i class="fa fa-link"></i></a>recognize-path</h2>

<p><a href="http://qiita.com/yaotti/items/cd26993283d2efa3ab52" id="reference-e999dea1b5884c701be8">Rails - Routingのテストをする - Qiita [キータ]</a>で紹介したような，<code>Qiita::Application.routes.recognize_path</code>を実行する．<code>-m post</code>のようにリクエストメソッドを指定もできる．</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>[1] pry(main)&gt; recognize-path '/advent-calendar/2013'
{:action=&gt;"index", :controller=&gt;"advent_calendars", :year=&gt;"2013"}
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />13位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>72</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/3764572ea1e1972ba928">iTerm2で特定文字列をハイライトやGrowl通知する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-02-01 11:03:49</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Mac]</b> <b>[iTerm2]</b> <b>[Terminal]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>ログを見ているときなどに目で全部追うのはつらい．そこで特定の文字列が出たときにハイライトしたり何かアクションを行わせるという設定がiTerm2にある．(バージョン：Build 1.0.0.20120123)</p>

<h1>
<span id="設定方法" class="fragment"></span><a href="#%E8%A8%AD%E5%AE%9A%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>設定方法</h1>

<p><a href="https://camo.qiitausercontent.com/64e7cf137f4e622c5c1ecf9dec2bd17281cd4608/68747470733a2f2f696d672e736b697463682e636f6d2f32303132303230312d6431343574787572673537666d74696d3268673970656d6d6b672e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/64e7cf137f4e622c5c1ecf9dec2bd17281cd4608/68747470733a2f2f696d672e736b697463682e636f6d2f32303132303230312d6431343574787572673537666d74696d3268673970656d6d6b672e706e67" alt="" data-canonical-src="https://img.skitch.com/20120201-d145txurg57fmtim2hg9pemmkg.png"></a></p>

<p>iTerm2の設定画面で，Profiles-&gt;Advanced-&gt;TriggersのEditボタンを押すとTrigger登録画面が出る．<br>
「正規表現」と「それにマッチする文字列がターミナルに印字されたときのアクション」を登録できるので，<code>Send Growl Alert</code>や<code>Run Command</code>など好きなものを登録する．<br>
登録した後はechoコマンドでチェックすればよい．例えば"Error"という文字列を登録したなら<code>echo "Error"</code>とすればtriggerされるはず．<br>
Growlだけではなくて特定文字列のHighlightなんかも便利．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />14位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>69</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/62947b0c981ae38fae82">tigで見ているコミットをgithubで開く</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-06-21 15:38:34</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> <b>[GitHub]</b> <b>[tig]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="sh">
<div class="code-lang"><span class="bold">~/.tigrc</span></div>
<div class="highlight"><pre><span></span><span class="nb">bind</span> main G !@hub browse -- commit/%<span class="o">(</span>commit<span class="o">)</span>
<span class="nb">bind</span> diff G !@hub browse -- commit/%<span class="o">(</span>commit<span class="o">)</span>
</pre></div>
</div>

<p>上を<code>~/.tigrc</code>に書いておけば，tig起動中に<code>G</code>を押したとき，選択されているコミットに対応したgithubのコミットページをブラウザで開いてくれる．hubコマンドについては<a href="http://qiita.com/yaotti/items/a4a7f3f9a38d7d3415e3" id="reference-728e0828e241f1d7574e">GitHubユーザーのためのhubコマンド - Qiita</a>の記事をどうぞ．</p>

<p>デフォルトでは<code>G</code>は<code>git gc</code>に割り当てられていて意味がわからない(たまに間違えて押してしまう)ので潰しておく．<br>
<code>!@hub</code>の<code>@</code>は出力を捨てる(つまりtigの再描画を避ける)意味がある．</p>

<h2>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h2>

<p><a href="https://github.com/jonas/tig/blob/master/tigrc.5.txt" rel="nofollow noopener" target="_blank">tig/tigrc.5.txt at master · jonas/tig</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />15位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>68</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/fb8156b2252b5bff1529">ReactiveCocoaに出てくる用語の整理</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-06-12 12:44:41</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>StreamとかSignalなどの用語の意味は<a href="https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/Documentation/FrameworkOverview.md" rel="nofollow noopener" target="_blank">ReactiveCocoa/Documentation/FrameworkOverview.md at master · ReactiveCocoa/ReactiveCocoa · GitHub</a>に書いてある．<br>
以下それらの用語まとめ</p>

<h2>
<span id="stream-racstream" class="fragment"></span><a href="#stream-racstream"><i class="fa fa-link"></i></a>Stream (RACStream)</h2>

<p>変化する一連の値(オブジェクト)を表す．値が変化する順番にしか取れない．<br>
HaskellのモノイドとかMonadZipのような型クラスと同等のものを実装している．<br>
Stream自体を直接使うことは少なく(RACStreamは抽象クラス)，signalsやsequencesとして使うことが多い．</p>

<h2>
<span id="signal-racsignal" class="fragment"></span><a href="#signal-racsignal"><i class="fa fa-link"></i></a>Signal (RACSignal)</h2>

<p>push-drivenなstream．<br>
処理が実行されたりデータを受け取ると，シグナルにより値が送られる(? 原文: "values are <em>sent</em> on the signal")．値にアクセスするにはsignalをsubscribeする必要がある．<br>
シグナルが送るイベントには以下の3種類がある</p>

<ul>
<li>
<strong>next</strong>: ストリームから来た新しい値．値がnilになることもある</li>
<li>
<strong>error</strong>: シグナルが完了する前にエラーが起きたことを示す．イベントはNSErrorを含むかもしれない</li>
<li>
<strong>completed</strong>: シグナルが完了し，もう新しい値はstreamに追加されないことを表す．</li>
</ul>

<p>シグナルは<strong>next</strong>がn回後<strong>error</strong>か<strong>completed</strong>が一度起きて終わる．(n=0~)</p>

<h3>
<span id="シグナル購読" class="fragment"></span><a href="#%E3%82%B7%E3%82%B0%E3%83%8A%E3%83%AB%E8%B3%BC%E8%AA%AD"><i class="fa fa-link"></i></a>シグナル購読</h3>

<p><strong>購読者</strong>はシグナルからのイベントを待つ(待てる)何か．RACでは購読者はRACSubscriberプロトコルに準拠したオブジェクトなら良い．</p>

<p><strong>購読</strong>は<a href="https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/ReactiveCocoaFramework/ReactiveCocoa/RACSignal.h" rel="nofollow noopener" target="_blank">-subscribeNext:error:completed:</a>などのメソッドで作成される．</p>

<p>シグナルが完了/エラー時に購読は破棄されるが，手動で止めることもできる(RACDisposable)</p>

<h3>
<span id="subjects-racsubject" class="fragment"></span><a href="#subjects-racsubject"><i class="fa fa-link"></i></a>Subjects (RACSubject)</h3>

<p>subjectは手で制御できるシグナル(mutableなシグナル)．<strong>nextやcompleted, errorなどのイベントを自由に送れる．</strong><br>
RACでないコードとシグナルを利用したコードを繋ぐのに便利．例えばブロックの複数コールバック内でアプリケーションロジックを制御するかわりに，共有されたsubjectにブロック内からイベントを送るなど．</p>

<h3>
<span id="commands-raccommand" class="fragment"></span><a href="#commands-raccommand"><i class="fa fa-link"></i></a>Commands (RACCommand)</h3>

<p>何かのアクションへの反応としてトリガーされるシグナル．主にUI-drivenな操作で使う．例えばボタンがクリックされたときにsignalにより自動でdisableにする，など．<br>
RACはNSButtonに<code>rac_command</code>プロパティを付けてくれる</p>

<h3>
<span id="connections-racmulticastconnection" class="fragment"></span><a href="#connections-racmulticastconnection"><i class="fa fa-link"></i></a>Connections (RACMulticastConnection)</h3>

<p>connectionは任意の数の購読者と共有される購読(subscription)<br>
シグナルはデフォルトでは購読されるたびに処理が走り，新しい値を取得するが，これは処理の種類によっては問題になる(例えばネットワークアクセスなどの重い処理)．<br>
(RACSignalの<code>-publish</code>や<code>-multicast:</code>メソッドで作られる)connectionは何度購読されても購読は1つだけ作成する．<br>
そして一度接続されると(connectionのシグナルがhotになるという)全てのsubscriptionが捨てられるまではその唯一のsubscriptionを保持している(=新規にsubscriptionを作成することはしない)</p>

<h2>
<span id="sequences-racsequence" class="fragment"></span><a href="#sequences-racsequence"><i class="fa fa-link"></i></a>Sequences (RACSequence)</h2>

<p>pull-drivenなstream．Sequenceが持つ値は遅延評価され，またnilを含むことはできない．(NSArrayなどと同じ)<br>
RACは<code>-rac_sequence</code>メソッドをCocoaの各コレクションに追加してくれる．</p>

<h3>
<span id="disposable-racdisposable" class="fragment"></span><a href="#disposable-racdisposable"><i class="fa fa-link"></i></a>Disposable (RACDisposable)</h3>

<p>RACDisposableはキャンセルやリソースのcleanupのためのクラスだが，シグナルの購読解除に最もよく使われる．<br>
subscriptionがdisposeされると，購読者は以降イベントを取得しない．またsubscriptionに関連する処理(ネットワークリクエストやバックグラウンド処理など)は全てキャンセルされる．</p>

<h2>
<span id="schedulers-racscheduler" class="fragment"></span><a href="#schedulers-racscheduler"><i class="fa fa-link"></i></a>Schedulers (RACScheduler)</h2>

<p>シグナルの連続した実行キュー</p>

<h2>
<span id="value-types" class="fragment"></span><a href="#value-types"><i class="fa fa-link"></i></a>Value types</h2>

<h3>
<span id="ractuple" class="fragment"></span><a href="#ractuple"><i class="fa fa-link"></i></a>RACTuple</h3>

<p>定数サイズのコレクション，nilを含むことができる</p>

<h3>
<span id="racunit" class="fragment"></span><a href="#racunit"><i class="fa fa-link"></i></a>RACUnit</h3>

<p>シングルトンな空value．steram内で使われる</p>

<h3>
<span id="racevent" class="fragment"></span><a href="#racevent"><i class="fa fa-link"></i></a>RACEvent</h3>

<p>任意のシグナルイベントを表す．</p>

<h2>
<span id="foundation-support" class="fragment"></span><a href="#foundation-support"><i class="fa fa-link"></i></a>Foundation Support</h2>

<p>Foundation classes向けのRAC-basedブリッジはフレームワークには入ってないので，使いたければ<code>RACExtensions</code>を使ってね</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />16位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>67</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/157ff0a46736ec793a91">ディレクトリ移動を手軽にするauto cdとcdpath</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-12-20 23:54:15</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Zsh]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="auto_cd" class="fragment"></span><a href="#auto_cd"><i class="fa fa-link"></i></a>AUTO_CD</h2>

<p><code>setopt AUTO_CD</code>の1行を<code>~/.zshrc</code>に設定しておくと，ディレクトリ移動時に<code>cd</code>を打たなくても，ディレクトリと解釈できる文字列を打てば<code>cd</code>してくれる</p>

<div class="code-frame" data-lang="bash">
<div class="code-lang"><span class="bold">~/.zshrc</span></div>
<div class="highlight"><pre><span></span>setopt AUTO_CD
</pre></div>
</div>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> foo/bar/baz <span class="c1"># 設定前</span>
foo/bar/baz    <span class="c1"># 設定後</span>
</pre></div></div>

<p>これにより<code>cd</code>はホームディレクトリに移動するとき以外は使う必要がなくなる．ディレクトリ名がコマンド名と被ってしまうようなときは<code>./ruby</code>のように指定すればよい．<code>cd ruby</code>よりは楽．</p>

<h2>
<span id="cdpath" class="fragment"></span><a href="#cdpath"><i class="fa fa-link"></i></a>cdpath</h2>

<p>そして<code>AUTO_CD</code>に<code>cdpath</code>を合わせて設定するとより強力</p>

<div class="code-frame" data-lang="bash">
<div class="code-lang"><span class="bold">~/.zshrc</span></div>
<div class="highlight"><pre><span></span>setopt AUTO_CD
<span class="nv">cdpath</span><span class="o">=(</span>.. ~ ~/src<span class="o">)</span>
</pre></div>
</div>

<p>この2行を追加しておけば，親ディレクトリやホームディレクトリ，~/src以下へはどこからでもディレクトリ名だけで移動できるようになる．プロジェクト間の移動も一瞬．</p>

<h2>
<span id="マニュアル" class="fragment"></span><a href="#%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB"><i class="fa fa-link"></i></a>マニュアル</h2>

<p>一応マニュアルへの参照を．それぞれ<code>man zshoptions</code>, <code>man zshparam</code>に載っている．</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ man zshoptions
...
 AUTO_CD (-J)
              If a command is issued that can't be executed as a normal command, and the command is the name of a directory, perform the cd command to that directory.
...
</pre></div></div>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ man zshparam
...
cdpath &lt;S&gt; &lt;Z&gt; (CDPATH &lt;S&gt;)
              An array (colon-separated list) of directories specifying the search path for the cd command.
...
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />17位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>67</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b64ab993c78a47941869">自分のいるブランチが他の人によってforce-pushされたとき，カレントブランチを削除せずに変更を取り込む</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-08-29 17:53:36</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>例えばレビュー中に小さなバグを見付けたので，レビュイーにpush -fしてもらった後にその変更を手元に持ってくるにはどうすればよいか．歴史が変わっているので<code>git pull</code>はできない．<br>
今までは以下のように別ブランチに移動&amp;削除&amp;再度ブランチ作成していた．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="c1"># someone force-pushed to `topic` branch</span>
git co master
git branch -D topic
git fetch
git co topic <span class="c1"># creates `topic` branch from `origin/topic`</span>
</pre></div></div>

<p>しかし，わざわざ移動&amp;削除しなくとも以下のように<code>reset --hard</code>すればよい</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>git fetch
git reset --hard origin/topic
</pre></div></div>

<p>thanks to <a href="/uasi" class="user-mention js-hovercard" title="uasi" data-hovercard-target-type="user" data-hovercard-target-name="uasi">@uasi</a>!</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />18位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>59</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b9980a84fd0e2bd572c1">Capistranoのデプロイで必要ない時はasset precompileをしない</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-03-19 12:50:13</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[capistrano]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>以下の変更でQiitaのデプロイが2分46秒から25秒程度にまで早くなった．<br>
デプロイ時間が7分の1に．超快適．</p>

<p><a href="http://stackoverflow.com/questions/9016002/speed-up-assetsprecompile-with-rails-3-1-3-2-capistrano-deployment" class="autolink" rel="nofollow noopener" target="_blank">http://stackoverflow.com/questions/9016002/speed-up-assetsprecompile-with-rails-3-1-3-2-capistrano-deployment</a> の通り，以下をdeploy.rbの<code>namespace :deploy</code>ブロックに追加する．</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">deploy.rb</span></div>
<div class="highlight"><pre><span></span>  <span class="n">namespace</span> <span class="ss">:assets</span> <span class="k">do</span>
    <span class="n">task</span> <span class="ss">:precompile</span><span class="p">,</span> <span class="ss">:roles</span> <span class="o">=&gt;</span> <span class="ss">:web</span><span class="p">,</span> <span class="ss">:except</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:no_release</span> <span class="o">=&gt;</span> <span class="kp">true</span> <span class="p">}</span> <span class="k">do</span>
      <span class="n">from</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">next_revision</span><span class="p">(</span><span class="n">current_revision</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">capture</span><span class="p">(</span><span class="s2">"cd </span><span class="si">#{</span><span class="n">latest_release</span><span class="si">}</span><span class="s2"> &amp;&amp; </span><span class="si">#{</span><span class="n">source</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">from</span><span class="p">)</span><span class="si">}</span><span class="s2"> app/assets/ | wc -l"</span><span class="p">)</span><span class="o">.</span><span class="n">to_i</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="n">run</span> <span class="sx">%Q{cd </span><span class="si">#{</span><span class="n">latest_release</span><span class="si">}</span><span class="sx"> &amp;&amp; </span><span class="si">#{</span><span class="n">rake</span><span class="si">}</span><span class="sx"> RAILS_ENV=</span><span class="si">#{</span><span class="n">rails_env</span><span class="si">}</span><span class="sx"> </span><span class="si">#{</span><span class="n">asset_env</span><span class="si">}</span><span class="sx"> assets:precompile}</span>
      <span class="k">else</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span> <span class="s2">"Skipping asset pre-compilation because there were no asset changes"</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</div>

<p><code>Capfile</code>で自分のdeploy.rbをcapistranoのdeploy/assets.rbよりも後でロードするように変更する．<br>
こうしないと自分のタスクがデフォルトで上書きされてしまう．</p>

<div class="code-frame" data-lang="diff"><div class="highlight"><pre><span></span><span class="gd">--- a/Capfile</span>
<span class="gi">+++ b/Capfile</span>
<span class="gu">@@ -2,5 +2,5 @@</span>
 load 'deploy' if respond_to?(:namespace) # cap2 differentiator
 Dir['vendor/gems/*/recipes/*.rb','vendor/plugins/*/recipes/*.rb'].each { |plugin| load(plugin) }

<span class="gd">-load 'config/deploy' # remove this line to skip loading any of the default tasks</span>
 load 'deploy/assets'            # for 'rake assets:precompile'
<span class="gi">+load 'config/deploy' # remove this line to skip loading any of the default tasks</span>
</pre></div></div>

<p>これはgitでしか使えないけど，他のCVSにも対応したパッチ送ると幸せになる人多そう</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />19位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>59</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b895065ea78dc2bfc5c4">動的に作られる要素にイベントをbindする</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-01 21:55:33</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="backbonejs-advent-calendar-1日目" class="fragment"></span><a href="#backbonejs-advent-calendar-1%E6%97%A5%E7%9B%AE"><i class="fa fa-link"></i></a>Backbone.js Advent Calendar 1日目!</h1>

<p>参加者が増えないと2人で25日回すことになるので，どんどん参加してください:)<br>
<a href="http://atnd.org/events/22017" class="autolink" rel="nofollow noopener" target="_blank">http://atnd.org/events/22017</a><br>
参加方法は，atndで登録したあと，AdventCalendarタグとBackbone.jsタグを付けて投稿してもらえれば，advent calendar用ページに登録します．<br>
<a href="http://qiita.com/adcal/backbone" class="autolink">http://qiita.com/adcal/backbone</a></p>

<h2>
<span id="backbonejsのイベント登録" class="fragment"></span><a href="#backbonejs%E3%81%AE%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E7%99%BB%E9%8C%B2"><i class="fa fa-link"></i></a>Backbone.jsのイベント登録</h2>

<p>Backboneではイベントを</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"click .hello-button"</span><span class="o">:</span> <span class="s2">"hello"</span>
    <span class="p">},</span>
    <span class="nx">hello</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">"hello!"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div></div>

<p>のように記述するが，eventsはview作成時にbindされるためこの書き方だと動的に作る要素に対して利用できない．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">'.hello-button'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">hello</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">hello</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">"hello!"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div></div>

<p>のように書くという方法もなくはないが，登録イベント数が増えて来るとひどいことになる…</p>

<p>こういう場合は<code>delegateEvents</code>を利用する．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">events</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">"click .dynamic-hello-button"</span><span class="o">:</span> <span class="s2">"hello"</span>
        <span class="p">};</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">delegateEvents</span><span class="p">(</span><span class="nx">events</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">hello</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">"hello!"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div></div>

<p>のように<code>initialize</code>の中で<code>delegateEvents</code>を利用して登録するといい．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />20位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>58</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/bd6774888a790c00e6fd">nginxで設定ファイルチェック</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-03-28 15:08:38</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[nginx]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="http://qiita.com/items/0b92086aedcbdfae56d4">apacheの設定ファイルのシンタックスチェック</a> をnginxで</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>nginx -t -c /path/to/nginx.conf
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />21位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>57</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/0af5d50f4f52d22a46fe">hubコマンドを利用&amp;&amp;プロンプトにgitのブランチ等を表示している人向けのzsh高速化</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-07 12:08:50</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Zsh]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="nv">branchname</span><span class="o">=</span><span class="sb">`</span>git symbolic-ref --short HEAD <span class="m">2</span>&gt; /dev/null<span class="sb">`</span>
</pre></div></div>

<p>のように<code>precmd</code>内でブランチ名を取得してプロンプトに表示，ということをやっている人は多いと思うけど，<a href="http://defunkt.io/hub/" rel="nofollow noopener" target="_blank">hub</a>コマンドを使っていて以下のような設定をしていると毎回<code>hub</code>が呼ばれてしまい，結構重くなる．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="k">function</span> git<span class="o">(){</span>hub <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="o">}</span>
</pre></div></div>

<p>そのため<code>precmd</code>内ではhubを呼ばずにgitそのものを呼ぶようにするとプロンプトの表示がかなり早くなる．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="nb">local</span> <span class="nv">git</span><span class="o">==</span>git
<span class="nv">branchname</span><span class="o">=</span><span class="sb">`</span><span class="si">${</span><span class="nv">git</span><span class="si">}</span> symbolic-ref --short HEAD <span class="m">2</span>&gt; /dev/null<span class="sb">`</span>
<span class="c1"># command git</span>
</pre></div></div>

<p>パスをベタ書きしているのが嫌だけどかなり早くなった．<br>
→コメントより，<code>git==git</code>もしくは<code>command git</code>でokとのこと．<code>git==git</code>は見た目気持ち悪いけど…</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />22位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>56</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/72f3fae3366ad6058295">JavaScriptで選択された文字列を取得</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-10-29 16:31:21</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[JavaScript]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>いつも忘れる．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">selectedText</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">getSelection</span><span class="p">().</span><span class="nx">toString</span><span class="p">();</span>
</pre></div></div>

<p>参考リンク: <a href="https://developer.mozilla.org/en-US/docs/DOM/window.getSelection" rel="nofollow noopener" target="_blank">window.getSelection - Document Object Model (DOM) | MDN</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />23位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>50</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/981d546da95929317628">Railsでのpryコマンド利用設定&amp;実行例</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-11-16 12:14:56</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[Rails]</b> <b>[pry]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><strong>2012/05/30 pry-railsを使うよう編集</strong></p>

<p>pry: <a href="http://pry.github.com/" class="autolink" rel="nofollow noopener" target="_blank">http://pry.github.com/</a><br>
pry-rails: <a href="https://github.com/rweng/pry-rails" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/rweng/pry-rails</a></p>

<h2>
<span id="インストール" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>インストール</h2>

<p><code>gem install pry pry-doc pry-rails</code><br>
pry-docはコアメソッド(Cで実装されているものなど)の情報を見るのに必要．</p>

<h2>
<span id="railsで利用する" class="fragment"></span><a href="#rails%E3%81%A7%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>Railsで利用する</h2>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">Gemfile</span></div>
<div class="highlight"><pre><span></span><span class="n">group</span> <span class="ss">:development</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">'pry'</span>
  <span class="n">gem</span> <span class="s1">'pry-doc'</span>
  <span class="n">gem</span> <span class="s1">'pry-rails'</span>
<span class="k">end</span>
</pre></div>
</div>

<p>以上をGemfileに書き，<code>bundle</code>を実行すれば<code>rails c</code>でpryが実行されるようになる．</p>

<h2>
<span id="実行例" class="fragment"></span><a href="#%E5%AE%9F%E8%A1%8C%E4%BE%8B"><i class="fa fa-link"></i></a>実行例</h2>

<p>以下のようにクラスやオブジェクトを渡り歩いて色々操作できる．</p>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">pry-sample.log</span></div>
<div class="highlight"><pre><span></span>$ rails c
[1] pry(main)&gt; cd Item # Itemクラスに移動する
[2] pry(Item):1&gt; self # self: Itemクラス
=&gt; Item(id: integer, user_id: integer, created_at: datetime, updated_at: datetime, ...)
[3] pry(Item):1&gt; first # Item.first
=&gt; #&lt;Item id: 1, user_id: 1, created_at: "2011-11-04 14:32:09", updated_at: "2011-11-04 14:32:09",  ...&gt;
[4] pry(Item):2&gt; cd first # Item.firstに移動する
[5] pry(#&lt;Item&gt;):3&gt; self # Item.first
=&gt; #&lt;Item id: 1, user_id: 1, created_at: "2011-11-04 14:32:09", updated_at: "2011-11-04 14:32:09", ... &gt;
[6] pry(#&lt;Item&gt;):3&gt; user
=&gt; #&lt;User id: 1, url_name: "yaotti", ...&gt;
[7] pry(#&lt;Item&gt;):3&gt; nesting # 移動した跡を見る
Nesting status:
--
0. main (Pry top level)
1. Item
2. #&lt;Item&gt;
[8] pry(#&lt;Item&gt;):3&gt; .ls # shellのコマンドを実行するときは先頭に.を付ける
Capfile         Guardfile       Rakefile        config          doc             public ...
[9] pry(#&lt;Item&gt;):3&gt; ^D # ctrl-dやexitを実行すると，1つ前のスコープに戻る
[10] pry(Item):2&gt;
</pre></div>
</div>

<h2>
<span id="ランタイムにpry実行" class="fragment"></span><a href="#%E3%83%A9%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%A0%E3%81%ABpry%E5%AE%9F%E8%A1%8C"><i class="fa fa-link"></i></a>ランタイムにpry実行</h2>

<p>ソースコード内に<code>binding.pry</code>を仕込むと，実行時にその行のスコープでpryが実行される．</p>

<h2>
<span id="その他" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96"><i class="fa fa-link"></i></a>その他</h2>

<p>show-methodやedit-methodコマンドなども便利．詳しくは <a href="https://github.com/pry/pry/wiki" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/pry/pry/wiki</a> を参照．<br>
<a href="http://qiita.com/items/2b36068cdf2e40e75c2d" class="autolink">http://qiita.com/items/2b36068cdf2e40e75c2d</a> もまとまっている</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />24位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>48</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/adfa3ffb4a5c3783d2d0">rails-shを使って高速railsサブコマンド &amp; rakeタスク実行</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-09-04 23:57:12</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Rails]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="https://github.com/jugyo/rails-sh" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/jugyo/rails-sh</a> を使うとrakeコマンド実行やrails g XXXが高速に実行できて捗る．</p>

<h2>
<span id="インストール" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>インストール</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ gem i rails-sh
</pre></div></div>

<h2>
<span id="実行" class="fragment"></span><a href="#%E5%AE%9F%E8%A1%8C"><i class="fa fa-link"></i></a>実行</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ rails-sh
rails-sh<span class="o">(</span>qiita<span class="o">)</span>&gt; rake routes
rails-sh<span class="o">(</span>qiita<span class="o">)</span>&gt; rails g migration xxxx
</pre></div></div>

<p>実行してみれば早さがわかると思います．<br>
簡単ですが初めて知ったときライフチェンジングだった&amp;あまり使っている人を見ないので紹介．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />25位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>47</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/ef91dc0c787781024f92">ブランチに説明を書く</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-04-11 15:01:50</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git branch --edit-description <span class="o">[</span>BRANCHNAME<span class="o">]</span>
</pre></div></div>

<p>のようにするとブランチの説明を書くことができる．データは.git/configの中に</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>[branch "foo"]
    description = This is for foo!
</pre></div></div>

<p>のように入っているため，</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>git config branch.foo.description
<span class="c1"># =&gt; This is for foo!</span>
</pre></div></div>

<p>と取り出すことができる．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />26位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>42</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/006e9c3a82f814fa415b">RailsでBackbone.jsを使うときに使えるライブラリや資料など</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-31 23:58:57</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Backbone.js Advent Calendar最終日です．他のエントリは<a href="http://qiita.com/adcal/backbone">こちら</a>をどうぞ．</p>

<p>最後ということで，実際にBackbone.jsを使い始めるのに便利なリンクをまとめておきます．</p>

<h1>
<span id="railsでbackbonejsを使うときに利用できるライブラリ" class="fragment"></span><a href="#rails%E3%81%A7backbonejs%E3%82%92%E4%BD%BF%E3%81%86%E3%81%A8%E3%81%8D%E3%81%AB%E5%88%A9%E7%94%A8%E3%81%A7%E3%81%8D%E3%82%8B%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA"><i class="fa fa-link"></i></a>RailsでBackbone.jsを使うときに利用できるライブラリ</h1>

<p>どちらも<code>rails g backbone:install</code>や<code>rails g backbone:scaffold</code>などを提供する</p>

<h2>
<span id="codebrewbackbone-rails---github" class="fragment"></span><a href="#codebrewbackbone-rails---github"><i class="fa fa-link"></i></a><a href="https://github.com/codebrew/backbone-rails" rel="nofollow noopener" target="_blank">codebrew/backbone-rails - GitHub</a>
</h2>

<ul>
<li>modelやrouterのgeneratorも提供している</li>
</ul>

<h2>
<span id="meleyal--backbone-on-rails---github" class="fragment"></span><a href="#meleyal--backbone-on-rails---github"><i class="fa fa-link"></i></a><a href="https://github.com/meleyal/backbone-on-rails" rel="nofollow noopener" target="_blank">meleyal / backbone-on-rails - GitHub</a>
</h2>

<ul>
<li>
<a href="https://workshops.thoughtbot.com/backbone-js-on-rails" rel="nofollow noopener" target="_blank">thoughtbot workshops</a>の思想を実現している</li>
<li>デフォルトではcoffeescriptで雛形を生成する</li>
</ul>

<p>これら2つの違いについては <a href="https://github.com/meleyal/backbone-on-rails/wiki/How-is-this-gem-different-to-backbone-rails%3F" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/meleyal/backbone-on-rails/wiki/How-is-this-gem-different-to-backbone-rails%3F</a> をどうぞ．</p>

<h1>
<span id="backbonejs全般" class="fragment"></span><a href="#backbonejs%E5%85%A8%E8%88%AC"><i class="fa fa-link"></i></a>Backbone.js全般</h1>

<ul>
<li>
<a href="http://d.hatena.ne.jp/kazuk_i/20110407/1302130947" rel="nofollow noopener" target="_blank">Backbone.jsを利用したクライアントサイドMVCの導入についてそろそろ書いておくか - 出町ミスド攻防記</a>

<ul>
<li>Backbone.js，クライアントサイドMVCについての詳細な説明．</li>
</ul>
</li>
<li>
<a href="http://kyanny.hatenablog.jp/entry/2011/12/31/014659" rel="nofollow noopener" target="_blank">Backbone.js のソースコードを読んだ - 刺身☆ブーメランのはてなブログ</a>

<ul>
<li>コードリーディングの記録．</li>
</ul>
</li>
<li>
<a href="http://d.hatena.ne.jp/hamhei/20111202/1322814067" rel="nofollow noopener" target="_blank">『Backbone.jsの1番良いリファレンスを頼む』へのAwesomeな回答を翻訳してみた - hamheiの日記</a>

<ul>
<li>
<a href="http://www.quora.com/What-are-some-good-resources-for-Backbone-js" rel="nofollow noopener" target="_blank">What are some good resources for Backbone.js? - Quora</a>の翻訳+α．多くのリンクが集められており，一通り読むとBackbone.jsについて大体わかると思います</li>
</ul>
</li>
<li>
<a href="http://qiita.com/adcal/backbone">Advent Calendar for Backbone.js - Qiita</a>

<ul>
<li>12/11からのBackbone.js入門シリーズはとても貴重な日本語コンテンツ．これからBackbone.jsを試す人は必読．</li>
<li>Backbone.jsについて日本一情報が集まった場所だと思う!</li>
</ul>
</li>
</ul>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />27位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>41</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b530ffd36f5ea265e0eb">Xcodeでよく使うショートカット</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-18 10:33:00</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Xcode]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="cmd--ctrl--updown" class="fragment"></span><a href="#cmd--ctrl--updown"><i class="fa fa-link"></i></a>cmd + ctrl + Up/Down</h2>

<p>ヘッダファイルとソースファイルの切り替え．<br>
(普段はEmacsで書いているけどブレークポイント設定などで使う)</p>

<h2>
<span id="cmd--shift--o" class="fragment"></span><a href="#cmd--shift--o"><i class="fa fa-link"></i></a>cmd + shift + o</h2>

<p><code>open quickly</code><br>
プロジェクトからファイルやシンボル名でインクリメンタル検索し，マッチしたものを即座に開ける</p>

<h2>
<span id="cmd--click" class="fragment"></span><a href="#cmd--click"><i class="fa fa-link"></i></a>cmd + click</h2>

<p>クリックしたシンボルの定義場所にジャンプする</p>

<h2>
<span id="cmd--数字07" class="fragment"></span><a href="#cmd--%E6%95%B0%E5%AD%9707"><i class="fa fa-link"></i></a>cmd + 数字(0~7)</h2>

<p>1~7の場合は左メニューのタブ切り替え．cmd+1(ファイルツリー表示)とcmd+4(エラー/ワーニング表示)はよく使う．<br>
cmd+0は左メニューを隠す．ちなみに右メニューを隠すにはopt+cmd+shift</p>

<h2>
<span id="cmd--br" class="fragment"></span><a href="#cmd--br"><i class="fa fa-link"></i></a>cmd + b/r</h2>

<p>b: ビルド<br>
r: 実行</p>

<h2>
<span id="cmd--shift--k--option" class="fragment"></span><a href="#cmd--shift--k--option"><i class="fa fa-link"></i></a>cmd + shift + k (+ option)</h2>

<p>Clean<br>
optionも指定するとClean Build Folder</p>

<h2>
<span id="cmd--ctrl--leftright" class="fragment"></span><a href="#cmd--ctrl--leftright"><i class="fa fa-link"></i></a>cmd + ctrl + Left/Right</h2>

<p>開いているコードの切り替え．Go back/Go forward</p>

<p>他にも便利なものがあれば追記するので教えてください！</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />28位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>40</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/8a79019270c5089b4368">TwitterやQiitaのような自動更新タイムラインをBackbone.jsで作成</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-29 12:12:32</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Qiitaでは新しい投稿がある場合にその件数を表示し，クリックするとタイムラインに追加するということをやっています．TwitterやFacebookと同じ仕組みですね．<br>
これはBackbone.jsの<code>Backbone.Collection#fetch</code>を使うと簡単に実装できます．</p>

<h2>
<span id="コード" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>コード</h2>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="c1">// アイテムのコレクションを実装</span>
<span class="kd">var</span> <span class="nx">TimelineItems</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
        <span class="nx">model</span><span class="o">:</span> <span class="nx">Item</span> <span class="c1">// 投稿のモデル</span>
 <span class="p">});</span>
<span class="c1">// 新規投稿のみを取得する</span>
<span class="c1">// "/items?after=123"でid:123以降のアイテム情報がJSONで返ってくる想定</span>
<span class="nx">TimelineItems</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span> <span class="nx">url</span><span class="o">:</span> <span class="s1">'/items?after='</span> <span class="o">+</span> <span class="nx">TimelineItems</span><span class="p">.</span><span class="nx">models</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">,</span> <span class="nx">add</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>
</pre></div></div>

<p><code>add: true</code>をfetchの引数に渡すことで，fetchしたときに返ってきたデータをcollectionに追加することができます．あとはViewに適切にイベントを設定しておけば，fetchによってビューの見た目が更新されます．<br>
イベントまわりの話は<a href="http://qiita.com/items/1413">Backbone.js入門 「View と Model と Collection の連携」</a>でわかりやすく説明されています．<br>
このfetchを定期的に呼んでやることで自動更新タイムラインを作ることができます．</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>setInterval(function() {
    TimelineItems.fetch({ url: '/items?after=' + TimelineItems.models[0].id, add: true });
}, 1000 * 180);
</pre></div></div>

<p>ざっくりとした説明でしたが，<code>fetch</code>をうまく使うことで取得した投稿の管理やビューの更新を簡単に行うことができます:)</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />29位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>37</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/178c802bc4bec79f4744">tig blameが良い</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-07-06 16:20:17</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> <b>[tig]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>git blame -&gt; git showが簡単にできる．</p>

<p><code>tig blame FILENAME</code>するとgit blame表示してくれる&amp;気になる行にカーソルを合わせてEnterを押すとそのコミットのgit showを表示してくれる．</p>

<h2>
<span id="tig-blame-libresquerb" class="fragment"></span><a href="#tig-blame-libresquerb"><i class="fa fa-link"></i></a>tig blame lib/resque.rb</h2>

<p><a href="https://camo.qiitausercontent.com/b9db4b45bf7ca3254631547a3dd98cc5fd0f0d94/687474703a2f2f646c2e64726f70626f782e636f6d2f752f3136343535392f73637265656e73686f74732f32303132303730365f3136313632372e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/b9db4b45bf7ca3254631547a3dd98cc5fd0f0d94/687474703a2f2f646c2e64726f70626f782e636f6d2f752f3136343535392f73637265656e73686f74732f32303132303730365f3136313632372e706e67" alt="" data-canonical-src="http://dl.dropbox.com/u/164559/screenshots/20120706_161627.png"></a></p>

<h2>
<span id="適当な行でenter押したところ" class="fragment"></span><a href="#%E9%81%A9%E5%BD%93%E3%81%AA%E8%A1%8C%E3%81%A7enter%E6%8A%BC%E3%81%97%E3%81%9F%E3%81%A8%E3%81%93%E3%82%8D"><i class="fa fa-link"></i></a>適当な行でEnter押したところ</h2>

<p><a href="https://camo.qiitausercontent.com/b623aa730b4f797aec798b80def0562b2534de52/687474703a2f2f646c2e64726f70626f782e636f6d2f752f3136343535392f73637265656e73686f74732f32303132303730365f3136313732302e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/b623aa730b4f797aec798b80def0562b2534de52/687474703a2f2f646c2e64726f70626f782e636f6d2f752f3136343535392f73637265656e73686f74732f32303132303730365f3136313732302e706e67" alt="" data-canonical-src="http://dl.dropbox.com/u/164559/screenshots/20120706_161720.png"></a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />30位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>37</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/8fdef98329012255fa1d">Backbone.jsでRailsのCSFR防止tokenをうまく扱う</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-25 18:17:21</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="rails3backboneでハマるポイント" class="fragment"></span><a href="#rails3backbone%E3%81%A7%E3%83%8F%E3%83%9E%E3%82%8B%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88"><i class="fa fa-link"></i></a>Rails3+Backboneでハマるポイント</h2>

<p>Rails 3では，CSRFを防止するためにPOSTリクエストに専用のトークンを要求する仕組みがあります．<br>
このトークンチェックを必須にした場合，Backbone.jsでのsyncやsaveなどで送るデータでもこのトークンをパラメタとして渡す必要があるため，saveなどで毎回<code>authenticity_token: token</code>を書かなければいけません．<br>
もし書き忘れると「なぜかPOSTリクエストがうまく送れない」という事態になります．僕はこれによくハマりました…</p>

<h2>
<span id="対応" class="fragment"></span><a href="#%E5%AF%BE%E5%BF%9C"><i class="fa fa-link"></i></a>対応</h2>

<p>そこでsyncやsaveが内部的に使っているBackbone.syncを書き換え，tokenを必ず渡すようにします．<br>
実際に書き換えるのはBackbonel.Model.toJSONです．JSONを作るときにtokenを差し込むようにします．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'meta[name="csrf-token"]'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'content'</span><span class="p">);</span>
<span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toJSON</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">_</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">)).</span><span class="nx">extend</span><span class="p">({</span>
        <span class="nx">authenticity_token</span><span class="o">:</span> <span class="nx">token</span>
    <span class="p">});</span>
<span class="p">};</span>
</pre></div></div>

<p>あんまり綺麗なやり方じゃないですが，不要にはまるのを避けられます:D</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />31位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>36</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/be13aade42c996d80d14">文字列に同じ処理を繰り返し実行したい時に便利なキーボードマクロ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-01 12:07:19</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Emacs]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>数百件程度の改行区切りのデータをカンマ区切りにしたいとか，「文字列に対して簡単な処理を数十回/数百回実行したい，でもプログラムを書くほどでもない」というときはキーボードマクロが便利．<br>
キーボードマクロとは一連のキーボード操作をコマンドに定義したもの．定義したコマンド(キーボードマクロ)は簡単に繰り返し実行ができる．</p>

<h2>
<span id="利用例" class="fragment"></span><a href="#%E5%88%A9%E7%94%A8%E4%BE%8B"><i class="fa fa-link"></i></a>利用例</h2>

<p>以下では改行区切りのデータをquoteしてカンマ区切りにする，という処理を例に説明する．</p>

<div class="code-frame" data-lang="txt">
<div class="code-lang"><span class="bold">処理前</span></div>
<div class="highlight"><pre><span></span>foo
bar
baz
...
</pre></div>
</div>

<div class="code-frame" data-lang="txt">
<div class="code-lang"><span class="bold">処理後</span></div>
<div class="highlight"><pre><span></span>'foo', 'bar', 'baz', ...
</pre></div>
</div>

<h3>
<span id="作業手順" class="fragment"></span><a href="#%E4%BD%9C%E6%A5%AD%E6%89%8B%E9%A0%86"><i class="fa fa-link"></i></a>作業手順</h3>

<ol>
<li>適当なバッファ(<em>scratch</em>とか)に処理したい文字列を貼る(今回は<code>foo\nbar\nbaz</code>...)</li>
<li>繰り返し実行したいキーボード処理を考える．今回ならば以下の作業で1行目(foo)の処理が終わる．(スタート時にカーソルは1行目の<code>f</code>にあるとする)

<ul>
<li>
<code>'</code>を入力</li>
<li>C-eで行末に移動(カーソルは<code>o</code>に移動する)</li>
<li>
<code>',</code>を入力</li>
<li>C-dで改行を削除</li>
</ul>
</li>
<li>2の処理をキーボードマクロに定義する．定義方法は簡単で，<code>C-x(</code> -&gt; 定義したいキーボード処理を操作 -&gt; <code>C-x)</code>とするだけ．</li>
<li>定義したマクロの実行は<code>C-xe</code>(execution)．連続実行は<code>C-xeeeee...</code>.</li>
<li>大量に実行したい時は<code>C-u100C-xe</code>などとすればよい</li>
</ol>

<p>他のキーバインドなど，詳細は <a href="http://www.bookshelf.jp/texi/emacs-man/21-3/jp/emacs_16.html" rel="nofollow noopener" target="_blank">GNU Emacsマニュアル: M. キーボードマクロ</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />32位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>36</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/d0f859fa9a026a547383">XXmallocのメモリ管理アルゴリズムについてわかりやすい記事</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-11-11 09:41:01</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[memory]</b> <b>[malloc]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>dlmalloc, tcmalloc, jemallocについて，以下の各記事を読めば各mallocのアルゴリズムはわかるはず．</p>

<h2>
<span id="dlmalloc" class="fragment"></span><a href="#dlmalloc"><i class="fa fa-link"></i></a>dlmalloc</h2>

<p>Linuxの一部やAndroidのDalvik VMで利用されている．シンプルながらうまく考えられている．<br>
チャンク(連続空き領域1つ)の境界と構造体の境界が違う所が罠．<br>
<a href="http://g.oswego.edu/dl/html/malloc.html" class="autolink" rel="nofollow noopener" target="_blank">http://g.oswego.edu/dl/html/malloc.html</a><br>
<a href="http://mkosaki.blog46.fc2.com/blog-entry-241.html" class="autolink" rel="nofollow noopener" target="_blank">http://mkosaki.blog46.fc2.com/blog-entry-241.html</a> にわかりやすい講演資料が，と思ったら動画がprivateになってる…</p>

<h2>
<span id="tcmalloc" class="fragment"></span><a href="#tcmalloc"><i class="fa fa-link"></i></a>tcmalloc</h2>

<p>thread-caching malloc. Googleで利用されている．<br>
スレッドがキャッシュ持つのでfreeしてもメモリ利用量が減らない!のが罠．<br>
<a href="http://goog-perftools.sourceforge.net/doc/tcmalloc.html" class="autolink" rel="nofollow noopener" target="_blank">http://goog-perftools.sourceforge.net/doc/tcmalloc.html</a></p>

<h2>
<span id="jemalloc" class="fragment"></span><a href="#jemalloc"><i class="fa fa-link"></i></a>jemalloc</h2>

<p>Facebookが高速化やモニタ機能追加などの改良を加えて利用している．キャッシュ構造を頑張ってる印象<br>
<a href="https://www.facebook.com/note.php?note_id=480222803919" class="autolink" rel="nofollow noopener" target="_blank">https://www.facebook.com/note.php?note_id=480222803919</a><br>
<strong>追加:</strong> 和訳 by <a href="/repeatedly" class="user-mention js-hovercard" title="repeatedly" data-hovercard-target-type="user" data-hovercard-target-name="repeatedly">@repeatedly</a>: <a href="http://d.hatena.ne.jp/repeatedly/20110110/1294634486" class="autolink" rel="nofollow noopener" target="_blank">http://d.hatena.ne.jp/repeatedly/20110110/1294634486</a><br>
論文： <a href="https://docs.google.com/viewer?url=http://www.unixhowto.de/docs/jemalloc.pdf&amp;pli=1" class="autolink" rel="nofollow noopener" target="_blank">https://docs.google.com/viewer?url=http://www.unixhowto.de/docs/jemalloc.pdf&amp;pli=1</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />33位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>33</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b51cad7e93459aa54bca">hubotをherokuで動かす</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-10-26 12:12:50</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[GitHub]</b> <b>[Hubot]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>hubot: GitHubで使われているCampfire用のbot．IRCやTwilloなどのインターフェースもある． <br>
<a href="https://github.com/github/hubot" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/github/hubot</a><br>
HubotをGitHubがどう使っているかは以下のリンク参照<br>
<a href="http://www.slideshare.net/rubymeetup/inside-github-with-chris-wanstrath" class="autolink" rel="nofollow noopener" target="_blank">http://www.slideshare.net/rubymeetup/inside-github-with-chris-wanstrath</a><br>
<a href="http://speakerdeck.com/u/schacon/p/robots-beer-and-maslow" class="autolink" rel="nofollow noopener" target="_blank">http://speakerdeck.com/u/schacon/p/robots-beer-and-maslow</a><br>
<a href="http://speakerdeck.com/u/holman/p/how-github-uses-github-to-build-github" class="autolink" rel="nofollow noopener" target="_blank">http://speakerdeck.com/u/holman/p/how-github-uses-github-to-build-github</a></p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>mkdir ~/hubot
<span class="nb">cd</span> ~/hubot
wget --no-check-certificate https://github.com/downloads/github/hubot/hubot-1.0.3.tar.gz
tar zxvf hubot-1.0.3.tar.gz
<span class="nb">cd</span> hubot
git init
git add .
git commit -m <span class="s1">'initial commit'</span>
heroku create --stack cedar
git push heroku master
heroku ps:scale <span class="nv">app</span><span class="o">=</span><span class="m">1</span>
<span class="c1"># redis用サーバーを追加するにはherokuアカウントのverificationが必要</span>
heroku addons:add redistogo:nano

<span class="c1"># IRCbotとして動かす場合</span>
heroku config:add <span class="nv">HUBOT_IRC_SERVER</span><span class="o">=</span><span class="s2">"irc.freenode.net"</span>
<span class="c1"># 参加させるチャンネルを comma区切りで指定</span>
heroku config:add <span class="nv">HUBOT_IRC_ROOMS</span><span class="o">=</span><span class="s2">"#github,#node.js"</span>
heroku config:add <span class="nv">HUBOT_IRC_NICK</span><span class="o">=</span><span class="s2">"I_AM_HUBOT"</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />34位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>32</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/78b81fb50f0ce995ed7d">underscore.js入門</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-04 21:30:26</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="backbonejs-advent-calendar-4日目" class="fragment"></span><a href="#backbonejs-advent-calendar-4%E6%97%A5%E7%9B%AE"><i class="fa fa-link"></i></a>Backbone.js Advent Calendar 4日目</h1>

<p>参加はこちらから! <a href="http://atnd.org/events/22017" class="autolink" rel="nofollow noopener" target="_blank">http://atnd.org/events/22017</a></p>

<p>Backbone.jsはunderscore.jsというものに(唯一)依存しており，利用する場合はunderscore.jsもロードしてやらなければなりません．<br>
ではこのunderscore.jsとは何なのかというと，配列操作やオブジェクト処理に便利な関数群を提供するライブラリです．ざっくり言うと配列や連想配列などがRubyっぽい形で操作できるようになります．</p>

<h2>
<span id="使い方" class="fragment"></span><a href="#%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>使い方</h2>

<p>underscore.jsはロードすると<code>_</code>を定義します．使い方は以下の2通りです．</p>

<ul>
<li>
<code>_</code>を関数として利用する

<ul>
<li>例: <code>_.each(array, function(element) { ... });</code>
</li>
</ul>
</li>
<li>オブジェクト指向的につかい，対象オブジェクトをラップしてメソッドを利用する

<ul>
<li>例: <code>_(array).each(function(element) { ... });</code>
</li>
</ul>
</li>
</ul>

<p>Rubyに慣れている人ならかなり書き易く感じると思います．<br>
以下いくつか便利な関数の利用方法</p>

<h3>
<span id="each" class="fragment"></span><a href="#each"><i class="fa fa-link"></i></a>each</h3>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="nx">_</span><span class="p">({</span><span class="nx">a</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span><span class="mi">3</span><span class="p">}).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span><span class="nx">k</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"key: "</span> <span class="o">+</span> <span class="nx">k</span> <span class="o">+</span> <span class="s2">", value: "</span> <span class="o">+</span> <span class="nx">v</span><span class="p">);</span> <span class="p">})</span>
<span class="c1">// key: a, value: 1</span>
<span class="c1">// key: b, value: 2</span>
<span class="c1">// key: c, value: 3</span>
</pre></div></div>

<h3>
<span id="tap" class="fragment"></span><a href="#tap"><i class="fa fa-link"></i></a>tap</h3>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="nx">_</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]).</span><span class="nx">chain</span><span class="p">().</span><span class="nx">tap</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span> <span class="k">return</span> <span class="nx">n</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span> <span class="p">}).</span><span class="nx">value</span><span class="p">();</span>
<span class="c1">// [1, 2, 3] (console.logで表示される)</span>
<span class="c1">// [3, 6, 9] (全体の返り値)</span>
</pre></div></div>

<p>以上，簡単でしたがunderscore.jsの便利さが伝われば嬉しいです．<br>
その他underscore.jsで提供される関数についてはドキュメントを．<a href="http://documentcloud.github.com/underscore/" class="autolink" rel="nofollow noopener" target="_blank">http://documentcloud.github.com/underscore/</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />35位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>29</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/f9d36f142fc232fdbdf2">コマンド1つでRails開発用tmuxパネルを構築する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-05-30 15:07:33</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Rails]</b> <b>[tmux]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="追記" class="fragment"></span><a href="#%E8%BF%BD%E8%A8%98"><i class="fa fa-link"></i></a>追記</h2>

<p><a href="http://qiita.com/items/869b00fdde27c2225989">tmuxinatorで一瞬で開発環境を起動する</a>にあるtmuxinatorを使うと，gemを入れてyamlファイルを書くだけで以下のようなことができるようです．<br>
<strong>追記ここまで</strong></p>

<p>以下のファイルを<code>~/.tmux/ror.conf</code>などに保存し，tmuxを立ち上げてから<code>tmux source-file ~/.tmux/ror.conf</code>を実行すると，ログ用ウィンドウやpry用ウィンドウなどを作ってくれる．</p>

<h1>
<span id="利用しているツール" class="fragment"></span><a href="#%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>利用しているツール</h1>

<ul>
<li>tmux v1.6</li>
<li>powder v0.1.6

<ul>
<li><a href="https://github.com/rodreegez/powder" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/rodreegez/powder</a></li>
</ul>
</li>
<li>spork v1.0.0rc2</li>
<li>pry v0.9.9.6</li>
</ul>

<h1>
<span id="設定ファイル" class="fragment"></span><a href="#%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB"><i class="fa fa-link"></i></a>設定ファイル</h1>

<div class="code-frame" data-lang="config">
<div class="code-lang"><span class="bold">ror.conf</span></div>
<div class="highlight"><pre><span></span># Settings for Rails project
# $ tmux source-file ~/.tmux/ror.conf
# 
# Set up 3 windows
# 1: LOG: rails logs with powder
# 2: TEST: execute spork
# 3: pry (rails c) &amp; rails-sh

# To create three new windows
# neww
# neww
# neww

# 0
select-window -t 0
send-keys 'git status' C-m

# 1
select-window -t 1
rename-window LOG
split-window -h
send-keys -t LOG.0 'powder applog | grep -vE "(^\s*$|asset)"' C-m
send-keys -t LOG.1 'powder log' C-m

# 2
select-window -t 2
rename-window TEST
split-window -h
send-keys -t TEST.0 'bundle exec spork' C-m
send-keys -t TEST.1 'bundle exec spec'

# 3
select-window -t 3
rename-window PRY_RAILS-SH
split-window -h
send-keys -t PRY_RAILS-SH.0 'rails c' C-m
send-keys -t PRY_RAILS-SH.1 'rails-sh' C-m

# Back to 0
select-window -t 0
</pre></div>
</div>

<p>tmuxで特定ウィンドウ/paneでコマンドを実行する方法は <a href="http://qiita.com/items/5e3e047569aa15187c49" class="autolink">http://qiita.com/items/5e3e047569aa15187c49</a> を参考にした．<br>
<code>tmux send-keys -t name.0 'ls' C-m</code></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />36位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>27</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b72373f7e4bc79b13568">コマンド実行に一定時間以上かかった場合処理時間を表示する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-11-01 13:40:24</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Zsh]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="zshrc"><div class="highlight"><pre><span></span>REPORTTIME=3
</pre></div></div>

<p>上記のように書いておけば，コマンド実行に3秒以上かかったときにtimeコマンドと同じように処理時間を出してくれる</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ ec2-describe-regions
REGION eu-west-1 ec2.eu-west-1.amazonaws.com
REGION sa-east-1 ec2.sa-east-1.amazonaws.com
...
ec2-describe-regions <span class="m">10</span>.14s user <span class="m">0</span>.68s system <span class="m">77</span>% cpu <span class="m">14</span>.018 total
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />37位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>27</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/9ad24c41f37e8083ea0e">NSManagedObjectの属性アクセサ作成は@synthesizeではなく@dynamic</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-02-27 13:51:49</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><code>@dynamic</code>はアクセサ作成をするわけではないので厳密に言うとタイトルは違うけど．<br>
<code>@synthesize</code>と<code>@dynamic</code>の違いは基本的なポイントだけど，きちんと理解して使い分けないと思わぬところでハマる．</p>

<p>CoreDataを使うためにNSManagedObjectを継承した専用クラスを作ったとき，属性へのアクセサを作るためにヘッダに<code>@property XXX;</code>，*.mに<code>@dynamic XXX;</code>と書く．<code>@dynamic</code>にするのは<code>NSManagedObject</code>側で各属性のセッタ/ゲッタを作ってくれるから．<br>
このとき<code>@dynamic</code>ではなく<code>@synthesize</code>としてしまうとCoreData用のアクセサ(<code>-setValue:forKey:</code>)が使われず，普通のアクセサが作られる．<br>
つまりNSManagedObjectを変更しているつもりが変更されず，CoreDataに編集データが保存されないというバグになる．一見挙動が同じように見える(値の編集や取得も出来ているように見える)分困る…</p>

<div class="code-frame" data-lang="objc">
<div class="code-lang"><span class="bold">MyObj.h</span></div>
<div class="highlight"><pre><span></span><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyObj</span> : <span class="bp">NSManagedObject</span>

<span class="k">@property</span> <span class="p">(</span><span class="k">retain</span><span class="p">)</span> <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>

<span class="k">@end</span>
</pre></div>
</div>

<div class="code-frame" data-lang="objc">
<div class="code-lang"><span class="bold">MyObj.m</span></div>
<div class="highlight"><pre><span></span><span class="cp">#import "MyObj.h"</span>

<span class="k">@implementation</span> <span class="nc">MyObj</span>
<span class="k">@dynamic</span> <span class="n">title</span><span class="p">;</span>
<span class="c1">// @synthesize title; // &lt;- NG!</span>
<span class="k">@end</span>
</pre></div>
</div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />38位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>26</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/d7196870dee5ba738b90">git checkoutでよくやる操作</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-01 23:12:27</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="リモートブランチをチェックアウト追跡する" class="fragment"></span><a href="#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%82%A2%E3%82%A6%E3%83%88%E8%BF%BD%E8%B7%A1%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>リモートブランチをチェックアウト+追跡する</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git checkout foo <span class="c1"># ローカルにfooブランチが無い場合</span>
</pre></div></div>

<p>ローカルにfooブランチがある場合は</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git checkout -b new-foo --track origin/foo
</pre></div></div>

<p>など．</p>

<h2>
<span id="特定リビジョンの1ファイルをcheckoutする" class="fragment"></span><a href="#%E7%89%B9%E5%AE%9A%E3%83%AA%E3%83%93%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE1%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92checkout%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>特定リビジョンの1ファイルをcheckoutする</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git checkout sha1_or_branch_name -- path/to/file.sh
</pre></div></div>

<p>ブランチは切り替えない．<code>-p</code>オプションを付けると<code>git add -p</code>のように各hunkを適用するか選択できる．</p>

<h2>
<span id="indexに追加していない変更を消す" class="fragment"></span><a href="#index%E3%81%AB%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E5%A4%89%E6%9B%B4%E3%82%92%E6%B6%88%E3%81%99"><i class="fa fa-link"></i></a>indexに追加していない変更を消す</h2>

<p>既にgit addしたものは残し，カレントディレクトリ以下のaddしていない変更を全部消す．よく使う．</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>git checkout .
</pre></div></div>

<p>一部のみ取り消すなら-pオプションを付ければよい(<a href="http://qiita.com/items/98fbc42faedc02492397">gitで変更の一部のみコミット対象とする/変更を取り消す</a>)．<br>
addしているものも含めるなら普通に<code>git reset --hard</code>する．</p>

<h2>
<span id="git-chekcout--" class="fragment"></span><a href="#git-chekcout--"><i class="fa fa-link"></i></a><code>git chekcout -</code>
</h2>

<p>他にも<a href="http://qiita.com/items/bb81fe699b833ae20d4a">gitのブランチ移動</a>はよく使う．</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="c1"># topic branchで実装を終えた</span>
git checkout master
git merge --no-ff -
</pre></div></div>

<p>みたいな形．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />39位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>25</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/f2971728c845c75e9967">深いディレクトリに移動するとき楽する方法</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-02 17:47:59</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Zsh]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>例えば<code>foooo/barrr/bazzz</code>というディレクトリに移動するとき，<code>cd f[TAB]b[TAB]b[TAB][ENTER]</code>とか面倒.</p>

<div class="code-frame" data-lang="sh">
<div class="code-lang"><span class="bold">~/.zshrc</span></div>
<div class="highlight"><pre><span></span>autoload -U compinit <span class="o">&amp;&amp;</span> compinit
</pre></div>
</div>

<p>上記の設定をしておけば，<code>cd f/b/b[TAB]</code>で<code>cd foooo/barrr/bazzz</code>と展開される(もちろんuniqueに決定できるとき)．<br>
しかし大体の人は補完を有効にするため既に設定しているはず．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />40位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>25</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/11d6cea26d3c7111ea8c">sinatraでBasic認証</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-03-14 17:15:58</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[Sinatra]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>特定のアクションのみに認証をかける場合</p>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="n">helpers</span> <span class="k">do</span>
  <span class="k">def</span> <span class="nf">protected!</span>
    <span class="k">unless</span> <span class="n">authorized?</span>
      <span class="n">response</span><span class="o">[</span><span class="s1">'WWW-Authenticate'</span><span class="o">]</span> <span class="o">=</span> <span class="sx">%(Basic realm="Restricted Area")</span>
      <span class="kp">throw</span><span class="p">(</span><span class="ss">:halt</span><span class="p">,</span> <span class="o">[</span><span class="mi">401</span><span class="p">,</span> <span class="s2">"Not authorized</span><span class="se">\n</span><span class="s2">"</span><span class="o">]</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">authorized?</span>
    <span class="vi">@auth</span> <span class="o">||=</span>  <span class="no">Rack</span><span class="o">::</span><span class="no">Auth</span><span class="o">::</span><span class="no">Basic</span><span class="o">::</span><span class="no">Request</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">env</span><span class="p">)</span>
    <span class="vi">@auth</span><span class="o">.</span><span class="n">provided?</span> <span class="o">&amp;&amp;</span> <span class="vi">@auth</span><span class="o">.</span><span class="n">basic?</span> <span class="o">&amp;&amp;</span> <span class="vi">@auth</span><span class="o">.</span><span class="n">credentials</span> <span class="o">&amp;&amp;</span> <span class="vi">@auth</span><span class="o">.</span><span class="n">credentials</span> <span class="o">==</span> <span class="o">[</span><span class="s1">'changeme'</span><span class="p">,</span> <span class="s1">'changeme'</span><span class="o">]</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/protected'</span> <span class="k">do</span>
  <span class="kp">protected</span><span class="o">!</span>
  <span class="s2">"Protected page"</span>
<span class="k">end</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />41位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>25</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/d0d4959510acd9fd1abf">今いるgitレポジトリ内のファイルを一瞬で開くelisp</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-03-02 17:25:52</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Emacs]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>自分で書いたelispの中で一番重宝しているもの．<br>
以下のコードを適当なところ(init.elなど)に貼れば，<code>C-;</code>でそのプロジェクト内のファイルをanything絞りこみして開ける．</p>

<div class="code-frame" data-lang="elisp">
<div class="code-lang"><span class="bold">anything-git-project.el</span></div>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nb">defun</span> <span class="nv">anything-c-sources-git-project-for</span> <span class="p">(</span><span class="nv">pwd</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">loop</span> <span class="nv">for</span> <span class="nf">elt</span> <span class="nv">in</span>
        <span class="o">'</span><span class="p">((</span><span class="s">"Modified files (%s)"</span> <span class="o">.</span> <span class="s">"--modified"</span><span class="p">)</span>
          <span class="p">(</span><span class="s">"Untracked files (%s)"</span> <span class="o">.</span> <span class="s">"--others --exclude-standard"</span><span class="p">)</span>
          <span class="p">(</span><span class="s">"All controlled files in this project (%s)"</span> <span class="o">.</span> <span class="s">""</span><span class="p">))</span>
        <span class="nv">collect</span>
        <span class="o">`</span><span class="p">((</span><span class="nv">name</span> <span class="o">.</span> <span class="o">,</span><span class="p">(</span><span class="nf">format</span> <span class="p">(</span><span class="nf">car</span> <span class="nf">elt</span><span class="p">)</span> <span class="nv">pwd</span><span class="p">))</span>
          <span class="p">(</span><span class="nv">init</span> <span class="o">.</span> <span class="p">(</span><span class="nb">lambda</span> <span class="p">()</span>
                    <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="k">and</span> <span class="o">,</span><span class="p">(</span><span class="nv">string=</span> <span class="p">(</span><span class="nf">cdr</span> <span class="nf">elt</span><span class="p">)</span> <span class="s">""</span><span class="p">)</span> <span class="c1">;update candidate buffer every time except for that of all project files</span>
                                 <span class="p">(</span><span class="nv">anything-candidate-buffer</span><span class="p">))</span>
                      <span class="p">(</span><span class="nb">with-current-buffer</span>
                          <span class="p">(</span><span class="nv">anything-candidate-buffer</span> <span class="ss">'global</span><span class="p">)</span>
                        <span class="p">(</span><span class="nf">insert</span>
                         <span class="p">(</span><span class="nv">shell-command-to-string</span>
                          <span class="o">,</span><span class="p">(</span><span class="nf">format</span> <span class="s">"git ls-files $(git rev-parse --show-cdup) %s"</span>
                                   <span class="p">(</span><span class="nf">cdr</span> <span class="nf">elt</span><span class="p">))))))))</span>
          <span class="p">(</span><span class="nv">candidates-in-buffer</span><span class="p">)</span>
          <span class="p">(</span><span class="nv">type</span> <span class="o">.</span> <span class="nv">file</span><span class="p">))))</span>

<span class="p">(</span><span class="nb">defun</span> <span class="nv">anything-git-project</span> <span class="p">()</span>
  <span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">pwd</span> <span class="nv">default-directory</span><span class="p">)</span>
         <span class="p">(</span><span class="nv">sources</span> <span class="p">(</span><span class="nv">anything-c-sources-git-project-for</span> <span class="nv">pwd</span><span class="p">)))</span>
    <span class="p">(</span><span class="nv">anything-other-buffer</span> <span class="nv">sources</span>
     <span class="p">(</span><span class="nf">format</span> <span class="s">"*Anything git project in %s*"</span> <span class="nv">pwd</span><span class="p">))))</span>
<span class="p">(</span><span class="nf">define-key</span> <span class="nv">global-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"C-;"</span><span class="p">)</span> <span class="ss">'anything-git-project</span><span class="p">)</span>
</pre></div>
</div>

<p>実行すると以下のようにそのレポジトリ内のファイルが一覧表示され，そこから絞り込んでファイルを開ける．</p>

<p><a href="https://camo.qiitausercontent.com/e424c1a803273972a0f345a1489e91f7bd5cab29/687474703a2f2f662e636c2e6c792f6974656d732f3138306a306a30753143316233483247337630682f53637265656e25323053686f74253230323031322d30332d30322532306174253230352e32332e3238253230504d2e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/e424c1a803273972a0f345a1489e91f7bd5cab29/687474703a2f2f662e636c2e6c792f6974656d732f3138306a306a30753143316233483247337630682f53637265656e25323053686f74253230323031322d30332d30322532306174253230352e32332e3238253230504d2e706e67" alt="" data-canonical-src="http://f.cl.ly/items/180j0j0u1C1b3H2G3v0h/Screen%20Shot%202012-03-02%20at%205.23.28%20PM.png"></a></p>

<p>編集してコミットしてないファイルやトラックされていないファイルは分けて表示してくれる．便利．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />42位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>24</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/75360fa1a44d96da8626">translation missingなとき例外を投げる</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-01-22 11:22:23</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Rails]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">config/initializers/i18n-translation-missing-error.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">module</span> <span class="nn">I18n</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">just_raise_that_exception</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="no">Rails</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span> <span class="n">args</span><span class="o">.</span><span class="n">first</span>
    <span class="k">raise</span> <span class="s2">"i18n: </span><span class="si">#{</span><span class="n">args</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s2">"</span> <span class="k">unless</span> <span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">production?</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">I18n</span><span class="o">.</span><span class="n">exception_handler</span> <span class="o">=</span> <span class="ss">:just_raise_that_exception</span>
</pre></div>
</div>

<p>production環境では例外を投げないように&amp;ログ出力するように<br>
<a href="http://guides.rubyonrails.org/i18n.html#using-different-exception-handlers" rel="nofollow noopener" target="_blank">Ruby on Rails Guides: Rails Internationalization (I18n) API</a>のコードを少し変更．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />43位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>24</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/efa31411eb5ffd9bb6f8">pry/irbの`_`</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-05 00:07:22</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[pry]</b> <b>[irb]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>pryやirbで何か処理を実行したとき，結果を変数に代入し忘れたときに使う．以下pryでの実行例</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">1</span><span class="o">]</span> pry<span class="o">(</span>main<span class="o">)</span> &gt; User.find_by_url_name<span class="o">(</span><span class="s1">'yaotti'</span><span class="o">)</span> <span class="c1"># 本当はuser = User.find_by... としたかった</span>
<span class="o">=</span>&gt; <span class="c1">#&lt;User id: 1, url_name: "yaotti", ...&gt;</span>
<span class="o">[</span><span class="m">2</span><span class="o">]</span> pry<span class="o">(</span>main<span class="o">)</span> &gt; <span class="nv">user</span> <span class="o">=</span> <span class="nv">_</span>
<span class="o">=</span>&gt; <span class="c1">#&lt;User id: 1, url_name: "yaotti", ...&gt;</span>
</pre></div></div>

<p><a href="https://github.com/pry/pry/wiki/Special-Locals" rel="nofollow noopener" target="_blank">Special Locals · pry/pry Wiki</a>を読めば他の特殊変数も全部載ってるけど，<code>_</code>が一番便利．</p>

<h2>
<span id="その他pry関連でおすすめ記事" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96pry%E9%96%A2%E9%80%A3%E3%81%A7%E3%81%8A%E3%81%99%E3%81%99%E3%82%81%E8%A8%98%E4%BA%8B"><i class="fa fa-link"></i></a>その他pry関連でおすすめ記事</h2>

<p>pryの基本: <a href="http://qiita.com/items/2b36068cdf2e40e75c2d">ググるよりもまずはpry</a><br>
<a href="http://qiita.com/items/d75d7c3953faa34a1f0e">awesome_print を pry の表示のデフォルトに使う</a><br>
<a href="http://qiita.com/items/b7b1a304815addf150b2">pryを使った快適なRubyライブラリのコードリーディング&amp;開発方法 #開発環境</a>(未だにストッックされ続けている記事．pryのedit-methodは本当に便利)</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />44位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>24</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/f0c7545101f7f2719308">NSLogでメッセージをファイルに出力する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-04-04 18:35:26</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><code>NSLog</code>はstderrに吐いているだけなので，<code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification</code>内などで</p>

<div class="code-frame" data-lang="objectivec"><div class="highlight"><pre><span></span><span class="n">freopen</span><span class="p">([</span><span class="s">@"/tmp/xcode.log"</span> <span class="n">fileSystemRepresentation</span><span class="p">],</span> <span class="s">"w+"</span><span class="p">,</span> <span class="n">stderr</span><span class="p">);</span>
</pre></div></div>

<p>とすると<code>/tmp/xcode.log</code>に出力される．便利．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />45位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>24</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/68f8150e43d0b0111213">Redis接続をチェックしてからRailsサーバー起動</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-01-13 13:32:20</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[Rails]</b> <b>[Redis]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>Railsでredisを使うとき，設定に</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">config/initializers/redis.rb</span></div>
<div class="highlight"><pre><span></span><span class="vg">$redis</span> <span class="o">=</span> <span class="no">Redis</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:host</span> <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span> <span class="ss">:port</span> <span class="o">=&gt;</span> <span class="mi">6379</span><span class="p">)</span>
</pre></div>
</div>

<p>のように書いて$redis.get 'key'みたいに使うけれど，これだとRedisサーバーに繋がらないとき(redisサーバーが落ちてるとか)でもアプリケーション内でredisへアクセスするまでわからない．<br>
起動時にチェックしてほしい．</p>

<h1>
<span id="手段コード" class="fragment"></span><a href="#%E6%89%8B%E6%AE%B5%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>手段、コード</h1>

<p>初期化したあとすぐに<a href="http://redis.io/commands/ping" rel="nofollow noopener" target="_blank">ping</a>を飛ばす</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">config/initializers/redis.rb</span></div>
<div class="highlight"><pre><span></span><span class="vg">$redis</span> <span class="o">=</span> <span class="no">Redis</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:host</span> <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span> <span class="ss">:port</span> <span class="o">=&gt;</span> <span class="mi">6379</span><span class="p">)</span>
<span class="vg">$redis</span><span class="o">.</span><span class="n">ping</span>
</pre></div>
</div>

<p>繋がらない場合は例外を投げて落ちるのでより安心．</p>

<h1>
<span id="参考リンク" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF"><i class="fa fa-link"></i></a>参考リンク</h1>

<p><a href="http://redis.io/commands/ping" rel="nofollow noopener" target="_blank">Redisのpingコマンド</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />46位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>23</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/00f51e7fb5d5b337901f">NSPredicateによる配列のフィルタリング: likeとcontains</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-02-16 21:42:25</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>NSPredicateの条件文字列で<code>like</code>は文字列完全一致，<code>contains</code>は部分一致をチェックする．<br>
containsのときはsingle quoteで括り，likeのときは括ってはいけない．ちょっとはまった．</p>

<div class="code-frame" data-lang="objc"><div class="highlight"><pre><span></span><span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predLike</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span><span class="s">@"name like[c] %@"</span><span class="p">,</span> <span class="n">name</span><span class="p">];</span>
<span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predContains</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span><span class="s">@"name contains[c] '%@'"</span><span class="p">,</span> <span class="n">name</span><span class="p">];</span>
</pre></div></div>

<p><code>[c]</code>はcase-insensitiveなマッチングを行ないたいときに付けるもの．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />47位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>23</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/dbfe318167b1700cbebb">プログラムのシンタックスハイライト方法の比較</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-01-17 16:39:39</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[JavaScript]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="背景" class="fragment"></span><a href="#%E8%83%8C%E6%99%AF"><i class="fa fa-link"></i></a>背景</h1>

<p>ブログシステム構築などでコードのシンタックスハイライトをしたいときに方法はいくつかありますが，ここではQiitaで試したいくつかの手段の比較をしてみます．</p>

<h1>
<span id="候補" class="fragment"></span><a href="#%E5%80%99%E8%A3%9C"><i class="fa fa-link"></i></a>候補</h1>

<h2>
<span id="gist添付" class="fragment"></span><a href="#gist%E6%B7%BB%E4%BB%98"><i class="fa fa-link"></i></a>Gist添付</h2>

<h3>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h3>

<p>コード部分をGistに投稿し，読み込むときにサイトでgistのembed jsを展開する．</p>

<h3>
<span id="pros" class="fragment"></span><a href="#pros"><i class="fa fa-link"></i></a>pros</h3>

<ul>
<li>お手軽</li>
</ul>

<h3>
<span id="cons" class="fragment"></span><a href="#cons"><i class="fa fa-link"></i></a>cons</h3>

<ul>
<li>コードを検索できない</li>
<li>コードごとにGistを読みにいくため重い</li>
</ul>

<p>どちらも工夫すれば一応解決可能ではあるけれど，素直じゃない</p>

<h2>
<span id="javascriptのハイライトライブラリ" class="fragment"></span><a href="#javascript%E3%81%AE%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA"><i class="fa fa-link"></i></a>JavaScriptのハイライトライブラリ</h2>

<h3>
<span id="概要-1" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81-1"><i class="fa fa-link"></i></a>概要</h3>

<ul>
<li><a href="http://alexgorbatchev.com/SyntaxHighlighter/" rel="nofollow noopener" target="_blank">syntaxhighlighter</a></li>
<li>
<a href="http://shjs.sourceforge.net/" rel="nofollow noopener" target="_blank">SHJS - Syntax Highlighting in JavaScript</a>
など．
コード部分を特定のタグで囲み，JSファイルを読み込むとハイライトされる．</li>
</ul>

<h3>
<span id="pros-1" class="fragment"></span><a href="#pros-1"><i class="fa fa-link"></i></a>pros</h3>

<ul>
<li>とにかくお手軽</li>
</ul>

<h3>
<span id="cons-1" class="fragment"></span><a href="#cons-1"><i class="fa fa-link"></i></a>cons</h3>

<ul>
<li>処理が重い

<ul>
<li>Qiitaのように1ページに多数のコードブロックが存在する場合，ハイライトにかかる時間が少し気になる</li>
<li>リロードごとに毎回ハイライト処理が走ることになる</li>
</ul>
</li>
</ul>

<h2>
<span id="pygments" class="fragment"></span><a href="#pygments"><i class="fa fa-link"></i></a>pygments</h2>

<h3>
<span id="概要-2" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81-2"><i class="fa fa-link"></i></a>概要</h3>

<p>Pythonで書かれたシンタックスハイライタ．pygmentizeコマンドで実行できる．<br>
rubyライブラリがあり(<a href="https://github.com/yaotti/albino" rel="nofollow noopener" target="_blank">albino</a>, <a href="https://github.com/tmm1/pygments.rb" rel="nofollow noopener" target="_blank">pygments.rb</a>)，GitHubでも使われている．</p>

<h3>
<span id="pros-2" class="fragment"></span><a href="#pros-2"><i class="fa fa-link"></i></a>pros</h3>

<ul>
<li>対応言語が多い</li>
<li>言語の自動判定機能</li>
</ul>

<h3>
<span id="cons-2" class="fragment"></span><a href="#cons-2"><i class="fa fa-link"></i></a>cons</h3>

<ul>
<li>セットアップが面倒

<ul>
<li>pythonのインストールが必要…</li>
</ul>
</li>
</ul>

<h1>
<span id="結論" class="fragment"></span><a href="#%E7%B5%90%E8%AB%96"><i class="fa fa-link"></i></a>結論</h1>

<p>pythonのインストールが必要ですが，Qiitaではpygmentsを採用しました．今のところは不便に感じることはないです．<br>
とにかく簡単にハイライトしたいということならJSライブラリが良いと思います．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />48位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>23</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/87d0788287cd96d840ac">git系コマンドのエイリアス集</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-01-17 15:03:38</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><code>alias gPull="git pull"</code>はSandSによる誤爆対策</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="c1"># aliases for git</span>
<span class="k">function</span> git<span class="o">(){</span>hub <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="o">}</span>
<span class="nb">alias</span> <span class="nv">g</span><span class="o">=</span><span class="s2">"git"</span>
<span class="nb">alias</span> <span class="nv">gad</span><span class="o">=</span><span class="s2">"git add"</span>
<span class="nb">alias</span> <span class="nv">gb</span><span class="o">=</span><span class="s2">"git branch -v"</span>
<span class="nb">alias</span> <span class="nv">gba</span><span class="o">=</span><span class="s2">"git branch -a"</span>
<span class="nb">alias</span> <span class="nv">gbr</span><span class="o">=</span><span class="s2">"git branch -r"</span>
<span class="nb">alias</span> <span class="nv">gc</span><span class="o">=</span><span class="s2">"git commit -v"</span>
<span class="nb">alias</span> <span class="nv">gco</span><span class="o">=</span><span class="s2">"git checkout"</span>
<span class="nb">alias</span> <span class="nv">gd</span><span class="o">=</span><span class="s2">"git diff"</span>
<span class="nb">alias</span> <span class="nv">gdc</span><span class="o">=</span><span class="s2">"git diff --cached"</span>
<span class="nb">alias</span> <span class="nv">gf</span><span class="o">=</span><span class="s2">"git fetch"</span>
<span class="nb">alias</span> <span class="nv">gg</span><span class="o">=</span><span class="s2">"git grep -n"</span>
<span class="nb">alias</span> <span class="nv">ggi</span><span class="o">=</span><span class="s2">"git grep -ni"</span>
<span class="nb">alias</span> <span class="nv">gl</span><span class="o">=</span><span class="s2">"git log --stat"</span>
<span class="nb">alias</span> <span class="nv">gll</span><span class="o">=</span><span class="s2">"git log --oneline"</span>
<span class="nb">alias</span> <span class="nv">glp</span><span class="o">=</span><span class="s2">"git log -p"</span>
<span class="nb">alias</span> <span class="nv">gls</span><span class="o">=</span><span class="s2">"git ls-files"</span>
<span class="nb">alias</span> <span class="nv">gm</span><span class="o">=</span><span class="s2">"git merge"</span>
<span class="nb">alias</span> <span class="nv">gst</span><span class="o">=</span><span class="s2">"git status"</span>
<span class="nb">alias</span> <span class="nv">gs</span><span class="o">=</span><span class="s2">"git show"</span>
<span class="nb">alias</span> <span class="nv">gsp</span><span class="o">=</span><span class="s2">"git stash pop"</span>
<span class="nb">alias</span> <span class="nv">gss</span><span class="o">=</span><span class="s2">"git stash save"</span>
<span class="nb">alias</span> <span class="nv">gssh</span><span class="o">=</span><span class="s2">"git stash show"</span>
<span class="nb">alias</span> <span class="nv">gsl</span><span class="o">=</span><span class="s2">"git stash list"</span>
<span class="nb">alias</span> <span class="nv">gPull</span><span class="o">=</span><span class="s2">"git pull"</span>
<span class="nb">alias</span> <span class="nv">up</span><span class="o">=</span><span class="s1">'cd ./$(git rev-parse --show-cdup)'</span> <span class="c1"># cd to current repo's root dir</span>
<span class="c1"># git current-branch: Show current branch</span>
<span class="nb">alias</span> <span class="nv">gcb</span><span class="o">=</span><span class="s2">"git symbolic-ref --short HEAD"</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />49位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>21</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/d73e5cdb1f8ace60365f">gitでfooとfoo/barというブランチは同時には作成できない</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-03-05 14:02:07</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ git co -b foo
$ git co -b foo/bar
error: unable to resolve reference refs/heads/foo/bar: Not a directory
fatal: Failed to lock ref <span class="k">for</span> update: Not a directory
</pre></div></div>

<p>ブランチを作ると，そのブランチの指すコミットのsha1を保存するために<code>refs/heads/BRANCH_NAME</code>というファイルを作る．このときブランチ名に<code>/</code>が入っているとディレクトリを作成してからファイルを作る．<br>
そのため<code>git co -b foo/bar</code>時に<code>foo</code>ディレクトリを作ろうとするが，既にファイルが存在するためエラーとなる．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />50位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>20</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/788611a5ac87a2dd3f9f">githubのPull Requestをレビューするときによく使うコマンド</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-06-12 11:42:37</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> <b>[GitHub]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><code>git show-branch --merge-base</code>を使い，以下を実行すると"masterから分岐させた時点からHEADまでの最新コミット一覧"を取れる．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ git co some-branch-to-review
$ tig --reverse master...HEAD
</pre></div></div>

<h2>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h2>

<p><a href="http://linux.die.net/man/1/git-show-branch" rel="nofollow noopener" target="_blank">git-show-branch(1): branches/their commits - Linux man page</a><br>
<a href="http://qiita.com/items/ab52a7e834422a6f9662">現在のブランチで加えた変更を見る #git - Qiita</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />51位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>20</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/ed8525be08e65b8ad116">rmコマンドでファイルを消さずにごみ箱に移動させる</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-03-01 00:21:12</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Mac]</b> <b>[shell]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ which rm
rm: aliased to gmv -f --backup<span class="o">=</span>numbered --target-directory ~/.Trash
</pre></div></div>

<p>どうせファイル容量なんかたいしたことないので，<code>rm</code>コマンドで出来るだけ事故を起こさないように移動させるだけにしておく．<br>
同名ファイルが既にあるときは，<code>filename.~1~</code>のような形でナンバリングされる．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />52位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>19</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/7ed0cde717e4f802212b">vimをless代わりに使う</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-07-11 11:04:26</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Vim]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>普段はemacsを使っているけれど，ちょっとターミナルでコードを見たいときにシンタックスハイライトするために以下のように見ている．<code>-R</code>はreadonly．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ vim -R app/models/item.rb
</pre></div></div>

<p>以下コードを読む用の最低限の設定</p>

<div class="code-frame" data-lang="vim">
<div class="code-lang"><span class="bold">~/.vimrc</span></div>
<div class="highlight"><pre><span></span><span class="k">set</span> <span class="nb">nocompatible</span>  <span class="c">" おまじない</span>
<span class="nb">syntax</span> <span class="k">on</span>  <span class="c">" シンタックスハイライト有効化</span>
<span class="k">set</span> <span class="k">number</span>  <span class="c">" 行数表示</span>
<span class="nb">nnoremap</span> <span class="k">q</span> :<span class="p">&lt;</span>C<span class="p">-</span><span class="k">u</span><span class="p">&gt;</span><span class="k">q</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>  <span class="c">" q でvimを閉じる</span>
<span class="k">colorscheme</span> darkblue

<span class="c">" 行末のスペースを赤く表示する</span>
<span class="nb">highlight</span> WhitespaceEOL ctermbg<span class="p">=</span><span class="k">red</span>
<span class="k">match</span> WhitespaceEOL <span class="sr">/\s\+$/</span>

<span class="c">" 検索関連</span>
<span class="k">set</span> <span class="nb">hlsearch</span>  <span class="c">" マッチした箇所をハイライトする</span>
<span class="k">set</span> <span class="nb">incsearch</span>  <span class="c">" インクリメンタルサーチ</span>
<span class="k">set</span> <span class="nb">smartcase</span>  <span class="c">" 大文字小文字をいい具合に区別する</span>
</pre></div>
</div>

<p>lessっぽく<code>alias l="vim -R"</code>とすると便利</p>

<ins>追記: viewコマンドでreadonlyで開くことができます</ins>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />53位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>19</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/1b5ee1d2a2b9255241a8">Backbone.jsでのサーバーサイドデータ→クライアントサイドデータ変換</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-13 11:36:22</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>サーバーからJSONでデータを返すとき，以下のようにキーが設定してあることがあります．例えばTwitterの検索APIでは，検索結果のtweetはresultsというキーの値に入っています．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">item</span><span class="o">:</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="nx">bar</span><span class="p">,</span> <span class="p">...}</span> <span class="p">}</span>
</pre></div></div>

<p>({foo: bar, ...}がアイテムの中身)<br>
しかし，このデータからBackbone.Modelオブジェクトを作る時に<code>new Model(json.item)</code>のように毎回中身を取り出すのは面倒です．</p>

<h2>
<span id="backbonemodelparse" class="fragment"></span><a href="#backbonemodelparse"><i class="fa fa-link"></i></a>Backbone.Model#parse</h2>

<p>Backbone.Modelではnewするときにまず引数を<code>parse</code>メソッドに渡し，その返り値を使ってモデルの属性値を設定します(<code>parse</code>はデフォルトでは何もしない)．<br>
そこで<code>parse</code>を適切に実装するとJSON→Backbone.Modelオブジェクトの変換がシンプルになります．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">MyItem</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">parse</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">json</span><span class="p">.</span><span class="nx">item</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="c1">// ...</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyItem</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
<span class="c1">// var item = new MyItem(json.item); と書く必要はない</span>
</pre></div></div>

<p>他にもサーバーから返すデータの型が綺麗でないのをクライアント側では綺麗に扱ったり，複数バージョンAPI間のレスポンス形式の違いを隠蔽したり，というのも<code>parse</code>を実装することでできます．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">MyItem</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">parse</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 新旧APIのレスポンス形式の違いを吸収する</span>
        <span class="k">return</span> <span class="nx">json</span><span class="p">.</span><span class="nx">version</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">item</span> <span class="o">:</span> <span class="nx">obj</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="c1">// ...</span>
<span class="p">});</span>
</pre></div></div>

<p>このようにサーバーから返すデータとクライアントで扱うデータの間に1層挟むと綺麗に書けてよいですね．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />54位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>19</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/74390b31f425e60f4b42">JSDeferredでBackbone.jsのモデル更新を快適に</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-08 20:14:05</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>いまだに参加者が増えなくて大変なBackbone.js Advent Calendarの8日目の記事です．<br>
参加はこちらから！→ <a href="http://atnd.org/events/22017" class="autolink" rel="nofollow noopener" target="_blank">http://atnd.org/events/22017</a></p>

<h2>
<span id="backbonemodelやbackbonecollectionのsaveやfetch" class="fragment"></span><a href="#backbonemodel%E3%82%84backbonecollection%E3%81%AEsave%E3%82%84fetch"><i class="fa fa-link"></i></a>Backbone.ModelやBackbone.Collectionのsaveやfetch</h2>

<p>Backbone.jsで<code>model.save</code>や<code>collection.fetch</code>が成功/失敗したときの処理は，それらの引数に関数を渡して書きます．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="nx">collection</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span>
    <span class="nx">data</span><span class="o">:</span> <span class="nx">params</span><span class="p">,</span>
    <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">model</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span> 
        <span class="c1">// 取得成功時の処理</span>
    <span class="p">},</span>
    <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">model</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span> 
        <span class="c1">// 取得失敗時の処理</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div></div>

<p>しかしこの書き方はあまり良いとは言えません．</p>

<ul>
<li>ぱっと見たときにどういう処理が実行されるのかわかりにくい

<ul>
<li>success/errorの順番が上記のように守られていればいいですが，ほかのパラメタが間に入ったり後に付いたりすると流れを追いにくくなる</li>
</ul>
</li>
<li>fetch/save完了時の処理が大きくなるにつれて，引数部分が長くなっていく

<ul>
<li>コールバックが切り出すほどの大きさでないときは微妙に汚いコードになる…</li>
</ul>
</li>
</ul>

<p>fetchやsaveは頻繁に利用するので，もうちょっと読みやすい，わかりやすい書き方をしたいところです．</p>

<h2>
<span id="jsdeferred" class="fragment"></span><a href="#jsdeferred"><i class="fa fa-link"></i></a>JSDeferred</h2>

<p>ところで<a href="http://subtech.g.hatena.ne.jp/cho45/" rel="nofollow noopener" target="_blank">cho45さん</a>が作られた<a href="http://cho45.stfuawsc.com/jsdeferred/doc/intro.html" rel="nofollow noopener" target="_blank">JSDeferred</a>(ドメインかっこいい)というライブラリがあります．これは煩雑になりがちな，JavaScriptの非同期処理を直感的な形で書けるようにするものです．</p>

<p>例えばjQuery用の <a href="https://github.com/cho45/jsdeferred/blob/master/jsdeferred.jquery.js" rel="nofollow noopener" target="_blank">jsdeferred.jquery.js</a> を利用すると，$.ajaxのsuccess/error処理を以下のように書くことができます．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span> <span class="nx">url</span><span class="o">:</span> <span class="s1">'/foo'</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 成功時の処理</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// エラー時の処理</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">});</span>
</pre></div></div>

<h2>
<span id="backbonejs--jsdeferred" class="fragment"></span><a href="#backbonejs--jsdeferred"><i class="fa fa-link"></i></a>Backbone.js &amp; JSDeferred</h2>

<p><code>Backbone.Model</code>や<code>Backbone.Collection</code>の<code>save</code>や<code>fetch</code>はいずれも<code>Backbone.sync</code>を返し，そして<code>Backbone.sync</code>は<code>$.ajax</code>を返します．<br>
そこでJSDeferredと組み合わせることで上の<code>$.ajax</code>の例と同じようにメソッドチェインの形で成功/失敗時の処理を書くことができます．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="nx">collection</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="nx">params</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 取得成功時の処理</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 取得失敗時の処理</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">});</span>
</pre></div></div>

<p>最初の例よりもずっとわかりやすいですね！</p>

<h2>
<span id="注意点" class="fragment"></span><a href="#%E6%B3%A8%E6%84%8F%E7%82%B9"><i class="fa fa-link"></i></a>注意点</h2>

<p><code>Backbone.Collection#create</code>だけは<code>Backbone.sync</code>ではなく，作成したモデルを返すためこのように書くことができません．<br>
それ以外のメソッドではDeferredをロードすれば上のように綺麗に書くことができます．</p>

<h2>
<span id="matome" class="fragment"></span><a href="#matome"><i class="fa fa-link"></i></a>matome</h2>

<p>Backbone.jsに限らずJSDeferredを使うことでJSを綺麗に書けるようになるので，JavaScriptを書く人は一度試してみることを薦めます:)</p>

<p>再度ですが，そろそろネタがないのでBackbone.js Advent Calendarに参加してください!今回みたいにBackbone.jsにちょっと絡んだ程度の内容でもOKです．<br>
Backbone.jsの日本語コンテンツを増やしましょう! <a href="http://atnd.org/events/22017" class="autolink" rel="nofollow noopener" target="_blank">http://atnd.org/events/22017</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />55位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>18</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/f5f54f3939b9c0eb94dc">メールアドレス入力時にドメイン名typo(っぽいもの)を検出&amp;サジェストする</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-09-19 18:10:12</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[JavaScript]</b> <b>[CoffeeScript]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="https://github.com/Kicksend/mailcheck" rel="nofollow noopener" target="_blank">Kicksend/mailcheck</a> を使うと，メールアドレスのtypoとしてありがちな <code>*@gmali.com</code>や<code>*@gmail.co</code>といったtypoを検出し，サジェストすることが簡単にできる．</p>

<h2>
<span id="簡単な利用方法" class="fragment"></span><a href="#%E7%B0%A1%E5%8D%98%E3%81%AA%E5%88%A9%E7%94%A8%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>簡単な利用方法</h2>

<p>メールアドレス以外も入力する場合は<a href="https://github.com/Kicksend/mailcheck#usage-with-jquery" rel="nofollow noopener" target="_blank">READMEの例</a>のように<code>blur</code>時に実行すればよい．</p>

<h2>
<span id="応用" class="fragment"></span><a href="#%E5%BF%9C%E7%94%A8"><i class="fa fa-link"></i></a>応用</h2>

<p>ユーザーにメールアドレスのみ入力してもらう，もしくはアドレスを最後に入力してもらう場合は，blurを挟まずに登録ボタンを押すことになるためblur時のサジェストでは遅すぎる．<br>
そのため以下のようにkeyup時かつサジェストすべきと思われるタイミング(メールアドレスのドメインのTLD入力中)で実行すると良い．</p>

<div class="code-frame" data-lang="coffeescript"><div class="highlight"><pre><span></span><span class="nv">acceptableTLD = </span><span class="nx">Kicksend</span><span class="p">.</span><span class="nx">mailcheck</span><span class="p">.</span><span class="nx">defaultTopLevelDomains</span><span class="p">.</span><span class="nx">concat</span> <span class="p">[</span><span class="s">'co.jp'</span><span class="p">,</span> <span class="s">'ne.jp'</span><span class="p">]</span> <span class="c1"># co.jp, ne.jpはデフォルトでは含まれないので入れておく</span>
<span class="nv">$noticeBox = </span><span class="nx">$</span><span class="p">(</span><span class="s">'.js-email-invalid-message'</span><span class="p">)</span> <span class="c1"># サジェストを表示するタグのクラスを指定</span>
<span class="nx">$</span><span class="p">(</span><span class="s">'#email'</span><span class="p">).</span><span class="nx">on</span> <span class="s">'keyup'</span><span class="p">,</span> <span class="nf">(ev) -&gt;</span>
    <span class="c1"># ユーザーがTLDを入力し始めたと思われるタイミング以降のみサジェストする</span>
    <span class="c1"># e.g. foo@example.c| (|: カーソル)</span>
    <span class="k">return</span> <span class="k">unless</span> <span class="sr">/@([^.]+\.)+.+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">ev</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">@</span><span class="p">).</span><span class="nx">mailcheck</span>
      <span class="nv">topLevelDomains: </span><span class="nx">acceptableTLD</span>
      <span class="nv">suggested: </span><span class="nf">(element, suggestion) -&gt;</span>
        <span class="nv">suggestion_html = </span><span class="s">"Did you mean: </span><span class="si">#{</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">address</span><span class="si">}</span><span class="s">@&lt;b&gt;</span><span class="si">#{</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">domain</span><span class="si">}</span><span class="s">&lt;/b&gt;?"</span>
        <span class="nx">$noticeBox</span><span class="p">.</span><span class="nx">fadeIn</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">html</span> <span class="nx">suggestion_html</span>
      <span class="nv">empty: </span><span class="nf">-&gt;</span> <span class="nx">$noticeBox</span><span class="p">.</span><span class="nx">slideUp</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">html</span> <span class="s">''</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />56位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>18</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/22f4919d2352a12bd0d7">Macアプリの更新をユーザーに通知する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-18 10:38:50</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> <b>[Mac]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Mac App Storeを通さず自前でアプリアップデートをしたい場合，<a href="http://sparkle.andymatuschak.org/" rel="nofollow noopener" target="_blank">Sparkle</a> という更新通知用ライブラリがよく使われている，<a href="http://kobitoapp.com/" rel="nofollow noopener" target="_blank">MarkdownエディタアプリのKobito</a>でも利用している．</p>

<h2>
<span id="アプリ更新手順" class="fragment"></span><a href="#%E3%82%A2%E3%83%97%E3%83%AA%E6%9B%B4%E6%96%B0%E6%89%8B%E9%A0%86"><i class="fa fa-link"></i></a>アプリ更新手順</h2>

<p>Sparkleの初期設定はドキュメント通りにすればOK．以下はそれ以降何度もやるであろうアプリ更新の手順．</p>

<ol>
<li>privateキーとアプリのzipファイルからシグネチャ作る(注意: アプリ名はバージョン名など余計な文字を含めると駄目．zipファイルにした後ならばrename OK)</li>
<li>
<code>appcast.xml</code>を編集して，appcast.xmlとアプリのzipファイルをサーバーに上げる．</li>
</ol>

<p>xcodeのafter-archive hookを使って出来る限り自動化するとよい．<br>
自動化する際参考になるページ <a href="http://www.entropy.ch/blog/Developer/2008/09/22/Sparkle-Appcast-Automation-in-Xcode.html" class="autolink" rel="nofollow noopener" target="_blank">http://www.entropy.ch/blog/Developer/2008/09/22/Sparkle-Appcast-Automation-in-Xcode.html</a></p>

<p>詳細な手順は以下を参照<br>
<a href="https://github.com/andymatuschak/Sparkle/wiki" rel="nofollow noopener" target="_blank">Home · andymatuschak/Sparkle Wiki</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />57位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>18</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/d1d26ff7eb4441a392ac">Mountain Lion+rubyでopensslエラー</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-08-13 13:38:51</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[MacOSX]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="エラーメッセージ" class="fragment"></span><a href="#%E3%82%A8%E3%83%A9%E3%83%BC%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8"><i class="fa fa-link"></i></a>エラーメッセージ</h2>

<blockquote>
<p>OpenSSL::SSL::SSLError: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed</p>
</blockquote>

<h2>
<span id="環境" class="fragment"></span><a href="#%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>環境</h2>

<p>ruby 1.9.3p194<br>
Mac OSX 10.8</p>

<h2>
<span id="原因" class="fragment"></span><a href="#%E5%8E%9F%E5%9B%A0"><i class="fa fa-link"></i></a>原因</h2>

<p>証明書がない．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>⚡ ruby -ropenssl -e <span class="s1">'p OpenSSL::X509::DEFAULT_CERT_FILE'</span>
<span class="s2">"/usr/local/etc/openssl/cert.pem"</span>
</pre></div></div>

<h2>
<span id="対処" class="fragment"></span><a href="#%E5%AF%BE%E5%87%A6"><i class="fa fa-link"></i></a>対処</h2>

<p>上記の場所("/usr/local/etc/openssl/cert.pem")に証明書をダウンロードして置いてやる．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="nb">cd</span> /usr/local/etc/openssl <span class="o">&amp;&amp;</span> wget http://curl.haxx.se/ca/cacert.pem <span class="o">&amp;&amp;</span> mv cacert.pem cert.pem
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />58位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>17</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b716ed282102e3cd93ff">安全なcrontabの設定管理</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-06-07 18:59:49</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[command]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>crontabのオプションは隣にあるeとrで意味が逆になる(edit/remove)のでcrontabコマンドを実行するのは怖いけれど，crontabの引数にファイル名を渡すと，そのファイルから読んで設定してくれる．</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>crontab -l &gt; ~/crontab <span class="c1"># 今の内容を出力</span>
edit ~/crontab <span class="c1"># 設定変更</span>
crontab ~/crontab <span class="c1"># ファイルから読み込む．現在の設定は上書きされるので注意</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />59位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>16</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/2361768b6ed781e87780">git add -p / git checkout -pをよく使う人のための設定</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-07 14:53:50</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="shell-session"><div class="highlight"><pre><span></span><span class="go">git config --global interactive.singlekey true</span>
</pre></div></div>

<p>y / n / eなどを押した後にエンターを押す必要がなくなる</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />60位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>16</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/692c0fcd65a60cdbdf4c">レスポンスヘッダーに X-Content-Type-Options: nosniff を追加する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-10-12 11:14:44</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Rails]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>railsのedgeではデフォルトで入る(<code>config.action_dispatch.default_headers</code>に入れられる)が安定版(3.2.8)にはまだ入っていないので，暫定対応． <a href="https://github.com/rails/rails/pull/7390" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/rails/rails/pull/7390</a> </p>

<p>configでデフォルトヘッダーを設定する方法がないためApplicationControllerのfilterでやるしかない?汚い…</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">application_controller.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">after_filter</span> <span class="ss">:set_default_headers</span>
  <span class="kp">private</span>
  <span class="no">DEFAULT_HEADERS</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s1">'X-Frame-Options'</span> <span class="o">=&gt;</span> <span class="s1">'SAMEORIGIN'</span><span class="p">,</span>
      <span class="s1">'X-XSS-Protection'</span> <span class="o">=&gt;</span> <span class="s1">'1; mode=block'</span><span class="p">,</span>
      <span class="s1">'X-Content-Type-Options'</span> <span class="o">=&gt;</span> <span class="s1">'nosniff'</span>
  <span class="p">}</span><span class="o">.</span><span class="n">freeze</span>

  <span class="k">def</span> <span class="nf">set_default_headers</span>
    <span class="no">DEFAULT_HEADERS</span><span class="o">.</span><span class="n">each_pair</span> <span class="k">do</span> <span class="o">|</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="o">|</span>
      <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">[</span><span class="n">key</span><span class="o">]</span> <span class="o">=</span> <span class="n">val</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />61位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>16</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/424a750e6f2e42e02922">Rspecでリストのチェック</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-06-06 13:35:47</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[RSpec]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>リストに必要な要素が過不足なく含まれていることをチェックするとき，いちいちリストをソートしなくても<code>=~</code>を使えばよい</p>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="n">array1</span><span class="o">.</span><span class="n">should</span> <span class="o">=~</span> <span class="n">array2</span>
</pre></div></div>

<p>マッチしなかった場合は足りない/余計な要素を別途表示してくれるので，そういう点でもsortして==より<code>=~</code>の方がよい．</p>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="c1"># test</span>
<span class="o">[</span><span class="ss">:zero</span><span class="p">,</span> <span class="ss">:one</span><span class="p">,</span> <span class="ss">:three</span><span class="o">].</span><span class="n">should</span> <span class="o">=~</span> <span class="o">[</span><span class="ss">:one</span><span class="p">,</span> <span class="ss">:two</span><span class="o">]</span>

<span class="c1"># log</span>
<span class="no">Failure</span><span class="o">/</span><span class="ss">Error</span><span class="p">:</span> <span class="o">[</span><span class="ss">:zero</span><span class="p">,</span> <span class="ss">:one</span><span class="p">,</span> <span class="ss">:three</span><span class="o">].</span><span class="n">should</span> <span class="o">=~</span> <span class="o">[</span><span class="ss">:one</span><span class="p">,</span> <span class="ss">:two</span><span class="o">]</span>
  <span class="n">expected</span> <span class="n">collection</span> <span class="ss">contained</span><span class="p">:</span>  <span class="o">[</span><span class="ss">:one</span><span class="p">,</span> <span class="ss">:two</span><span class="o">]</span>
  <span class="n">actual</span> <span class="n">collection</span> <span class="ss">contained</span><span class="p">:</span>    <span class="o">[</span><span class="ss">:one</span><span class="p">,</span> <span class="ss">:three</span><span class="p">,</span> <span class="ss">:zero</span><span class="o">]</span>
  <span class="n">the</span> <span class="n">missing</span> <span class="n">elements</span> <span class="ss">were</span><span class="p">:</span>      <span class="o">[</span><span class="ss">:two</span><span class="o">]</span>
  <span class="n">the</span> <span class="n">extra</span> <span class="n">elements</span> <span class="ss">were</span><span class="p">:</span>        <span class="o">[</span><span class="ss">:three</span><span class="p">,</span> <span class="ss">:zero</span><span class="o">]</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />62位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>16</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/98fbc42faedc02492397">gitで変更の一部のみコミット対象とする/変更を取り消す</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-11-02 13:48:14</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>ワークツリーに加えた変更のうち一部分だけをaddしたいときには<br>
git add -p<br>
すると，変更部分ごとにaddするかどうかを選択できる．<br>
逆にgit checkout -pで，一部の変更を消す(正確にはaddされていない=unstagedな変更から消す)ことができる．<br>
デバッグプリントのコードを消したいときなどに便利．</p>

<p>どちらもyやnなどで選択した後に毎回enterを押す必要があり面倒だが<br>
git config --global interactive.singlekey true<br>
を実行しておくと，yやnなどを押した時点で決定できる．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="c1"># 選択してgit addするかどうか決める</span>
git add -p <span class="o">[</span>file_or_dir<span class="o">]</span>
<span class="c1"># addされてない変更それぞれに対してgit checkout</span>
git checkout -p <span class="o">[</span>file_or_dir<span class="o">]</span>
<span class="c1"># git add/checkout -p時に，エンターでの決定を省略する</span>
git config --global interactive.singlekey <span class="nb">true</span>

</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />63位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>16</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/973cec544b697199da6c">Macでの開発を便利にするアプリ，Spark</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-10-27 15:44:03</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Mac]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>コードを書いているとエディタ，ブラウザ，ターミナル，Twitterクライアント間の移動が多発するけど，いちいちcmd+tab連打したくない．<br>
sparkというアプリを入れるとアプリケーションの起動やapplescript実行などにホットキーを割り当てられる．<br>
<a href="http://www.shadowlab.org/Software/spark.php" class="autolink" rel="nofollow noopener" target="_blank">http://www.shadowlab.org/Software/spark.php</a></p>

<p>ぼくは以下のように設定してます．たとえばctrl+1を押すとiTermに，ctrl+2でEmacsに移れる．</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>ctrl+..
1: iTerm
2: Emacs
3: Google Chrome
4: Things (TODO管理アプリ)
7: Dictionary
8: iTunes
9: YoruFukurou
-: Propane (チャットサービスCampfireのアプリ)
=: Evernote

</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />64位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>15</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/76371aa5afaa23b2b19f">Gitで特定のローカルブランチをリモートブランチの変更に追従させるワンライナー</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-02-20 13:21:08</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>例えばあるブランチをレビューした後，更に他の人がそのブランチに変更を加えたとき&amp;既にfetchしているとき．<br>
<code>git reset --hard @{u}</code></p>

<p>(もちろんfetchもしたいときは<code>git pull --rebase</code>すればok <img alt=":ok_woman:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f646.png" title=":ok_woman:" width="20"> )</p>

<h2>
<span id="u" class="fragment"></span><a href="#u"><i class="fa fa-link"></i></a><code>@{u}</code>?</h2>

<p><code>&lt;branch name&gt;@{upstream}</code>はそのブランチに対応したupstreamのブランチ名を取得する．<br>
ここで<code>branch name</code>を省略すると現在のブランチを表し，また<code>@{upstream}</code>は<code>@{u}</code>と省略できる．</p>

<h2>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h2>

<p><code>git help rev-parse</code></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />65位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>15</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/dda39a9f989eda53295d">テストにsleep入れるな問題の解決策</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-12-13 22:34:54</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>テストの中でレコードの作成時間をちょっとずらしたい時などに，sleepを入れるという最悪な解決方法はやめて<a href="https://github.com/travisjeffery/timecop" rel="nofollow noopener" target="_blank">travisjeffery/timecop</a>を使うとよい．<br>
実行後に時間を置きたいメソッドを<code>Foo#bar</code>とすると以下のように書く．</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">some_spec.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">bar_with_timeshift</span>
    <span class="n">val</span> <span class="o">=</span> <span class="n">bar_without_timeshift</span>
    <span class="no">Timecop</span><span class="o">.</span><span class="n">travel</span><span class="p">(</span><span class="no">Time</span><span class="o">.</span><span class="n">now</span> <span class="o">+</span> <span class="mi">10</span><span class="o">.</span><span class="n">seconds</span><span class="p">)</span>
    <span class="n">val</span>
  <span class="k">end</span>
  <span class="n">alias_method_chain</span> <span class="ss">:bar</span><span class="p">,</span> <span class="ss">:timeshift</span>
<span class="k">end</span>
</pre></div>
</div>

<p>timeshiftというかっこいい名前はmotemenさんの<a href="https://gist.github.com/325058" rel="nofollow noopener" target="_blank">gist:325058</a>から．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />66位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>14</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/21a1e5c6d9b94ee34da6">Rubyでクラスメソッドの定義方法色々</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-11-08 23:10:36</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>今までは<code>def self.hoge</code>って書いてたけど，<code>class &lt;&lt; self ...</code>の方がまとまって見通しが良さそう．</p>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span>
  <span class="k">def</span> <span class="nc">A</span><span class="o">.</span><span class="nf">class_method_one</span><span class="p">;</span> <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">class_method_two</span><span class="p">;</span> <span class="k">end</span>

  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="n">A</span>
    <span class="k">def</span> <span class="nf">class_method_three</span><span class="p">;</span> <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span>
    <span class="k">def</span> <span class="nf">class_method_four</span><span class="p">;</span> <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nc">A</span><span class="o">.</span><span class="nf">class_method_five</span><span class="p">;</span> <span class="k">end</span>

<span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="n">A</span>
  <span class="k">def</span> <span class="nf">class_method_six</span><span class="p">;</span> <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />67位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>13</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/b461cee7a69c2aca8ae4">アクティブでないアプリの特定アクションをホットキーで実行する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-02-27 21:27:11</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>アプリケーションがアクティブでない時でもホットキーで特定のアクションを実行させたい場合， <a href="https://github.com/davedelong/DDHotKey" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/davedelong/DDHotKey</a> を使うとすぐ実装できる．使い方は以下．</p>

<div class="code-frame" data-lang="objc"><div class="highlight"><pre><span></span><span class="n">DDHotKeyCenter</span> <span class="o">*</span><span class="n">ddhkc</span> <span class="o">=</span> <span class="p">[[</span><span class="n">DDHotKeyCenter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="n">ddhkc</span> <span class="nl">registerHotKeyWithKeyCode</span><span class="p">:</span><span class="mi">40</span> <span class="nl">modifierFlags</span><span class="p">:(</span><span class="n">NSShiftKeyMask</span><span class="o">|</span><span class="n">NSCommandKeyMask</span><span class="p">)</span> <span class="nl">target</span><span class="p">:</span><span class="nb">self</span> <span class="nl">action</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">someMethod</span><span class="p">:)</span> <span class="nl">object</span><span class="p">:</span><span class="nb">nil</span><span class="p">])</span> <span class="p">{</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Failed to register hotkey"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div></div>

<p>このコードのうち</p>

<ul>
<li>キーコード</li>
<li>モディファイヤキー</li>
<li>アクション</li>
<li>渡すオブジェクト</li>
</ul>

<p>の4つを変更し，これを例えば<code>AppDelegate.m</code>の<code>- applicationDidFinishLaunching:aNotification</code>などで実行してやればよい．</p>

<p>アプリをアクティブにしたいときは呼ばれるアクションの中で</p>

<div class="code-frame" data-lang="objc"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">NSApp</span> <span class="nl">activateIgnoringOtherApps</span><span class="p">:</span><span class="nb">YES</span><span class="p">]</span>
</pre></div></div>

<p>を実行する．</p>

<p>参考: <a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/NSApplication/activateIgnoringOtherApps:" class="autolink" rel="nofollow noopener" target="_blank">https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/NSApplication/activateIgnoringOtherApps:</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />68位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>12</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/9bbe9ab571f843e2ce8c">hubコマンドでPull Requestを送るときにセクションタイトルを記述する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-10-10 14:40:14</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[GitHub]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="http://qiita.com/yaotti/items/a4a7f3f9a38d7d3415e3" id="reference-9cb0951fe662fa61526e">GitHubユーザーのためのhubコマンド</a>を使うとコマンドラインからpull requestを送信でき大変便利なのだけれど，普通のコミットメッセージと同じく<code>#</code>から始まる行はコメントと見做されるためセクションタイトルを書けない．と思っていた．</p>

<blockquote class="twitter-tweet">
<p><a href="https://twitter.com/yaotti" rel="nofollow noopener" target="_blank">@yaotti</a> How about 
header
=====</p>— kentaro (@kentaro) <a href="https://twitter.com/kentaro/statuses/388174765501857792" rel="nofollow noopener" target="_blank">October 10, 2013</a>
</blockquote>



<p>h1とh2はそれぞれ以下のように書けるので，<code>=</code>や<code>-</code>を使えば良いのでした．thanks <a href="/kentaro" class="user-mention js-hovercard" title="kentaro" data-hovercard-target-type="user" data-hovercard-target-name="kentaro">@kentaro</a> !</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>h1 header
========

h2 header
--------------
</pre></div></div>

<p>h3以上は書けませんが，とりあえずはこれで良さそう．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />69位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>12</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/cd26993283d2efa3ab52">Routingのテストをする</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-09-25 11:43:28</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Rails]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>適当にテストしたいとき，rails consoleで以下のように試せる</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>&gt; r = Qiita::Application.routes
&gt; r.recognize_path '/items'
=&gt; {:action=&gt;"index", :controller=&gt;"items"} 
&gt; r.recognize_path '/items', method: :post
=&gt; {:action=&gt;"create", :controller=&gt;"items"}
</pre></div></div>

<p>また確認は <a href="http://localhost:3000/rails/info/routes" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:3000/rails/info/routes</a> にアクセスすると良い<br>
via <a href="https://github.com/rails/rails/pull/6461" rel="nofollow noopener" target="_blank">View your Routes without waiting on Rake by schneems · Pull Request #6461 · rails/rails</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />70位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>12</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/bb81fe699b833ae20d4a">gitのブランチ移動</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-11-02 10:16:49</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>cd - のように，引数に-を指定すると直前にいたブランチに戻れる</p>

<p>追記：<br>
git co master &amp;&amp; git merge - みたいな使い方もできる．便利．<br>
<a href="http://twitter.com/#!/jch2355/status/131665048170008576" class="autolink" rel="nofollow noopener" target="_blank">http://twitter.com/#!/jch2355/status/131665048170008576</a></p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>git co master
git co some-feature
git co - <span class="c1"># =&gt; masterに移動</span>
git co - <span class="c1"># =&gt; some-featureに移動</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />71位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>11</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/7d7ee4fc9931baf0d187">Emacs内からrspecテストをiTerm上で走らせる設定</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-08-08 15:34:47</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Emacs]</b> <b>[RSpec]</b> <b>[AppleScript]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>specを編集→行指定でrspecコマンド実行，というサイクルが多いので，Emacsからキーバインド一発で実行できるようにした．<br>
出力結果はiTermで見たいので，Emacs内でrspecコマンドを実行するのではなくapplescriptを使ってiTermにコマンドを書き出させるようにしている．</p>

<div class="code-frame" data-lang="common-lisp">
<div class="code-lang"><span class="bold">ruby-config.el</span></div>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nb">defun</span> <span class="nv">execute-rspec</span> <span class="p">()</span>
  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">do-applescript</span> <span class="p">(</span><span class="nb">format</span> <span class="s">"tell application \"iTerm\"</span>
<span class="s">  activate</span>
<span class="s">  tell current session of current terminal</span>
<span class="s">    write text \"bundle exec rspec %s:%s\"</span>
<span class="s">  end tell</span>
<span class="s">  end tell</span>
<span class="s">  tell application \"System Events\"</span>
<span class="s">    keystroke return</span>
<span class="s">  end tell"</span>
  <span class="nv">buffer-file-name</span> <span class="p">(</span><span class="nv">line-number-at-pos</span><span class="p">))))</span>

<span class="p">(</span><span class="nv">define-key</span> <span class="nv">ruby-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"C-c r"</span><span class="p">)</span> <span class="ss">'execute-rspec</span><span class="p">)</span>
</pre></div>
</div>

<p>実行すると<code>bundle exec /path/to/some_spec.rb:10</code>のようなコマンドがiTerm上で実行される</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />72位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>11</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/ab52a7e834422a6f9662">現在のブランチで加えた変更を見る</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-02-19 23:48:39</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Git]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><code>master</code>から<code>fix/foo</code>ブランチを切ったとする</p>

<h2>
<span id="履歴表示-git-log" class="fragment"></span><a href="#%E5%B1%A5%E6%AD%B4%E8%A1%A8%E7%A4%BA-git-log"><i class="fa fa-link"></i></a>履歴表示: git log</h2>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>git log master..fix/foo <span class="c1"># two dots</span>
</pre></div></div>

<h2>
<span id="差分表示-git-diff" class="fragment"></span><a href="#%E5%B7%AE%E5%88%86%E8%A1%A8%E7%A4%BA-git-diff"><i class="fa fa-link"></i></a>差分表示: git diff</h2>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>git diff master...fix/foo <span class="c1"># three dots</span>
</pre></div></div>

<p><code>diff &lt;commit&gt;..&lt;commit&gt;</code>はblob同士の差分表示，<code>diff &lt;commit&gt;...&lt;commit&gt;</code>は<code>git diff $(git-merge-base A B) B</code>と同じ (ref: git help diff)<br>
<code>git log</code>, <code>git diff</code>どちらも<code>HEAD</code>と比較するなら<code>fix/foo</code>は省略可能．</p>

<p>こういったリビジョンの範囲指定シンタックスは<code>git help revisions</code>で見られます．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />73位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>11</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/88b87cfd369f27093f57">Redisでデータファイルを作って適当に遊ぶ</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-05-21 20:32:51</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Redis]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>一時的にredis DBのデータを読み書きしたいけどシステムのDBは触りたくないとき．<br>
<code>redis-server</code>コマンドの引数に<code>-</code>を渡すと設定を標準入力から読むので，以下のようにすれば適当に設定したサーバーを立ち上げられる．設定入力を終えたらctrl-dを押すとサーバーが立ち上がる．</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ redis-server -
port <span class="m">12345</span>
logfile stdout
dir .
dbfilename test.rdb
save <span class="m">1</span> <span class="m">1</span>
<span class="c1"># press ctrl-D</span>
<span class="c1"># log ...</span>
</pre></div></div>

<p>別プロンプトでDBを触る．</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ redis-cli -p <span class="m">12345</span>
redis <span class="m">127</span>.0.0.1:12345&gt; KEYS *
<span class="o">(</span>empty list or <span class="nb">set</span><span class="o">)</span>
redis <span class="m">127</span>.0.0.1:12345&gt; SET A <span class="m">1</span>
OK
redis <span class="m">127</span>.0.0.1:12345&gt; GET A
<span class="s2">"1"</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />74位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>11</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/bada1e662a2cb4b5bb7b">Macアプリでホットキー設定機能を作る</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-05-17 18:17:50</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> <b>[Mac]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Evernoteなどで使われている<a href="http://shortcutrecorder.googlecode.com/" rel="nofollow noopener" target="_blank">ShortcutRecorder</a>を使うのが良さそう．</p>

<h2>
<span id="バージョン" class="fragment"></span><a href="#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3"><i class="fa fa-link"></i></a>バージョン</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>$ svn log -l <span class="m">1</span>
------------------------------------------------------------------------
r80 <span class="p">|</span> chris@growl.info <span class="p">|</span> <span class="m">2012</span>-04-24 <span class="m">03</span>:42:21 +0900 <span class="o">(</span>火, <span class="m">24</span>  <span class="m">4</span> <span class="m">2012</span><span class="o">)</span> <span class="p">|</span> <span class="m">2</span> lines

Updating Greek and French

------------------------------------------------------------------------
</pre></div></div>

<h2>
<span id="ダウンロード" class="fragment"></span><a href="#%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>ダウンロード</h2>

<p><code>svn checkout http://shortcutrecorder.googlecode.com/svn/trunk/ shortcutrecorder-read-only<br>
</code></p>

<h2>
<span id="ビルド" class="fragment"></span><a href="#%E3%83%93%E3%83%AB%E3%83%89"><i class="fa fa-link"></i></a>ビルド</h2>

<p><code>ShortcutRecorder.xcodeproj</code>を開きArchiveする．<br>
アーカイブ後になぜかOrganizerが立ち上がらないので，ビルドメッセージを頼りに<code>~/Library/Developer/Xcode/DerivedData/ShortcutRecorder-XXXXXXX/ArchiveIntermediates/ShortcutRecorder.framework - with embedded ibplugin/Frameworks</code>とかにあるやつをコピーした．なぜだ…</p>

<h2>
<span id="ドキュメント" class="fragment"></span><a href="#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88"><i class="fa fa-link"></i></a>ドキュメント</h2>

<p>ない．<code>ShortcutRecorder.h</code>を見ればだいたいわかるはず．</p>

<h2>
<span id="使い方" class="fragment"></span><a href="#%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>使い方</h2>

<h3>
<span id="インターフェースビルダー" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E3%83%93%E3%83%AB%E3%83%80%E3%83%BC"><i class="fa fa-link"></i></a>インターフェースビルダー</h3>

<p><a href="http://code.google.com/p/shortcutrecorder/wiki/GettingStartedInSVNTrunk" rel="nofollow noopener" target="_blank">GettingStartedInSVNTrunk</a>を参考にする．Xcode 4用のIB pluginはなさそう．<br>
UIView(高さ22，幅は150以上ぐらいがよい)を適当な場所に置き，クラス名を<code>SRRecorderControll</code>とする．適当にdelegateを設定する．</p>

<h3>
<span id="コード" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>コード</h3>

<p>変更を設定に保存するには以下のような感じ．実際にホットキーで何か処理するには，<br>
<a href="http://qiita.com/items/b461cee7a69c2aca8ae4">アクティブでないアプリの特定アクションをホットキーで実行する - Qiita</a>で説明しているDDHotKeyCenterを使えばよい．</p>

<div class="code-frame" data-lang="objectivec"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">shortcutRecorder:</span><span class="p">(</span><span class="n">SRRecorderControl</span> <span class="o">*</span><span class="p">)</span><span class="nv">aRecorder</span> <span class="nf">keyComboDidChange:</span><span class="p">(</span><span class="n">KeyCombo</span><span class="p">)</span><span class="nv">newKeyCombo</span> <span class="p">{</span>
  <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">keyCode</span> <span class="o">=</span> <span class="n">newKeyCombo</span><span class="p">.</span><span class="n">code</span><span class="p">;</span>
  <span class="n">NSUInteger</span> <span class="n">flags</span> <span class="o">=</span> <span class="n">newKeyCombo</span><span class="p">.</span><span class="n">flags</span><span class="p">;</span>
  <span class="c1">// Register a hotkey</span>
  <span class="kt">SEL</span> <span class="n">selector</span> <span class="o">=</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">newItem</span><span class="p">:);</span>
  <span class="n">DDHotKeyCenter</span> <span class="o">*</span><span class="n">ddhkc</span> <span class="o">=</span> <span class="p">[[</span><span class="n">DDHotKeyCenter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
  <span class="p">[</span><span class="n">ddhkc</span> <span class="nl">unregisterHotKeysWithTarget</span><span class="p">:[</span><span class="n">NSApp</span> <span class="n">delegate</span><span class="p">]</span> <span class="nl">action</span><span class="p">:</span><span class="n">selector</span><span class="p">];</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="n">ddhkc</span> <span class="nl">registerHotKeyWithKeyCode</span><span class="p">:</span><span class="n">keyCode</span> <span class="nl">modifierFlags</span><span class="p">:</span><span class="n">flags</span> <span class="nl">target</span><span class="p">:[</span><span class="n">NSApp</span> <span class="n">delegate</span><span class="p">]</span> <span class="nl">action</span><span class="p">:</span><span class="n">selector</span> <span class="nl">object</span><span class="p">:</span><span class="nb">nil</span><span class="p">])</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Failed to register the hotkey for new items"</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="c1">// Save the keycombo to user settings</span>
  <span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">keyComboDict</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSDictionary</span> <span class="nl">dictionaryWithObjectsAndKeys</span><span class="p">:[</span><span class="bp">NSNumber</span> <span class="nl">numberWithUnsignedShort</span><span class="p">:</span><span class="n">keyCode</span><span class="p">],</span> <span class="s">@"keyCode"</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithUnsignedInteger</span><span class="p">:</span><span class="n">flags</span><span class="p">],</span> <span class="s">@"flags"</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
  <span class="bp">NSString</span> <span class="o">*</span><span class="n">key</span> <span class="o">=</span> <span class="s">@"KeyCombo"</span><span class="p">;</span>
  <span class="p">[[</span><span class="bp">NSUserDefaults</span> <span class="n">standardUserDefaults</span><span class="p">]</span> <span class="nl">setObject</span><span class="p">:</span><span class="n">keyComboDict</span> <span class="nl">forKey</span><span class="p">:</span><span class="n">key</span><span class="p">];</span>
<span class="p">}</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />75位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>9</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/2fdeb3cedc8cd6a29960">Backbone.jsでモデルとビューを分離しやすくするためにadd/resetイベントを活用</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-06 19:28:49</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="backbonejs-advent-calendar-6日目" class="fragment"></span><a href="#backbonejs-advent-calendar-6%E6%97%A5%E7%9B%AE"><i class="fa fa-link"></i></a>Backbone.js Advent Calendar 6日目!</h1>

<p>参加者が増えなくてなかなか大変…簡単な内容でも良いので日本語コンテンツ増加のためにも使ったことある人は参加してください！ <a href="http://atnd.org/events/22017" class="autolink" rel="nofollow noopener" target="_blank">http://atnd.org/events/22017</a></p>

<p>この記事ではBackbone.jsのmodel/collectionのイベントとして用意されているイベントの中でも，綺麗に書くために使いこなしたい<code>add</code>と<code>reset</code>について<br>
Qiitaでの利用例を交えつつ説明していきます．</p>

<h2>
<span id="余談" class="fragment"></span><a href="#%E4%BD%99%E8%AB%87"><i class="fa fa-link"></i></a>余談</h2>

<p>Backbone.jsのアイコンが変わってますね．背骨でなくなった．<br>
<a href="https://camo.qiitausercontent.com/201fc00581a1f523add8abe83b8508026c4e6a72/687474703a2f2f646f63756d656e74636c6f75642e6769746875622e636f6d2f6261636b626f6e652f646f63732f696d616765732f6261636b626f6e652e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/201fc00581a1f523add8abe83b8508026c4e6a72/687474703a2f2f646f63756d656e74636c6f75642e6769746875622e636f6d2f6261636b626f6e652f646f63732f696d616765732f6261636b626f6e652e706e67" alt="" data-canonical-src="http://documentcloud.github.com/backbone/docs/images/backbone.png"></a></p>

<h2>
<span id="本題" class="fragment"></span><a href="#%E6%9C%AC%E9%A1%8C"><i class="fa fa-link"></i></a>本題</h2>

<p>Backbone.jsでは</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="nx">model</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'hoge'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'hogeされた'</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">model</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'hoge'</span><span class="p">);</span>  <span class="c1">// =&gt; alert('hogeされた');</span>
</pre></div></div>

<p>のように自分で決めたイベントにコールバックを登録し，発火させる仕組みがあります．<br>
このように自分で登録していってもいいのですが，よく使われそうなものについてはBackbone.ModelやBackbone.collectionに組込みで用意されています．<br>
今回はその中でも重宝する<code>add</code>及び<code>reset</code>イベントについて説明します．これらを適切に利用すると，サーバーからのデータ取得時やユーザーの行動によってデータが追加されたとき，ビューも合わせて変更するというロジックがシンプルに書けます．</p>

<h3>
<span id="addイベント" class="fragment"></span><a href="#add%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88"><i class="fa fa-link"></i></a>addイベント</h3>

<p>名前の通り，collectionにモデルが追加されたときに発火します．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">;</span>

<span class="nx">items</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">"add"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s2">"New item is added: "</span> <span class="o">+</span> <span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="p">);</span>
<span class="p">});</span>

</pre></div></div>

<p>ユーザーが新規に投稿したときやサーバーから新しい情報を取得したときなどに便利です．<br>
Qiitaではユーザー投稿したアイテムをストリームへ追加する部分で利用しています．</p>

<h3>
<span id="resetイベント" class="fragment"></span><a href="#reset%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88"><i class="fa fa-link"></i></a>resetイベント</h3>

<p><code>reset</code>が発火されるメソッドは以下の3つです．</p>

<ul>
<li>
<p>collection.sort</p>

<ul>
<li>modelの配列を，定義した<code>comparator</code>を利用してソートしなおす．</li>
<li>Qiitaでは<code>sort</code>は利用していません．</li>
</ul>
</li>
<li>
<p>collection.fetch</p>

<ul>
<li>collectionに対応したアイテムをサーバーから取得する．</li>
<li>Qiitaでは投稿のページャーで<code>collection.fetch({data: { before: oldestItemId } })</code> のように古い投稿を取得しています．</li>
</ul>
</li>
<li>
<p>collection.reset</p>

<ul>
<li>collectionの中身を引数に渡したモデルの配列で置き換える．</li>
<li>Qiitaでは最初に表示するアイテム一覧を<code>collection.reset(&lt;%= @items.to_json %&gt;)</code>のように設定しています．</li>
</ul>
</li>
</ul>

<p>いずれもオプションに{silent: true}を渡すと<code>reset</code>イベントが発火されるのを防ぐことができます．</p>

<h3>
<span id="その他" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96"><i class="fa fa-link"></i></a>その他</h3>

<p>Backbone.jsではこの2つ以外にももさまざまなイベントが組込みで用意されています．<a href="http://documentcloud.github.com/backbone/#FAQ-events" rel="nofollow noopener" target="_blank">Backbone.jsの組込みイベント一覧</a><br>
これらをうまく使えばモデルとビューを適切に分離し，見通しの良いコードが書けるでしょう:)</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />76位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/f6c78c01ee8c988a9f7a">RDSで`Mysql2::Error: Incorrect key file for table &apos;/rdsdbdata/tmp/...&apos;; try to repair it`というエラーに対応する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2014-02-04 09:17:15</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[MySQL]</b> <b>[RDS]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h1>
<span id="背景" class="fragment"></span><a href="#%E8%83%8C%E6%99%AF"><i class="fa fa-link"></i></a>背景</h1>

<p>一部のSQL実行時に<code>Mysql2::Error: Incorrect key file for table '/rdsdbdata/tmp/#sql_69c6_2.MYI'; try to repair it</code>というエラーが発生するようになった．全てのSQLにおいて起きるわけではない．<br>
&lt;!-- 何をしようとしてこの問題に遭遇したかを簡単に説明してください --&gt;</p>

<h1>
<span id="問題" class="fragment"></span><a href="#%E5%95%8F%E9%A1%8C"><i class="fa fa-link"></i></a>問題</h1>

<p><code>check table xxx</code>しても問題なかったため，テーブルが壊れているわけではない．<br>
原因はストレージ容量(tmpdirの容量)が不足していることだった．(tmpdirはSQL実行時の一時バッファ?)</p>

<h1>
<span id="解法" class="fragment"></span><a href="#%E8%A7%A3%E6%B3%95"><i class="fa fa-link"></i></a>解法</h1>

<p>RDSのAllocated Storageを増やす．これはRDSを稼動させたまま変更することもできる．<br>
RDSでないならば，tmpdirの余計なファイルを削除すればよさそう．</p>

<h1>
<span id="参考リンク" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF"><i class="fa fa-link"></i></a>参考リンク</h1>

<p><a href="http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_ModifyInstance.MySQL.html" rel="nofollow noopener" target="_blank">Modifying a DB Instance Running the MySQL Database Engine - Amazon Relational Database Service</a></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />77位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/a3b5b2ec4249064ab578">`mix new`で作られるファイル探索</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-12-04 01:33:04</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Elixir]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Elixirのビルドツール<a href="http://elixir-lang.org/getting_started/mix/1.html" rel="nofollow noopener" target="_blank">mix</a>により作成できる，Elixirプロジェクトの雛形構成を見ていきます．</p>

<h2>
<span id="mixとは" class="fragment"></span><a href="#mix%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>mixとは</h2>

<p>Elixirプロジェクトの作成や依存解決，コンパイル，テストを行うビルドツール．<br>
Clojureのビルドツール<a href="http://leiningen.org/" rel="nofollow noopener" target="_blank">leingen</a>を参考に作られている．(そのコントリビュータの1人はelixirの開発にも関わっている)</p>

<p>leingenさん<br>
<a href="https://camo.qiitausercontent.com/6eda537941dc0b775c1d3dcf1e399460c502ce88/68747470733a2f2f7261772e6769746875622e636f6d2f746563686e6f6d616e63792f6c65696e696e67656e2f6d61737465722f7265736f75726365732f6c65696e696e67656e2e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/6eda537941dc0b775c1d3dcf1e399460c502ce88/68747470733a2f2f7261772e6769746875622e636f6d2f746563686e6f6d616e63792f6c65696e696e67656e2f6d61737465722f7265736f75726365732f6c65696e696e67656e2e706e67" alt="leingen" data-canonical-src="https://raw.github.com/technomancy/leiningen/master/resources/leiningen.png"></a></p>

<h2>
<span id="ファイル構成" class="fragment"></span><a href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E6%A7%8B%E6%88%90"><i class="fa fa-link"></i></a>ファイル構成</h2>

<p>プロジェクト作成コマンドの<code>mix new</code>では以下のようなファイルが作成される．</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ mix new nyaa
* creating README.md
* creating .gitignore
* creating mix.exs
* creating lib
* creating lib/nyaa.ex
* creating lib/nyaa
* creating lib/nyaa/supervisor.ex
* creating test
* creating test/test_helper.exs
* creating test/nyaa_test.exs

Your mix project was created successfully.
You can use mix to compile it, test it, and more:

    cd nyaa
    mix compile
    mix test

Run `mix help` for more information.

$ cd ./nyaa
$ tree
.
├── README.md
├── lib
│   ├── nyaa
│   │   └── supervisor.ex
│   └── nyaa.ex
├── mix.exs
└── test
    ├── nyaa_test.exs
    └── test_helper.exs

3 directories, 6 files
</pre></div></div>

<h2>
<span id="libnyaaex" class="fragment"></span><a href="#libnyaaex"><i class="fa fa-link"></i></a><code>lib/nyaa.ex</code>
</h2>

<p>アプリケーションの起動/停止の振舞いを記述するファイル．停止(<code>stop/1</code>)は<code>use Application.Behaviour</code>すればデフォルトのものを利用できるので，<code>start/2</code>のみ実装すればよい</p>

<div class="code-frame" data-lang="ex">
<div class="code-lang"><span class="bold">lib/nyaa.ex</span></div>
<div class="highlight"><pre><span></span><span class="kd">defmodule</span> <span class="nc">Nyaa</span> <span class="k">do</span>
  <span class="kn">use</span> <span class="nc">Application.Behaviour</span>

  <span class="c1"># See http://elixir-lang.org/docs/stable/Application.Behaviour.html</span>
  <span class="c1"># for more information on OTP Applications</span>
  <span class="kd">def</span> <span class="n">start</span><span class="p">(</span><span class="n">_type</span><span class="p">,</span> <span class="n">_args</span><span class="p">)</span> <span class="k">do</span>
    <span class="nc">Nyaa.Supervisor</span><span class="o">.</span><span class="n">start_link</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>

<h2>
<span id="libnyaasupervisorex" class="fragment"></span><a href="#libnyaasupervisorex"><i class="fa fa-link"></i></a><code>lib/nyaa/supervisor.ex</code>
</h2>

<p>上で呼んでいる<code>Nyaa.Supervisor.start_link</code>を定義している．<br>
<code>:supervisor.start_link(__MODULE__, [])</code>は，カレントモジュールをsupervisorとして定義するということ(<code>[]</code>はinitの引数として渡される)</p>

<p><code>supervise(children, strategy: :one_for_one)</code>の<code>:one_for_one</code>は監視しているプロセス(child)が落ちたらそのプロセスだけ再起動するという意味．他にも監視プロセス全てを再起動する<code>:one_for_all</code>などがある．オプション一覧は <a href="http://elixir-lang.org/docs/stable/Supervisor.Behaviour.html" class="autolink" rel="nofollow noopener" target="_blank">http://elixir-lang.org/docs/stable/Supervisor.Behaviour.html</a> を参照．</p>

<div class="code-frame" data-lang="ex">
<div class="code-lang"><span class="bold">lib/nyaa/supervisor.ex</span></div>
<div class="highlight"><pre><span></span><span class="kd">defmodule</span> <span class="nc">Nyaa.Supervisor</span> <span class="k">do</span>
  <span class="kn">use</span> <span class="nc">Supervisor.Behaviour</span>

  <span class="kd">def</span> <span class="n">start_link</span> <span class="k">do</span>
    <span class="ss">:supervisor</span><span class="o">.</span><span class="n">start_link</span><span class="p">(</span><span class="bp">__MODULE__</span><span class="p">,</span> <span class="p">[])</span>
  <span class="k">end</span>

  <span class="kd">def</span> <span class="n">init</span><span class="p">([])</span> <span class="k">do</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
      <span class="c1"># Define workers and child supervisors to be supervised</span>
      <span class="c1"># worker(Nyaa.Worker, [])</span>
    <span class="p">]</span>

    <span class="c1"># See http://elixir-lang.org/docs/stable/Supervisor.Behaviour.html</span>
    <span class="c1"># for other strategies and supported options</span>
    <span class="n">supervise</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="ss">strategy</span><span class="p">:</span> <span class="ss">:one_for_one</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>

<h2>
<span id="mixexs" class="fragment"></span><a href="#mixexs"><i class="fa fa-link"></i></a><code>mix.exs</code>
</h2>

<p>アプリケーションの設定ファイル．依存ライブラリやなどを記述する</p>

<h2>
<span id="testnyaa_testexs-testtest_helperexs" class="fragment"></span><a href="#testnyaa_testexs-testtest_helperexs"><i class="fa fa-link"></i></a><code>test/nyaa_test.exs</code>, <code>test/test_helper.exs</code>
</h2>

<p>名前の通りテストの雛形．rspecのような書き方</p>

<div class="code-frame" data-lang="ex">
<div class="code-lang"><span class="bold">test/nyaa_test.exs</span></div>
<div class="highlight"><pre><span></span><span class="kd">defmodule</span> <span class="nc">NyaaTest</span> <span class="k">do</span>
  <span class="kn">use</span> <span class="nc">ExUnit.Case</span>

  <span class="n">test</span> <span class="s2">"the truth"</span> <span class="k">do</span>
    <span class="n">assert</span><span class="p">(</span><span class="no">true</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>

<h2>
<span id="次の一歩" class="fragment"></span><a href="#%E6%AC%A1%E3%81%AE%E4%B8%80%E6%AD%A9"><i class="fa fa-link"></i></a>次の一歩</h2>

<p>この時点ではsupervisorしかいないので，workerをNyaa.Workerとして作成していく．</p>

<h2>
<span id="参考リンク" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF"><i class="fa fa-link"></i></a>参考リンク</h2>

<ul>
<li><a href="http://elixir-lang.org/getting_started/mix/1.html" rel="nofollow noopener" target="_blank">1 Introduction to Mix - Elixir</a></li>
<li><a href="http://www.ymotongpoo.com/works/lyse-ja/ja/20_wsts.html" rel="nofollow noopener" target="_blank">Introduction | Learn You Some Erlang for Great Good!</a></li>
<li><a href="http://shibu.jp/erlang/design_principles/applications.html" rel="nofollow noopener" target="_blank">7. アプリケーション — Erlang User's Guide v5.8.1 documentation</a></li>
</ul>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />78位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/e127934825a568789d48">pryでよく使うgemを自動require</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-01-08 15:54:17</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[pry]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>よく使うgemは~/.pryrcでrequireしておく．</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">~/.pryrc</span></div>
<div class="highlight"><pre><span></span><span class="k">begin</span>
  <span class="nb">require</span> <span class="s1">'awesome_print'</span>
  <span class="nb">require</span> <span class="s1">'tapp'</span>
<span class="k">rescue</span> <span class="no">LoadError</span> <span class="o">=&gt;</span> <span class="n">err</span>
  <span class="nb">puts</span> <span class="s1">'failed to require.. :('</span>
<span class="k">end</span>
</pre></div>
</div>

<p>便利です．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />79位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/c715a9991073276d6bfe">コントローラーのテストでログイン中ユーザーをstubする</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-09-26 13:52:53</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[RSpec]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="n">it</span> <span class="s1">'gets some private data by a registered user'</span> <span class="k">do</span>
  <span class="n">controller</span><span class="o">.</span><span class="n">stub</span><span class="p">(</span><span class="ss">:current_user</span><span class="p">)</span> <span class="p">{</span> <span class="no">FactoryGirl</span><span class="o">.</span><span class="n">create</span> <span class="ss">:user</span> <span class="p">}</span>
  <span class="n">get</span> <span class="ss">:private_data</span>
  <span class="n">response</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="mi">200</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />80位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/da639b5d48a244e567d3">Twitter検索からtweetパーマリンクをさっと抜き出す方法</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-04-11 14:01:58</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[JavaScript]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>プログラムを書かずにざっと集めたいとき @ Chrome<br>
1. Twitter検索ページで検索する <a href="https://twitter.com/#!/search/realtime/kobito" class="autolink" rel="nofollow noopener" target="_blank">https://twitter.com/#!/search/realtime/kobito</a><br>
2. 辿れるだけページを下に辿っていく<br>
3. JS consoleをcmd+opt+jで表示する<br>
4. <code>$('.tweet-timestamp').map(function(i, tweet) { return tweet.href });</code>を実行する<br>
5. 結果をコピペ</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />81位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/3b023ea3ee68e017a1bb">ターミナルでちょっとしたメモにcat&amp;/dev/null</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-02-10 17:46:09</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[command]</b> <b>[Terminal]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>メモファイルを作るほどでもない簡単な&amp;一時的なメモを取るときは<code>cat</code>と<code>/dev/null</code>を使ったりする</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>$ cat &gt; /dev/null
hoge
fuga
piyo
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />82位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/340128cbe52eba78ea5c">zshでコマンドのファイル位置を簡単に知る</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-01-20 10:44:52</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Zsh]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>zshでコマンド名の前に=を付けるとそのコマンドパスに展開される．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="o">=</span>git
<span class="c1"># =&gt; /usr/local/bin/git</span>
</pre></div></div>

<p><code>less =somescript</code>みたいな感じでよく使う．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />83位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/47d5054edf44fe21fbf0">コマンドラインからXcodeのビルド&amp;実行</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-01-20 10:40:28</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Xcode]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="http://sakito.jp/emacs/emacsobjectivec.html#id14" class="autolink" rel="nofollow noopener" target="_blank">http://sakito.jp/emacs/emacsobjectivec.html#id14</a> を参考に，ビルド&amp;実行をするスクリプト．</p>

<div class="code-frame" data-lang="sh">
<div class="code-lang"><span class="bold">xcode-build-run</span></div>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env osascript</span>
tell application <span class="s2">"Xcode"</span> to activate
tell application <span class="s2">"System Events"</span>
     tell process <span class="s2">"Xcode"</span>
          key code <span class="m">15</span> using <span class="o">{</span><span class="nb">command</span> down<span class="o">}</span> <span class="c1"># 15: R</span>
     end tell
end tell
</pre></div>
</div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />84位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/3ae0e2d2f11c37c57f27">zshの便利機能の1つ，グローバルエイリアス</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-10-28 00:09:10</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Zsh]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>GやL，... は多用する．<br>
たとえば<br>
$ tail -f some.log G error<br>
みたいな使い方をよくする</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="c1"># global alias</span>
<span class="nb">alias</span> -g <span class="nv">TELLME</span><span class="o">=</span><span class="s2">"&amp;&amp; say succeeded || say failed"</span>
<span class="nb">alias</span> -g <span class="nv">G</span><span class="o">=</span><span class="s2">"| grep"</span>
<span class="nb">alias</span> -g <span class="nv">H</span><span class="o">=</span><span class="s1">'| head'</span>
<span class="nb">alias</span> -g <span class="nv">L</span><span class="o">=</span><span class="s2">"| less -R"</span>
<span class="nb">alias</span> -g <span class="nv">W</span><span class="o">=</span><span class="s1">'| wc'</span>
<span class="nb">alias</span> -g <span class="nv">T</span><span class="o">=</span><span class="s1">'| tail'</span>
<span class="nb">alias</span> -g ...<span class="o">=</span><span class="s1">'../..'</span>
<span class="nb">alias</span> -g ....<span class="o">=</span><span class="s1">'../../..'</span>

</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />85位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>8</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/6bef982098ec2eeed8c4">HubotをMacで試してみる</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-10-26 12:17:22</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[GitHub]</b> <b>[Hubot]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Macでちょっと試すだけならかなり簡単．<br>
<a href="https://github.com/github/hubot" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/github/hubot</a></p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span><span class="c1"># node.js</span>
brew install node.js
<span class="c1"># npm</span>
curl http://npmjs.org/install.sh <span class="p">|</span> sh
wget --no-check-certificate https://github.com/downloads/github/hubot/hubot-1.0.3.tar.gz
tar zxvf hubot-1.0.3.tar.gz
<span class="nb">cd</span> hubot
<span class="c1"># 依存ライブラリのインストール</span>
npm install
<span class="c1"># 実行．hubot shellに入る</span>
./bin/hubot
&gt; hubot <span class="nb">help</span>
<span class="c1"># Twitterから特定単語の検索結果を1件取得</span>
&gt; hubot qiita tweet 

</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />86位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>7</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/beb76ea8d0aae29b397f">Xcodeがハングアップして何もできないときの対処法</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-09-19 18:58:48</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[MacOSX]</b> <b>[Xcode]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;">
<h2>
<span id="特定のプロジェクトの場合" class="fragment"></span><a href="#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>特定のプロジェクトの場合</h2>

<p><code>rm ~/Library/Developer/Xcode/DerivedData/APPNAME_XXX</code></p>

<h2>
<span id="xcodeも開けないとき" class="fragment"></span><a href="#xcode%E3%82%82%E9%96%8B%E3%81%91%E3%81%AA%E3%81%84%E3%81%A8%E3%81%8D"><i class="fa fa-link"></i></a>Xcodeも開けないとき</h2>

<p><code>rm ~/Library/Saved\ Application\ State/com.apple.dt.Xcode.savedState</code></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />87位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>7</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/47f2e995e1f6d32c738f">XXXstat系コマンドをまとめて置き換えるdstatコマンド</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-24 23:44:19</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Linux]</b> <b>[command]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>WEB+DB PRESS vol.65より．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>dstat --cpu --disk
</pre></div></div>

<p>のようにすると，1秒ごとのcpu使用率とdisk I/Oを色付きで表示してくれる．他にも--swapや--netなど．<br>
詳しくはヘルプ(dstat -h)参照．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />88位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/f282b062cad0fa2c043f">zshでgit, hub, tigなどを補完する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-07-01 17:57:37</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Zsh]</b> <b>[Git]</b> <b>[GitHub]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>boxenを使っているなら以下を書くことでhub特有のコマンド(browseやpull-requestなど)も補完される．使っていないなら適切にダウンロードしてくる．</p>

<div class="code-frame" data-lang="sh">
<div class="code-lang"><span class="bold">~/.zshrc</span></div>
<div class="highlight"><pre><span></span>autoload -U compinit <span class="o">&amp;&amp;</span> compinit <span class="c1"># もし書いていなければ．</span>
<span class="nb">source</span> /opt/boxen/homebrew/etc/bash_completion.d/git-completion.bash
<span class="nb">source</span> /opt/boxen/homebrew/etc/bash_completion.d/hub.bash_completion.sh
<span class="nb">source</span> /opt/boxen/homebrew/etc/bash_completion.d/tig-completion.bash
compdef <span class="nv">hub</span><span class="o">=</span>git
</pre></div>
</div>

<p>なお，boxenを使っていると<code>[ -f /opt/boxen/env.sh ] &amp;&amp; source /opt/boxen/env.sh</code>によって強制的にalias hub=gitされるので注意．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />89位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/a43acf39a5bfe76b550b">デフォルトスコープとHABTM(has_and_belongs_to_many) relations</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-04-03 17:43:26</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Rails]</b> <b>[ActiveRecord]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>以下のような投稿とタグの関係を考える．一部のタグはデフォルトで見えないようにするために<code>default_scope</code>を使ってみる．</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">models</span></div>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Tag</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">default_scope</span> <span class="kp">private</span><span class="p">:</span> <span class="kp">false</span>
<span class="k">end</span>
<span class="k">class</span> <span class="nc">Item</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_and_belongs_to_many</span> <span class="ss">:tags</span><span class="p">,</span> <span class="ss">join_table</span><span class="p">:</span> <span class="s2">"taggings"</span>
<span class="k">end</span>
</pre></div>
</div>

<p>しかしこうすると<code>item.tags</code>でprivate tagsを取ってこれない．</p>

<h2>
<span id="間違った対応" class="fragment"></span><a href="#%E9%96%93%E9%81%95%E3%81%A3%E3%81%9F%E5%AF%BE%E5%BF%9C"><i class="fa fa-link"></i></a>間違った対応</h2>

<p>最初は以下のようにしていたが，これではセッター(<code>item.tags = tags</code>など)のときには問題が起きる．例えば<code>item.tags.push(tag)</code>などとしても保存されなかったりする．わかりづらい．</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">item.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Item</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="c1"># ...</span>
  <span class="kp">protected</span>
  <span class="k">def</span> <span class="nf">tags_with_unscoped</span>
    <span class="no">Tag</span><span class="o">.</span><span class="n">unscoped</span> <span class="p">{</span> <span class="n">tags_without_unscoped</span> <span class="p">}</span>
  <span class="k">end</span>
  <span class="n">alias_method_chain</span> <span class="ss">:tags</span><span class="p">,</span> <span class="ss">:unscoped</span>
<span class="k">end</span>
</pre></div>
</div>

<h2>
<span id="正しい方法" class="fragment"></span><a href="#%E6%AD%A3%E3%81%97%E3%81%84%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>正しい方法</h2>

<p><code>has_and_belongs_to_many</code>の<code>conditions</code>オプションを使う．</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">item.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Item</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_and_belongs_to_many</span> <span class="ss">:tags</span><span class="p">,</span> <span class="ss">join_table</span><span class="p">:</span> <span class="s2">"taggings"</span><span class="p">,</span> <span class="ss">conditions</span><span class="p">:</span> <span class="p">{</span> <span class="ss">tags</span><span class="p">:</span> <span class="p">{</span> <span class="kp">private</span><span class="p">:</span> <span class="o">[</span><span class="kp">true</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span> <span class="p">}}</span>
<span class="k">end</span>
</pre></div>
</div>

<p>associationについては <a href="http://guides.rubyonrails.org/association_basics.html" rel="nofollow noopener" target="_blank">Ruby on Rails Guides: A Guide to Active Record Associations</a> を．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />90位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/612d798d827e9ae6ff1f">フィールド更新時に更新前の値を使って処理する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-10-12 09:51:05</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[ActiveRecord]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>フィールド<code>a_field</code>の変更前の値は<code>a_field_was</code>で取得できるので，例えば"値が変更されていたら実行する"という処理は，after_updateの中で以下のように書いてやればいい</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">my_model.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyModel</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">after_update</span> <span class="k">do</span> 
    <span class="n">do_something</span> <span class="k">if</span> <span class="n">a_field</span> <span class="o">!=</span> <span class="n">a_field_was</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />91位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/78b38ac9cbc134469dad">MacアプリのArchive時に処理を行う</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-04-10 00:18:46</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Mac]</b> <b>[Xcode]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>Sparkleのappcast.xmlを作ったり，スタッフにアプリを配ったり，<code>codesign</code>の実行などArchive時に行う処理を自動化する．</p>

<h2>
<span id="方法" class="fragment"></span><a href="#%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>方法</h2>

<p>Product -&gt; Edit Scheme -&gt; 左メニュー一覧のArchive-&gt;一番下のPost-actionを選択<br>
あとはArchive時に実行したい処理を書けばよい．<br>
<a href="https://camo.qiitausercontent.com/8556131b3e086c418a0d13e267d1fc24428c5368/687474703a2f2f662e636c2e6c792f6974656d732f303730573362326a3351306731673333306d32622f53637265656e25323053686f74253230323031322d30342d3130253230617425323031322e31322e3431253230414d2e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/8556131b3e086c418a0d13e267d1fc24428c5368/687474703a2f2f662e636c2e6c792f6974656d732f303730573362326a3351306731673333306d32622f53637265656e25323053686f74253230323031322d30342d3130253230617425323031322e31322e3431253230414d2e706e67" alt="" data-canonical-src="http://f.cl.ly/items/070W3b2j3Q0g1g330m2b/Screen%20Shot%202012-04-10%20at%2012.12.41%20AM.png"></a></p>

<h2>
<span id="設定例" class="fragment"></span><a href="#%E8%A8%AD%E5%AE%9A%E4%BE%8B"><i class="fa fa-link"></i></a>設定例</h2>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span></span>env &gt; /tmp/xcode-archive-env.log <span class="c1"># 環境変数をダンプする</span>
<span class="nv">ARCHIVE_APP</span><span class="o">=</span><span class="s2">"</span><span class="nv">$ARCHIVE_PRODUCTS_PATH</span><span class="s2">/Applications/</span><span class="nv">$WRAPPER_NAME</span><span class="s2">"</span>
codesign -s <span class="s2">"Some Certificate"</span> <span class="s2">"</span><span class="nv">$ARCHIVE_APP</span><span class="s2">"</span> &gt;/tmp/post-action.log <span class="m">2</span>&gt;/tmp/post-action-error.log <span class="c1"># コードサイン</span>
cp <span class="s2">"</span><span class="nv">$ARCHIVE_APP</span><span class="s2">"</span> ~/Dropbox/ShareDir <span class="c1"># 共有用にアプリをコピーする</span>
</pre></div></div>

<h2>
<span id="tips" class="fragment"></span><a href="#tips"><i class="fa fa-link"></i></a>tips</h2>

<p>使える環境変数は以下のドキュメントにある．<code>$ARCHIVE_PRODUCTS_PATH</code>とか使える<br>
<a href="https://developer.apple.com/library/mac/#documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html#//apple_ref/doc/uid/TP40003931-CH3-SW105" class="autolink" rel="nofollow noopener" target="_blank">https://developer.apple.com/library/mac/#documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html#//apple_ref/doc/uid/TP40003931-CH3-SW105</a></p>

<p>全部値が見たいときは<code>env &gt; /tmp/xcode-archive-env.log</code>なんかを設定して一度実行すればいい．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />92位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/c0f936b6d202d26721c3">HamlでJS内にrubyコードを入れる</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-04-09 11:48:27</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[haml]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><code>#{}</code>で囲むだけだった．</p>

<div class="code-frame" data-lang="haml"><div class="highlight"><pre><span></span><span class="nd">:javascript</span>
 <span class="nd">var version = </span><span class="si">#{</span><span class="vi">@version</span><span class="si">}</span><span class="nd">;</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />93位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/88d6a132a61a65b9529b">tmuxでscreen風キーバインドを使う</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-03-19 12:45:20</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[screen]</b> <b>[tmux]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="http://tmux.svn.sourceforge.net/viewvc/tmux/trunk/examples/screen-keys.conf" class="autolink" rel="nofollow noopener" target="_blank">http://tmux.svn.sourceforge.net/viewvc/tmux/trunk/examples/screen-keys.conf</a> にscreen風キーバインドの設定ファイルがあるのでそれをそのまま使うだけ．</p>

<div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>$ mkdir ~/.tmux
$ curl http://tmux.svn.sourceforge.net/viewvc/tmux/trunk/examples/screen-keys.conf -o ~/.tmux/screen-keys.conf
$ <span class="nb">echo</span> <span class="s2">"source-file </span><span class="nv">$HOME</span><span class="s2">/.tmux/screen-keys.conf"</span> &gt;&gt; ~/.tmux.conf
</pre></div></div>

<p>デフォルトだとprefixがC-aになってて使えないので変える．なぜC-aがデフォルトなんだろう…</p>

<div class="code-frame" data-lang="config">
<div class="code-lang"><span class="bold">.tmux.conf</span></div>
<div class="highlight"><pre><span></span>set -g prefix C-o
</pre></div>
</div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />94位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>6</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/677ee30eeaaa09d145da">セグエで遷移する前に処理を行う</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-02-18 20:17:32</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> <b>[iPhone]</b> <b>[Xcode]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>UIViewControllerに<code>- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender</code>というdelegateメソッドが用意されており，これを実装すれば遷移前に処理を行うことができる．<br>
以下のようにすると，someMethodを呼んだあとに遷移する．</p>

<div class="code-frame" data-lang="objc"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">prepareForSegue:</span><span class="p">(</span><span class="bp">UIStoryboardSegue</span> <span class="o">*</span><span class="p">)</span><span class="nv">segue</span> <span class="nf">sender:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">sender</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">([</span><span class="n">segue</span><span class="p">.</span><span class="n">identifier</span> <span class="nl">isEqualToString</span><span class="p">:</span><span class="s">@"MyIdentifier"</span><span class="p">])</span> <span class="p">{</span>
    <span class="p">[</span><span class="nb">self</span> <span class="n">someMethod</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />95位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>5</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/13ef7f5e26174cd3e47d">MailChimpのsubscribe/unsubscribe</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2013-02-05 14:41:34</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[MailChimp]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="https://github.com/tatemae-consultancy/hominid" rel="nofollow noopener" target="_blank">tatemae-consultancy/hominid</a>というgemを使ってサービスの設定状況とMailChimpのsubscribe/unsubscribeを連携する．</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">user.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">after_create</span> <span class="k">do</span>
    <span class="n">subscribe_mailchimp</span>
  <span class="k">end</span>

  <span class="n">after_update</span> <span class="k">do</span>
    <span class="k">if</span> <span class="n">email</span><span class="o">.</span><span class="n">present?</span> <span class="o">&amp;&amp;</span> <span class="n">email_was</span><span class="o">.</span><span class="n">present?</span> <span class="o">&amp;&amp;</span> <span class="n">email</span> <span class="o">!=</span> <span class="n">email_was</span>
      <span class="k">begin</span>
        <span class="n">mailchimp</span><span class="o">.</span><span class="n">list_update_member</span><span class="p">(</span><span class="n">mailchimp_list_id</span><span class="p">,</span> <span class="n">email_was</span><span class="p">,</span>
          <span class="p">{</span> <span class="ss">EMAIL</span><span class="p">:</span> <span class="n">email</span><span class="p">},</span> <span class="s1">'html'</span><span class="p">,</span> <span class="kp">false</span><span class="p">)</span>
      <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span> <span class="s2">"Failed to update newsletter: </span><span class="si">#{</span><span class="n">url_name</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="kp">true</span>
  <span class="k">end</span>

  <span class="n">before_destroy</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span>
    <span class="n">unsubscribe_mailchimp</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">subscribe_mailchimp</span>
    <span class="k">return</span> <span class="k">if</span> <span class="n">email</span><span class="o">.</span><span class="n">blank?</span>
    <span class="n">mailchimp</span><span class="o">.</span><span class="n">list_subscribe</span><span class="p">(</span><span class="n">mailchimp_list_id</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="p">{},</span> <span class="s1">'html'</span><span class="p">,</span>
      <span class="kp">false</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="kp">false</span><span class="p">)</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span> <span class="s2">"Failed to subscribe newsletter: </span><span class="si">#{</span><span class="n">url_name</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">unsubscribe_mailchimp</span>
    <span class="k">return</span> <span class="k">if</span> <span class="n">email</span><span class="o">.</span><span class="n">blank?</span>
    <span class="n">mailchimp</span><span class="o">.</span><span class="n">list_unsubscribe</span><span class="p">(</span><span class="n">mailchimp_list_id</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="kp">false</span><span class="p">)</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span> <span class="s2">"Failed to unsubscribe newsletter: </span><span class="si">#{</span><span class="n">url_name</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">mailchimp</span>
    <span class="no">Hominid</span><span class="o">::</span><span class="no">API</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">APP_CONFIG</span><span class="o">[</span><span class="s1">'mailchimp'</span><span class="o">][</span><span class="s1">'api_key'</span><span class="o">]</span><span class="p">)</span> <span class="c1"># Do not cache.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">mailchimp_list_id</span>
    <span class="no">APP_CONFIG</span><span class="o">[</span><span class="s1">'mailchimp'</span><span class="o">][</span><span class="s1">'list_id'</span><span class="o">]</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />96位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>5</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/0e6a3c42c20c1a4b9e1a">コマンドラインからスクリーンセーバー起動</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-08-14 18:40:34</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Mac]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="sh"><div class="highlight"><pre><span></span>open /System/Library/Frameworks/ScreenSaver.framework/Resources/ScreenSaverEngine.app
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />97位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>5</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/d202f35616545f42ac21">webviewでローカル(アプリ内)の画像を表示する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-03-21 23:09:40</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Objective-C]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><div class="code-frame" data-lang="objc"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">webView</span><span class="p">.</span><span class="n">mainFrame</span> <span class="nl">loadHTMLString</span><span class="p">:</span><span class="n">htmlContent</span> <span class="nl">baseURL</span><span class="p">:[[[</span><span class="bp">NSBundle</span> <span class="n">mainBundle</span><span class="p">]</span> <span class="n">resourceURL</span><span class="p">]</span> <span class="n">absoluteURL</span><span class="p">]];</span>
</pre></div></div>

<p>のようにして，Resourceのhtmlファイルで指定してやればいい．</p>

<div class="code-frame" data-lang="html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">"hello.png"</span> <span class="p">/&gt;</span>
</pre></div></div>

<p>absoluteURLを忘れると，XXX.appまでのパスになってしまうので注意．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />98位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>5</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/c75d51c5b79a8554feba">Rubyのモジュール内でextend self</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2012-01-28 22:11:12</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p><a href="https://github.com/defunkt/gist" rel="nofollow noopener" target="_blank">defunkt/gist</a>を読んでいたら，gist.rbに以下の記述を見つけた．</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">gist.rb</span></div>
<div class="highlight"><pre><span></span><span class="k">module</span> <span class="nn">Gist</span>
  <span class="kp">extend</span> <span class="nb">self</span>
<span class="c1"># ...</span>
  <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">private_gist</span> <span class="o">=</span> <span class="kp">false</span><span class="p">,</span> <span class="n">description</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">)</span>
<span class="c1"># ...</span>
<span class="k">end</span>
</pre></div>
</div>

<p><code>extend self</code>でのレシーバーは<code>Gist</code>なので，<code>Gist</code>モジュールの特異クラス(<code>Gist</code>クラス)に，<code>self</code>で定義されているメソッド(つまり<code>extend self</code>以降で定義している<code>Gist</code>モジュールのメソッド．上記の<code>write</code>など)を定義するということみたい．<br>
結果<code>Gist.write</code>のように呼び出すことが出来るようになる．</p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />99位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>5</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/2e2b19ed3ba13f4d464e">自分で定義したBackbone.jsのクラスを拡張する</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-12-25 18:21:56</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Backbone.js]</b> <b>[AdventCalendar]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>自分で定義したクラスを拡張する&amp;親クラスのイニシャライザを呼びたいときは以下のようにします．</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">childClass</span> <span class="o">=</span> <span class="nx">parentClass</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">parentClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">initialize</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
        <span class="c1">// ...</span>
    <span class="p">},</span>
<span class="p">});</span>
</pre></div></div>

<p><em>コメントを受けて修正</em></p>
</div>
	</td>
</tr>
</table>
<br />
<table border="1">
<tr>
	<td rowspan="3"><center>yaottiさんの<br />100位</center></td>
	<td colspan="3">
		<kbd><i><img alt="いいね" width="16" height="16" src="../thumb-up-120px.png" /></i>5</kbd>
		<a target="_blank" href="https://qiita.com/yaotti/items/ac3ef4a6ac7d4e902e1e">Resque：Redisをバックエンドとしたタスクキューシステム</a>
	</td>
</tr>
<tr>
	<td style="width:100px;"><center>投稿日時</center></td>
	<td style="width:200px;"><center>投稿者</center></td>
	<td style="width:150px;"><center>タグ</center></td>
	<td style="width:350px;"><center>本文</center></td>
</tr>
<tr>
	<td style="width:100px;">
		<!--投稿日時--><center>2011-10-24 13:49:28</center>
	</td>
	<td style="width:200px;">
		@yaotti<br />(Increments Inc 所属)<br><img width="80" height="80" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698">
	</td>
	<td style="width:150px;">
		<!--タグ-->
		<center><b>[Ruby]</b> <b>[Redis]</b> </center>
	</td>
	<td style="width:350px;">
		<!--本文-->
		<div style="width:350px;height:150px;overflow-x:hidden;overflow-y:scroll;"><p>GitHubで開発，利用されている <a href="https://github.com/resque/resque" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/resque/resque</a> <br>
組込まれているwebビューが見やすく，失敗したタスクのリトライや削除もできるようになっている．<br>
Resqueを使ってTwitterに投稿するのは以下のように書く</p>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre><span></span><span class="c1"># tweet.rb</span>
<span class="nb">require</span> <span class="s1">'twitter'</span>
<span class="k">class</span> <span class="nc">Tweet</span>
  <span class="vi">@queue</span> <span class="o">=</span> <span class="ss">:post_to_twitter</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">perform</span><span class="p">(</span><span class="n">oauth_id</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
    <span class="n">oauth</span> <span class="o">=</span> <span class="no">Oauth</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">oauth_id</span><span class="p">)</span>
    <span class="no">Twitter</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
      <span class="n">config</span><span class="o">.</span><span class="n">consumer_key</span>       <span class="o">=</span> <span class="no">CONSUMER_KEY</span>
      <span class="n">config</span><span class="o">.</span><span class="n">consumer_secret</span>    <span class="o">=</span> <span class="no">CONSUMER_SECRET</span>
      <span class="n">config</span><span class="o">.</span><span class="n">oauth_token</span>        <span class="o">=</span> <span class="n">oauth</span><span class="o">.</span><span class="n">token</span>
      <span class="n">config</span><span class="o">.</span><span class="n">oauth_token_secret</span> <span class="o">=</span> <span class="n">oauth</span><span class="o">.</span><span class="n">secret</span>
    <span class="k">end</span>
    <span class="n">twitter_client</span> <span class="o">=</span> <span class="no">Twitter</span><span class="o">::</span><span class="no">Client</span><span class="o">.</span><span class="n">new</span>
    <span class="n">twitter_client</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># enqueue</span>
<span class="no">Resque</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="no">Tweet</span><span class="p">,</span> <span class="n">oauth_id</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
</pre></div></div>
</div>
	</td>
</tr>
</table>
<br />
	</body>
</html>
